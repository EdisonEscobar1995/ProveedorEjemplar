{"version":3,"sources":["../static/js/5.41b6b989.chunk.js","components/shared/H1.js","components/ManagerTeamSurvey/ManagerTeamSurveyContainer.js","components/ManagerTeamSurvey/formData.js","components/ManagerTeamSurvey/ManagerTeamSurvey.js","pages/ManagerTeamSurvey.js"],"names":["webpackJsonp","1212","module","__webpack_exports__","__webpack_require__","H1","_ref","text","translate","__WEBPACK_IMPORTED_MODULE_0_react___default","a","createElement","H1Style","__WEBPACK_IMPORTED_MODULE_2__FormattedMessage__","id","__WEBPACK_IMPORTED_MODULE_0_react__","n","__WEBPACK_IMPORTED_MODULE_1_styled_components__","_templateObject","strings","raw","Object","freeze","defineProperties","value","h1","props","theme","color","primary","spaces","main","1448","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_1_react_redux__","__WEBPACK_IMPORTED_MODULE_2_antd__","__WEBPACK_IMPORTED_MODULE_3_react_router_dom__","__WEBPACK_IMPORTED_MODULE_4__state_ManagerTeamSurvey_action__","__WEBPACK_IMPORTED_MODULE_5__formData__","__WEBPACK_IMPORTED_MODULE_6__shared_GenericForm__","__WEBPACK_IMPORTED_MODULE_7__ManagerTeamSurvey__","__WEBPACK_IMPORTED_MODULE_8__shared_H1__","_createClass","target","i","length","descriptor","defineProperty","key","protoProps","staticProps","ManagerTeamSurveyContainer","_Component","_temp","_this","_ret","this","_len","arguments","args","Array","_key","getPrototypeOf","apply","concat","getDataSupplier","path","location","pathname","dataPath","split","filterSupplier","values","supplier","filterManagerTeamSurvey","supplierId","getManagerTeamSurvey","nextProps","data","spinning","loading","assign","formData","mapStateToProps","state","managerTeamSurvey","1449","form","years","suppliers","masters","handleReset","resetFields","FormData","span","type","label","options","map","item","name","handleChange","allowClear","valuesToClean","supply","category","country","Supply","getFieldsValue","Category","Country","suppliersAux","idSuppliers","forEach","idSupplier","indexOf","businessName","isEspecial","push","CompanySize","companySize","justify","buttonType","handleclick","finishVisible","splice","State","states","Managers","managers","1450","__WEBPACK_IMPORTED_MODULE_1_antd__","__WEBPACK_IMPORTED_MODULE_2__utils_style__","__WEBPACK_IMPORTED_MODULE_3__utils_const__","__WEBPACK_IMPORTED_MODULE_4__shared_Confirm__","Column","Option","TextArea","ManagerTeamSurvey","getHelp","title","isTab","placement","style","marginLeft","marginRight","getComment","record","defaultValue","comment","readOnly","rows","onChange","e","changeComment","onBlur","changeAnswer","getScore","score","labelInValue","width","EvaluationScale","option","error","getSupplierColumns","render","find","idState","whoEvaluate","idSupply","element","idCategory","idCompanySize","column","dataIndex","setAnswerCommentState","_this$props","setCommentState","suppliersByCall","idSupplierByCall","auxIdSupplier","idSupplySpecial","answer","ManagerTeamAnswer","_this$props2","setComment","setScore","idEvaluationScale","_props","finishManagerTeamSurvey","helpText","filter","visible","dataSource","yearCall","method","439","__WEBPACK_IMPORTED_MODULE_1__components_ManagerTeamSurvey_ManagerTeamSurveyContainer__"],"mappings":"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","file":"static/js/5.41b6b989.chunk.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ 1212:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_styled_components__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__FormattedMessage__ = __webpack_require__(55);\nvar _templateObject=_taggedTemplateLiteral(['\\n  color: ',';\\n  margin-bottom: ',';\\n'],['\\n  color: ',';\\n  margin-bottom: ',';\\n']);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}var H1Style=__WEBPACK_IMPORTED_MODULE_1_styled_components__[\"c\" /* default */].h1(_templateObject,function(props){return props.theme.color.primary;},function(props){return props.theme.spaces.main;});function H1(_ref){var text=_ref.text,translate=_ref.translate;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(H1Style,null,translate?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__FormattedMessage__[\"a\" /* default */],{id:text}):text);}/* harmony default export */ __webpack_exports__[\"a\"] = (H1);\n\n/***/ }),\n\n/***/ 1448:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_redux__ = __webpack_require__(129);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_router_dom__ = __webpack_require__(101);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__state_ManagerTeamSurvey_action__ = __webpack_require__(408);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__formData__ = __webpack_require__(1449);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__shared_GenericForm__ = __webpack_require__(392);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ManagerTeamSurvey__ = __webpack_require__(1450);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__shared_H1__ = __webpack_require__(1212);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var ManagerTeamSurveyContainer=function(_Component){_inherits(ManagerTeamSurveyContainer,_Component);function ManagerTeamSurveyContainer(){var _ref;var _temp,_this,_ret;_classCallCheck(this,ManagerTeamSurveyContainer);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ManagerTeamSurveyContainer.__proto__||Object.getPrototypeOf(ManagerTeamSurveyContainer)).call.apply(_ref,[this].concat(args))),_this),_this.getDataSupplier=function(){var path=_this.props.location.pathname;var dataPath=path.split('/');if(dataPath.length>2){return dataPath[2];}return'';},_this.filterSupplier=function(value){var values={supplier:value};_this.props.filterManagerTeamSurvey(values);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(ManagerTeamSurveyContainer,[{key:'componentDidMount',value:function componentDidMount(){var supplierId=this.getDataSupplier();this.props.getManagerTeamSurvey('',supplierId);if(supplierId!==''){this.filterSupplier(supplierId);}}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){if(nextProps.data.supplierId!==this.props.data.supplierId){this.filterSupplier(nextProps.data.supplierId);}}},{key:'render',value:function render(){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"u\" /* Spin */],{spinning:this.props.loading},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__shared_H1__[\"a\" /* default */],{text:'Calificaci\\xF3n comit\\xE9 gerencial'}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__shared_GenericForm__[\"a\" /* default */],Object.assign({},this.props,{formData:__WEBPACK_IMPORTED_MODULE_5__formData__[\"a\" /* default */]})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__ManagerTeamSurvey__[\"a\" /* default */],this.props));}}]);return ManagerTeamSurveyContainer;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);var mapStateToProps=function mapStateToProps(state){return{data:state.managerTeamSurvey.data,loading:state.managerTeamSurvey.loading};};/* harmony default export */ __webpack_exports__[\"a\"] = (Object(__WEBPACK_IMPORTED_MODULE_3_react_router_dom__[\"e\" /* withRouter */])(Object(__WEBPACK_IMPORTED_MODULE_1_react_redux__[\"b\" /* connect */])(mapStateToProps,__WEBPACK_IMPORTED_MODULE_4__state_ManagerTeamSurvey_action__)(ManagerTeamSurveyContainer)));\n\n/***/ }),\n\n/***/ 1449:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar formData=function formData(_ref){var data=_ref.data,getManagerTeamSurvey=_ref.getManagerTeamSurvey,filterManagerTeamSurvey=_ref.filterManagerTeamSurvey,form=_ref.form;var years=data.years,suppliers=data.suppliers,masters=data.masters,supplierId=data.supplierId;var handleReset=function handleReset(){form.resetFields();getManagerTeamSurvey();};var getUniqueSuppliers=function getUniqueSuppliers(){var suppliersAux=[];var idSuppliers=[];if(suppliers){suppliers.forEach(function(item){var idSupplier=item.id;if(idSuppliers.indexOf(idSupplier)===-1){item.name=item.businessName;if(item.isEspecial){item.name=item.businessName+' - '+item.supply;}idSuppliers.push(idSupplier);suppliersAux.push(item);}});}return suppliersAux;};var FormData=[{key:1.1,value:[{span:8,type:'select',label:'Año',key:'year',value:years&&years.length>0?years[0]:'',options:years?years.map(function(item){return{id:item,name:item};}):[],handleChange:getManagerTeamSurvey,allowClear:false,valuesToClean:{supply:{value:''},category:{value:''},country:{value:''},supplier:{value:''}}},{span:8,type:'select',label:'Tipo de suministro',key:'supply',value:'',options:masters?masters.Supply:[],handleChange:function handleChange(value){var values=Object.assign({},form.getFieldsValue(),{supply:value});filterManagerTeamSurvey(values);}},{span:8,type:'select',label:'Categoría',key:'category',value:'',options:masters?masters.Category:[],handleChange:function handleChange(value){var values=Object.assign({},form.getFieldsValue(),{category:value});filterManagerTeamSurvey(values);}}]},{key:1.2,value:[{span:8,type:'select',label:'País',key:'country',value:'',options:masters?masters.Country:[],handleChange:function handleChange(value){var values=Object.assign({},form.getFieldsValue(),{country:value});filterManagerTeamSurvey(values);}},{span:8,type:'select',label:'Proveedor',key:'supplier',value:supplierId,options:getUniqueSuppliers(),handleChange:function handleChange(value){var values=Object.assign({},form.getFieldsValue(),{supplier:value});filterManagerTeamSurvey(values);}},{span:8,type:'select',label:'Tamaño',key:'companySize',value:'',options:masters?masters.CompanySize:[],handleChange:function handleChange(value){var values=Object.assign({},form.getFieldsValue(),{companySize:value});filterManagerTeamSurvey(values);}}]},{key:1.4,justify:'center',value:[{span:2,type:'button',label:'Limpiar',key:'clear',buttonType:'primary',handleclick:handleReset}]}];if(data.finishVisible){FormData.splice(2,0,{key:1.3,value:[{span:8,type:'select',label:'Estado',key:'states',value:'',options:masters?masters.State:[],handleChange:function handleChange(value){var values=Object.assign({},form.getFieldsValue(),{states:value});filterManagerTeamSurvey(values);}}]});FormData[2].value.splice(1,0,{span:8,type:'select',label:'Gerente',key:'managers',value:'',options:masters?masters.Managers:[],handleChange:function handleChange(value){var values=Object.assign({},form.getFieldsValue(),{managers:value});filterManagerTeamSurvey(values);}});}return FormData;};/* harmony default export */ __webpack_exports__[\"a\"] = (formData);\n\n/***/ }),\n\n/***/ 1450:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_style__ = __webpack_require__(400);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_const__ = __webpack_require__(212);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__shared_Confirm__ = __webpack_require__(210);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Column=__WEBPACK_IMPORTED_MODULE_1_antd__[\"w\" /* Table */].Column;var Option=__WEBPACK_IMPORTED_MODULE_1_antd__[\"t\" /* Select */].Option;var TextArea=__WEBPACK_IMPORTED_MODULE_1_antd__[\"i\" /* Input */].TextArea;var ManagerTeamSurvey=function(_Component){_inherits(ManagerTeamSurvey,_Component);function ManagerTeamSurvey(){var _ref;var _temp,_this,_ret;_classCallCheck(this,ManagerTeamSurvey);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ManagerTeamSurvey.__proto__||Object.getPrototypeOf(ManagerTeamSurvey)).call.apply(_ref,[this].concat(args))),_this),_this.getHelp=function(title,isTab){return title?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"y\" /* Tooltip */],{placement:'topRight',title:title},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"h\" /* Icon */],{style:{marginLeft:5,marginRight:0,color:isTab?'#fff':'#37907c'},type:'question-circle'+(isTab?'-o':'')})):null;},_this.getComment=function(record){var defaultValue=record.comment.value;return!record.readOnly?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(TextArea,{rows:4,defaultValue:defaultValue,value:record.comment.value,onChange:function onChange(e){return _this.changeComment(e,record);},onBlur:function onBlur(e){return _this.changeAnswer(record,e.target.value,__WEBPACK_IMPORTED_MODULE_3__utils_const__[\"b\" /* COMMENT */]);}}):defaultValue;},_this.getScore=function(record){var data=_this.props.data;var masters=data.masters;var defaultValue=record.score.defaultValue;return!record.readOnly?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"t\" /* Select */],{labelInValue:true,key:record.id,defaultValue:defaultValue,allowClear:false,style:{width:50},onChange:function onChange(value){_this.changeAnswer(record,value,__WEBPACK_IMPORTED_MODULE_3__utils_const__[\"i\" /* SCORE */]);}},masters.EvaluationScale.map(function(option){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Option,{key:option.id,value:option.id},option.name);})),record.score.error?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__utils_style__[\"b\" /* ErrorStyle */],null,'Campo requerido'):null):defaultValue.name;},_this.getSupplierColumns=function(){var data=_this.props.data;var masters=data.masters;var columns=[{title:'Estado',key:'surveyState',render:function render(text,record){return masters.State.find(function(state){return state.id===record.idState;}).name;}},{title:'Evaluado por',key:'manager',render:function render(text,record){return record.whoEvaluate;}},{title:'Nombre del proveedor',key:'businessName'},{title:'Tipo de suministro',key:'idSupply',render:function render(text,record){if(record.isEspecial){return record.supply;}return masters.Supply.find(function(supply){return supply.id===record.idSupply;}).name;}},{title:'Categoría',key:'idCategory',render:function render(text,record){var category=masters.Category.find(function(element){return element.id===record.idCategory;});return category?category.name:'';}},{title:'Tamaño de empresa',key:'idCompanySize',render:function render(text,record){var companySize=masters.CompanySize.find(function(element){return element.id===record.idCompanySize;});return companySize?companySize.name:'';}},{title:'Calificación',key:'score.value',render:function render(text,record){return _this.getScore(record);}},{title:'Comentarios',key:'comment.value',render:function render(text,record){return _this.getComment(record);}}];return columns.map(function(column){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Column,{title:column.title,key:column.key,dataIndex:column.key,render:column.render});});},_this.setAnswerCommentState=function(record,value){var _this$props=_this.props,data=_this$props.data,setCommentState=_this$props.setCommentState;var suppliersByCall=data.suppliersByCall,masters=data.masters;var idSupplier=record.id;var idSupplierByCall=void 0;if(record.isEspecial){var auxIdSupplier=record.id.split('_')[0];idSupplierByCall=suppliersByCall.find(function(element){return element.idSupplier===auxIdSupplier&&element.idSupplySpecial===record.idSupplySpecial;}).id;}else{idSupplierByCall=suppliersByCall.find(function(element){return element.idSupplier===idSupplier;}).id;}var answer=masters.ManagerTeamAnswer.find(function(element){return element.idSupplierByCall===idSupplierByCall;});if(!answer){answer={idSupplierByCall:idSupplierByCall};}setCommentState(idSupplier,value,answer);},_this.changeComment=function(e,record){_this.setAnswerCommentState(record,e.target.value);},_this.changeAnswer=function(record,value,type){var _this$props2=_this.props,data=_this$props2.data,setComment=_this$props2.setComment,setScore=_this$props2.setScore;var suppliersByCall=data.suppliersByCall,masters=data.masters;var idSupplier=record.id;var idSupplierByCall=void 0;if(record.isEspecial){var auxIdSupplier=record.id.split('_')[0];idSupplierByCall=suppliersByCall.find(function(element){return element.idSupplier===auxIdSupplier&&element.idSupplySpecial===record.idSupplySpecial;}).id;}else{idSupplierByCall=suppliersByCall.find(function(element){return element.idSupplier===idSupplier;}).id;}var answer=masters.ManagerTeamAnswer.find(function(element){return element.idSupplierByCall===idSupplierByCall;});if(!answer){answer={idSupplierByCall:idSupplierByCall};}if(type===__WEBPACK_IMPORTED_MODULE_3__utils_const__[\"i\" /* SCORE */]){answer.idEvaluationScale=value.key;answer.comment=record.comment.value;answer.isEspecial=record.isEspecial?'true':'';setScore(idSupplier,value,answer);}else{answer.idEvaluationScale=record.score.defaultValue.key;answer.comment=value;answer.isEspecial=record.isEspecial?'true':'';setComment(idSupplier,value,answer);}},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(ManagerTeamSurvey,[{key:'render',value:function render(){var _props=this.props,data=_props.data,finishManagerTeamSurvey=_props.finishManagerTeamSurvey;var suppliers=data.suppliers,masters=data.masters;return suppliers?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',null,'Escala de evaluaci\\xF3n',this.getHelp(masters.EvaluationScale.map(function(element){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,element.name+': '+element.helpText);})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('strong',{style:{marginLeft:20}},'Total resultados: '),suppliers.filter(function(supplier){return supplier.visible;}).length),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"w\" /* Table */],{dataSource:suppliers.filter(function(supplier){return supplier.visible;})},this.getSupplierColumns()),suppliers.filter(function(element){return element.visible===false;}).length===0&&data.finishVisible&&data.yearCall===(data.years&&data.years.length>0?data.years[0]:'')?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"s\" /* Row */],{type:'flex',justify:'center'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"e\" /* Col */],{span:2},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__shared_Confirm__[\"a\" /* default */],{title:'\\xBFConfirma que desea finalizar?',method:function method(){return finishManagerTeamSurvey();}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"b\" /* Button */],{type:'primary'},'Finalizar')))):null):null;}}]);return ManagerTeamSurvey;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"a\"] = (ManagerTeamSurvey);\n\n/***/ }),\n\n/***/ 439:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_ManagerTeamSurvey_ManagerTeamSurveyContainer__ = __webpack_require__(1448);\nfunction ManagerTeamSurvey(){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1__components_ManagerTeamSurvey_ManagerTeamSurveyContainer__[\"a\" /* default */],null);}/* harmony default export */ __webpack_exports__[\"default\"] = (ManagerTeamSurvey);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/5.41b6b989.chunk.js","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport FormattedMessage from './FormattedMessage';\r\n\r\nconst H1Style = styled.h1`\r\n  color: ${props => props.theme.color.primary};\r\n  margin-bottom: ${props => props.theme.spaces.main};\r\n`;\r\n\r\nfunction H1({ text, translate }) {\r\n  return (\r\n    <H1Style>\r\n      {\r\n        translate ?\r\n          <FormattedMessage id={text} />\r\n          :\r\n          text\r\n      }\r\n    </H1Style>\r\n  );\r\n}\r\nexport default H1;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/shared/H1.js","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Spin } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport * as actions from '../../state/ManagerTeamSurvey/action';\r\nimport formData from './formData';\r\nimport GenericForm from '../shared/GenericForm';\r\nimport ManagerTeamSurvey from './ManagerTeamSurvey';\r\nimport H1 from '../shared/H1';\r\n\r\nclass ManagerTeamSurveyContainer extends Component {\r\n  componentDidMount() {\r\n    const supplierId = this.getDataSupplier();\r\n    this.props.getManagerTeamSurvey('', supplierId);\r\n    if (supplierId !== '') {\r\n      this.filterSupplier(supplierId);\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.data.supplierId !== this.props.data.supplierId) {\r\n      this.filterSupplier(nextProps.data.supplierId);\r\n    }\r\n  }\r\n\r\n  getDataSupplier = () => {\r\n    const path = this.props.location.pathname;\r\n    const dataPath = path.split('/');\r\n    if (dataPath.length > 2) {\r\n      return dataPath[2];\r\n    }\r\n    return '';\r\n  }\r\n\r\n  filterSupplier = (value) => {\r\n    const values = { supplier: value };\r\n    this.props.filterManagerTeamSurvey(values);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Spin spinning={this.props.loading}>\r\n        <H1\r\n          text=\"Calificación comité gerencial\"\r\n        />\r\n        <GenericForm\r\n          {...this.props}\r\n          formData={formData}\r\n        />\r\n        <ManagerTeamSurvey\r\n          {...this.props}\r\n        />\r\n      </Spin>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  data: state.managerTeamSurvey.data,\r\n  loading: state.managerTeamSurvey.loading,\r\n});\r\n\r\nexport default withRouter(connect(\r\n  mapStateToProps,\r\n  actions,\r\n)(ManagerTeamSurveyContainer));\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ManagerTeamSurvey/ManagerTeamSurveyContainer.js","const formData = ({ data, getManagerTeamSurvey, filterManagerTeamSurvey, form }) => {\r\n  const {\r\n    years,\r\n    suppliers,\r\n    masters,\r\n    supplierId,\r\n  } = data;\r\n\r\n  const handleReset = () => {\r\n    form.resetFields();\r\n    getManagerTeamSurvey();\r\n  };\r\n\r\n  const getUniqueSuppliers = () => {\r\n    const suppliersAux = [];\r\n    const idSuppliers = [];\r\n    if (suppliers) {\r\n      suppliers.forEach((item) => {\r\n        const idSupplier = item.id;\r\n        if (idSuppliers.indexOf(idSupplier) === -1) {\r\n          item.name = item.businessName;\r\n          if (item.isEspecial) {\r\n            item.name = `${item.businessName} - ${item.supply}`;\r\n          }\r\n          idSuppliers.push(idSupplier);\r\n          suppliersAux.push(item);\r\n        }\r\n      });\r\n    }\r\n    return suppliersAux;\r\n  };\r\n\r\n  const FormData = [\r\n    {\r\n      key: 1.1,\r\n      value: [\r\n        {\r\n          span: 8,\r\n          type: 'select',\r\n          label: 'Año',\r\n          key: 'year',\r\n          value: years && years.length > 0 ? years[0] : '',\r\n          options: years ? years.map(item => ({ id: item, name: item })) : [],\r\n          handleChange: getManagerTeamSurvey,\r\n          allowClear: false,\r\n          valuesToClean: {\r\n            supply: { value: '' },\r\n            category: { value: '' },\r\n            country: { value: '' },\r\n            supplier: { value: '' },\r\n          },\r\n        },\r\n        {\r\n          span: 8,\r\n          type: 'select',\r\n          label: 'Tipo de suministro',\r\n          key: 'supply',\r\n          value: '',\r\n          options: masters ? masters.Supply : [],\r\n          handleChange: (value) => {\r\n            const values = { ...form.getFieldsValue(), supply: value };\r\n            filterManagerTeamSurvey(values);\r\n          },\r\n        },\r\n        {\r\n          span: 8,\r\n          type: 'select',\r\n          label: 'Categoría',\r\n          key: 'category',\r\n          value: '',\r\n          options: masters ? masters.Category : [],\r\n          handleChange: (value) => {\r\n            const values = { ...form.getFieldsValue(), category: value };\r\n            filterManagerTeamSurvey(values);\r\n          },\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      key: 1.2,\r\n      value: [\r\n        {\r\n          span: 8,\r\n          type: 'select',\r\n          label: 'País',\r\n          key: 'country',\r\n          value: '',\r\n          options: masters ? masters.Country : [],\r\n          handleChange: (value) => {\r\n            const values = { ...form.getFieldsValue(), country: value };\r\n            filterManagerTeamSurvey(values);\r\n          },\r\n        },\r\n        {\r\n          span: 8,\r\n          type: 'select',\r\n          label: 'Proveedor',\r\n          key: 'supplier',\r\n          value: supplierId,\r\n          options: getUniqueSuppliers(),\r\n          handleChange: (value) => {\r\n            const values = { ...form.getFieldsValue(), supplier: value };\r\n            filterManagerTeamSurvey(values);\r\n          },\r\n        },\r\n        {\r\n          span: 8,\r\n          type: 'select',\r\n          label: 'Tamaño',\r\n          key: 'companySize',\r\n          value: '',\r\n          options: masters ? masters.CompanySize : [],\r\n          handleChange: (value) => {\r\n            const values = { ...form.getFieldsValue(), companySize: value };\r\n            filterManagerTeamSurvey(values);\r\n          },\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      key: 1.4,\r\n      justify: 'center',\r\n      value: [\r\n        {\r\n          span: 2,\r\n          type: 'button',\r\n          label: 'Limpiar',\r\n          key: 'clear',\r\n          buttonType: 'primary',\r\n          handleclick: handleReset,\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  if (data.finishVisible) {\r\n    FormData.splice(2, 0,\r\n      {\r\n        key: 1.3,\r\n        value: [\r\n          {\r\n            span: 8,\r\n            type: 'select',\r\n            label: 'Estado',\r\n            key: 'states',\r\n            value: '',\r\n            options: masters ? masters.State : [],\r\n            handleChange: (value) => {\r\n              const values = { ...form.getFieldsValue(), states: value };\r\n              filterManagerTeamSurvey(values);\r\n            },\r\n          },\r\n        ],\r\n      });\r\n    FormData[2].value.splice(1, 0, {\r\n      span: 8,\r\n      type: 'select',\r\n      label: 'Gerente',\r\n      key: 'managers',\r\n      value: '',\r\n      options: masters ? masters.Managers : [],\r\n      handleChange: (value) => {\r\n        const values = { ...form.getFieldsValue(), managers: value };\r\n        filterManagerTeamSurvey(values);\r\n      },\r\n    });\r\n  }\r\n\r\n  return FormData;\r\n};\r\n\r\nexport default formData;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ManagerTeamSurvey/formData.js","import React, { Component } from 'react';\r\nimport { Table, Tooltip,\r\n  Icon, Select, Input, Button,\r\n  Row, Col,\r\n} from 'antd';\r\nimport { ErrorStyle } from '../../utils/style';\r\nimport { COMMENT, SCORE } from '../../utils/const';\r\nimport Confirm from '../shared/Confirm';\r\n\r\nconst { Column } = Table;\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nclass ManagerTeamSurvey extends Component {\r\n  getHelp = (title, isTab) => (\r\n    title ? (\r\n      <Tooltip placement=\"topRight\" title={title}>\r\n        <Icon\r\n          style={{\r\n            marginLeft: 5,\r\n            marginRight: 0,\r\n            color: isTab ? '#fff' : '#37907c',\r\n          }}\r\n          type={`question-circle${isTab ? '-o' : ''}`}\r\n        />\r\n      </Tooltip>\r\n    ) : null\r\n  )\r\n\r\n  getComment = (record) => {\r\n    const defaultValue = record.comment.value;\r\n    return !record.readOnly ? (\r\n      <TextArea\r\n        rows={4}\r\n        defaultValue={defaultValue}\r\n        value={record.comment.value}\r\n        onChange={e => this.changeComment(e, record)}\r\n        onBlur={e => this.changeAnswer(record, e.target.value, COMMENT)}\r\n      />\r\n    ) : defaultValue;\r\n  }\r\n\r\n  getScore = (record) => {\r\n    const { data } = this.props;\r\n    const { masters } = data;\r\n\r\n    const defaultValue = record.score.defaultValue;\r\n    return !record.readOnly ? (\r\n      <div>\r\n        <Select\r\n          labelInValue\r\n          key={record.id}\r\n          defaultValue={defaultValue}\r\n          allowClear={false}\r\n          style={{ width: 50 }}\r\n          onChange={(value) => {\r\n            this.changeAnswer(record, value, SCORE);\r\n          }}\r\n        >\r\n          {\r\n            masters.EvaluationScale.map(option => (\r\n              <Option key={option.id} value={option.id}>\r\n                {option.name}\r\n              </Option>\r\n            ))\r\n          }\r\n        </Select>\r\n        {\r\n          record.score.error ? (\r\n            <ErrorStyle>Campo requerido</ErrorStyle>\r\n          ) : null\r\n        }\r\n      </div>\r\n    ) : defaultValue.name;\r\n  }\r\n\r\n  getSupplierColumns = () => {\r\n    const { data } = this.props;\r\n    const { masters } = data;\r\n\r\n    const columns = [{\r\n      title: 'Estado',\r\n      key: 'surveyState',\r\n      render(text, record) {\r\n        return masters.State.find(state => state.id === record.idState).name;\r\n      },\r\n    }, {\r\n      title: 'Evaluado por',\r\n      key: 'manager',\r\n      render(text, record) {\r\n        return record.whoEvaluate;\r\n      },\r\n    }, {\r\n      title: 'Nombre del proveedor',\r\n      key: 'businessName',\r\n    }, {\r\n      title: 'Tipo de suministro',\r\n      key: 'idSupply',\r\n      render(text, record) {\r\n        if (record.isEspecial) {\r\n          return record.supply;\r\n        }\r\n        return masters.Supply.find(supply => supply.id === record.idSupply).name;\r\n      },\r\n    }, {\r\n      title: 'Categoría',\r\n      key: 'idCategory',\r\n      render(text, record) {\r\n        const category = masters.Category.find(element => element.id === record.idCategory);\r\n        return category ? category.name : '';\r\n      },\r\n    }, {\r\n      title: 'Tamaño de empresa',\r\n      key: 'idCompanySize',\r\n      render(text, record) {\r\n        const companySize = masters.CompanySize.find(\r\n          element => element.id === record.idCompanySize);\r\n        return companySize ? companySize.name : '';\r\n      },\r\n    }, {\r\n      title: 'Calificación',\r\n      key: 'score.value',\r\n      render: (text, record) => this.getScore(record),\r\n    }, {\r\n      title: 'Comentarios',\r\n      key: 'comment.value',\r\n      render: (text, record) => this.getComment(record),\r\n    }];\r\n\r\n    return columns.map(column => (\r\n      <Column\r\n        title={column.title}\r\n        key={column.key}\r\n        dataIndex={column.key}\r\n        render={column.render}\r\n      />\r\n    ));\r\n  }\r\n\r\n  setAnswerCommentState = (record, value) => {\r\n    const { data, setCommentState } = this.props;\r\n    const { suppliersByCall, masters } = data;\r\n    const idSupplier = record.id;\r\n    let idSupplierByCall;\r\n    if (record.isEspecial) {\r\n      const auxIdSupplier = record.id.split('_')[0];\r\n      idSupplierByCall = suppliersByCall.find(element =>\r\n        (element.idSupplier === auxIdSupplier\r\n          && element.idSupplySpecial === record.idSupplySpecial)).id;\r\n    } else {\r\n      idSupplierByCall = suppliersByCall.find(element =>\r\n        element.idSupplier === idSupplier).id;\r\n    }\r\n\r\n    let answer = masters.ManagerTeamAnswer.find(element =>\r\n      element.idSupplierByCall === idSupplierByCall);\r\n    if (!answer) {\r\n      answer = {\r\n        idSupplierByCall,\r\n      };\r\n    }\r\n    setCommentState(idSupplier, value, answer);\r\n  }\r\n\r\n  changeComment = (e, record) => {\r\n    this.setAnswerCommentState(record, e.target.value);\r\n  }\r\n\r\n  changeAnswer = (record, value, type) => {\r\n    const { data, setComment, setScore } = this.props;\r\n    const { suppliersByCall, masters } = data;\r\n    const idSupplier = record.id;\r\n    let idSupplierByCall;\r\n    if (record.isEspecial) {\r\n      const auxIdSupplier = record.id.split('_')[0];\r\n      idSupplierByCall = suppliersByCall.find(element =>\r\n        (element.idSupplier === auxIdSupplier\r\n          && element.idSupplySpecial === record.idSupplySpecial)).id;\r\n    } else {\r\n      idSupplierByCall = suppliersByCall.find(element =>\r\n        element.idSupplier === idSupplier).id;\r\n    }\r\n    let answer = masters.ManagerTeamAnswer.find(element =>\r\n      element.idSupplierByCall === idSupplierByCall);\r\n    if (!answer) {\r\n      answer = {\r\n        idSupplierByCall,\r\n      };\r\n    }\r\n    if (type === SCORE) {\r\n      answer.idEvaluationScale = value.key;\r\n      answer.comment = record.comment.value;\r\n      answer.isEspecial = record.isEspecial ? 'true' : '';\r\n      setScore(idSupplier, value, answer);\r\n    } else {\r\n      answer.idEvaluationScale = record.score.defaultValue.key;\r\n      answer.comment = value;\r\n      answer.isEspecial = record.isEspecial ? 'true' : '';\r\n      setComment(idSupplier, value, answer);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { data, finishManagerTeamSurvey } = this.props;\r\n    const { suppliers, masters } = data;\r\n    return suppliers ? (\r\n      <div>\r\n        <span>\r\n          Escala de evaluación\r\n          {\r\n            this.getHelp(\r\n              masters.EvaluationScale.map(element => (\r\n                <div>{`${element.name}: ${element.helpText}`}</div>\r\n              )),\r\n            )\r\n          }\r\n          <strong style={{ marginLeft: 20 }}>Total resultados: </strong>\r\n          {suppliers.filter(supplier => supplier.visible).length}\r\n        </span>\r\n        <Table\r\n          dataSource={suppliers.filter(supplier => supplier.visible)}\r\n        >\r\n          {\r\n            this.getSupplierColumns()\r\n          }\r\n        </Table>\r\n        {\r\n          suppliers.filter(element => element.visible === false).length === 0\r\n            && data.finishVisible\r\n            && data.yearCall === (data.years && data.years.length > 0 ? data.years[0] : '') ? (\r\n              <Row type=\"flex\" justify=\"center\">\r\n                <Col span={2}>\r\n                  <Confirm\r\n                    title=\"¿Confirma que desea finalizar?\"\r\n                    method={() => finishManagerTeamSurvey()}\r\n                  >\r\n                    <Button\r\n                      type=\"primary\"\r\n                    >\r\n                    Finalizar\r\n                    </Button>\r\n                  </Confirm>\r\n                </Col>\r\n              </Row>\r\n            ) : null\r\n        }\r\n      </div>\r\n    ) : null;\r\n  }\r\n}\r\n\r\nexport default ManagerTeamSurvey;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ManagerTeamSurvey/ManagerTeamSurvey.js","import React from 'react';\r\nimport ManagerTeamSurveyContainer from '../components/ManagerTeamSurvey/ManagerTeamSurveyContainer';\r\n\r\nfunction ManagerTeamSurvey() {\r\n  return (\r\n    <ManagerTeamSurveyContainer />\r\n  );\r\n}\r\n\r\nexport default ManagerTeamSurvey;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ManagerTeamSurvey.js"],"sourceRoot":""}