webpackJsonp([29],{1207:function(n,t,e){"use strict";function i(){return o.a.createElement(u.a,null)}Object.defineProperty(t,"__esModule",{value:!0});var r=e(0),o=e.n(r),u=e(1492);t.default=i},1218:function(n,t,e){"use strict";e.d(t,"c",function(){return r}),e.d(t,"b",function(){return o}),e.d(t,"d",function(){return u}),e.d(t,"a",function(){return a});var i=e(82),r=function(n){return i.a.get("Criterion?action=getAll&idDimension="+(n||""))},o=function(){return i.a.get("Criterion?action=getAll")},u=function(n){return i.a.post("Criterion?action=save",n)},a=function(n){return i.a.get("Criterion?action=delete",{params:{id:n.id}})}},1221:function(n,t,e){"use strict";function i(n){return o.a.get("xaServicios.xsp?Open&action=getDimensionsBySurvey&idSurvey="+n)}e.d(t,"b",function(){return u}),e.d(t,"c",function(){return i}),e.d(t,"d",function(){return a}),e.d(t,"a",function(){return c});var r=e(82),o=e(209),u=function(){return r.a.get("Dimension?action=getAll")},a=function(n){return r.a.post("Dimension?action=save",n)},c=function(n){return r.a.get("Dimension?action=delete",{params:{id:n.id}})}},1229:function(n,t,e){"use strict";e.d(t,"b",function(){return r}),e.d(t,"c",function(){return o}),e.d(t,"e",function(){return u}),e.d(t,"a",function(){return a}),e.d(t,"d",function(){return c});var i=e(82),r=function(){return i.a.get("Question?action=getAll")},o=function(n){return i.a.get("Question?action=get&id="+n)},u=function(n){return i.a.post("Question?action=save",n)},a=function(n){return i.a.get("Question?action=delete&id="+n.id)},c=function(n){return i.a.get("Question?action=getAll&idDimension="+n)}},1262:function(n,t,e){"use strict";function i(n){return function(t){var e=[Object(h.b)(),Object(g.b)(),Object(m.c)(n),Object(m.b)(),Object(b.a)(n)];Object(y.a)(t,O,l.a.all,e).then(function(n){var e=n[0].data.data,i=n[1].data.data,r=n[2].data.data,o=n[3].data.data,u=n[4].data.data;u=u.map(function(n){return Object.assign({},n,{key:n.id})});var a=o.filter(function(n){return n.id!==r.id}).map(function(n){return Object.assign({},n,{name:n.wording})});Object(y.a)(t,O,b.a,r.dependOfQuestion).then(function(n){var o=n.data.data,c=o.map(function(n){return Object.assign({},n,{name:n.wording})});t(E(r,e,i,a,u,c))}).catch(function(){t(w())})}).catch(function(n){t(w(n))})}}function r(n){return{type:p.u,value:n}}function o(n){return{type:p.i,value:n}}function u(){return{type:p.e}}function a(n){return{type:p.g,value:n.target.value}}function c(n){return{type:p.t,data:n}}function s(n){return function(t){Object(y.a)(t,D,b.b,n).then(function(){t(S())}).catch(function(){t(w())})}}function d(n,t){return function(e,i){n.idSurvey=i().question.editData.idSurvey,n.options=i().question.options,Object(y.a)(e,D,m.e,n).then(function(n){var t=n.data.data;e(c(t))}).then(function(){if("Cerrada"===n.type){if(i().question.options.filter(function(n){return""===n.wording}).length>0)return void e(Object(v.a)("Las opciones de respuesta son obligatorias.","warning"))}t&&t()}).catch(function(){e(w())})}}Object.defineProperty(t,"__esModule",{value:!0}),e.d(t,"getAllQuestions",function(){return Q}),e.d(t,"getQuestion",function(){return i}),e.d(t,"clearDataEdit",function(){return C}),e.d(t,"changeSearchQuestion",function(){return o}),e.d(t,"searchQuestion",function(){return r}),e.d(t,"saveData",function(){return d}),e.d(t,"changeDisabled",function(){return u}),e.d(t,"deleteQuestion",function(){return P}),e.d(t,"addDataOptions",function(){return z}),e.d(t,"changeDependingQuestion",function(){return x}),e.d(t,"changeDimension",function(){return I}),e.d(t,"changeCriterion",function(){return B}),e.d(t,"changeQuestion",function(){return M}),e.d(t,"changeHelpText",function(){return R}),e.d(t,"getAddQuestion",function(){return A}),e.d(t,"changeAnswerType",function(){return T}),e.d(t,"changeItems",function(){return a}),e.d(t,"switchRequired",function(){return V}),e.d(t,"switchRequiredAttachment",function(){return F}),e.d(t,"updateDataOptions",function(){return H}),e.d(t,"deleteDataOptions",function(){return J}),e.d(t,"saveOptionsQuestion",function(){return s});var f=e(213),l=e.n(f),p=e(405),m=e(1229),h=e(1221),g=e(1218),b=e(1263),y=e(208),v=e(211),O=function(){return{type:p.m}},j=function(n,t,e){return{type:p.n,data:n,dimension:t,criterion:e}},w=function(){return{type:p.r}},Q=function(){return function(n){Object(y.a)(n,O,h.b).then(function(t){var e=t.data;Object(y.a)(n,O,g.b).then(function(t){var i=t.data;Object(y.a)(n,O,m.b).then(function(t){var r=t.data.data,o=r.map(function(n){var t=e.data.find(function(t){return t.id===n.idDimension}),r="";t&&(r=t.name);var o=i.data.find(function(t){return t.id===n.idCriterion}),u="";return o&&(u=o.name),Object.assign({},n,{visible:!0,dimensionName:r,criterionName:u})});o=Object(y.c)(o,"dimensionName"),n(j(o,e,i))}).catch(function(){n(w())})}).catch(function(){n(w())})}).catch(function(){n(w())})}},D=function(){return{type:p.p}},E=function(n,t,e,i,r,o){return{type:p.q,editData:n,dimension:t,criterion:e,questions:i,options:r,items:o}},q=function(n){return{type:p.o,items:n}},C=function(){return{type:p.j}},k=function(n,t,e){return{type:p.l,dimension:n,criterion:t,questions:e}},A=function(){return function(n){var t=[Object(h.b)(),Object(g.b)(),Object(m.b)()];Object(y.a)(n,O,l.a.all,t).then(function(t){var e=t[0].data.data,i=t[1].data.data,r=t[2].data.data,o=r.map(function(n){return Object.assign({},n,{name:n.wording})});n(k(e,i,o))}).catch(function(t){n(w(t))})}},N=function(n){return{type:p.c,dependOfQuestion:n}},x=function(n){return function(t){Object(y.a)(t,O,b.a,n).then(function(e){var i=e.data.data,r=i.map(function(n){return Object.assign({},n,{name:n.wording})});t(q(r)),t(N(n))}).catch(function(){t(w())})}},S=function(){return{type:p.s}},_=function(){return{type:p.k}},P=function(n){return function(t){Object(y.a)(t,O,m.a,n).then(function(){t(_()),t(Object(v.a)("La pregunta ha sido eliminada","success")),t(Q())}).catch(function(){t(w())})}},T=function(n){return{type:p.a,answerType:n}},I=function(n){return{type:p.d,value:n}},B=function(n){return{type:p.b,value:n}},M=function(n){return{type:p.h,value:n}},R=function(n){return{type:p.f,value:n}},V=function(n){return{type:p.v,checked:n}},F=function(n){return{type:p.w,checked:n}},L=function(n){return{type:p.x,options:n}},z=function(n){return function(t,e){var i=e().question,r=i.options,o=i.editData,u=Object.assign({},n,{id:"",idQuestion:o.id});r.push(u),t(L(r))}},H=function(n,t,e){return function(i,r){var o=Object.assign({},r().question),u=o.options,a=o.editData;if(t>=u.length){var c={wording:"wording"===e?n:"",score:"score"===e?n:"",requireAttachment:"requireAttachment"===e&&n,key:t,id:"",idQuestion:a.id};u.push(c)}else u[t][e]=n;i(L(u))}},J=function(n){return function(t){t(L(n))}}},1263:function(n,t,e){"use strict";e.d(t,"a",function(){return r}),e.d(t,"b",function(){return o});var i=e(82),r=function(n){return i.a.get("Option?action=getOptionsByQuestion&idQuestion="+n)},o=function(n){return i.a.post("Option?action=save",n)}},1492:function(n,t,e){"use strict";function i(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function r(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?n:t}function o(n,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var u=e(0),a=e.n(u),c=e(129),s=e(101),d=e(1262),f=e(1493),l=e(1494),p=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),m="/question/form",h=function(n){function t(){var n,e,o,u;i(this,t);for(var a=arguments.length,c=Array(a),s=0;s<a;s++)c[s]=arguments[s];return e=o=r(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(c))),o.onEdit=function(n){o.props.history.push(m+"/"+n.id)},o.onAdd=function(){o.props.history.push(""+m)},o.deleteQuestion=function(n){o.props.deleteQuestion(n)},u=e,r(o,u)}return o(t,n),p(t,[{key:"componentDidMount",value:function(){this.props.getAllQuestions()}},{key:"render",value:function(){var n=Object(l.a)(this.props,this.onAdd,this.deleteQuestion,this.onEdit);return a.a.createElement(f.a,Object.assign({},this.props,{toForm:m,columns:n}))}}]),t}(u.Component),g=function(n){return{loading:n.question.loading,data:n.question.data,dimension:n.question.dimension,criterion:n.question.criterion,searchValue:n.question.searchValue}};t.a=Object(s.e)(Object(c.b)(g,d)(h))},1493:function(n,t,e){"use strict";function i(n){var t=n.columns,e=n.data,i=n.loading,r=n.searchValue,c=n.searchQuestion,s=n.changeSearchQuestion;return o.a.createElement("div",null,o.a.createElement(a,{size:"large",placeholder:"Buscar",style:{width:200},value:r,prefix:o.a.createElement(u.h,{type:"close",style:{cursor:"pointer"},onClick:function(n){return c(n.target.value)}}),onChange:function(n){return s(n.target.value)},onSearch:function(n){return c(n)}}),o.a.createElement(u.w,{rowKey:function(n){return n.id},loading:i,columns:t,dataSource:e&&e.filter(function(n){return n.visible})}))}var r=e(0),o=e.n(r),u=e(22),a=u.i.Search;t.a=i},1494:function(n,t,e){"use strict";var i=e(0),r=e.n(i),o=e(22),u=function(n,t,e,u){return[{title:"Dimensi\xf3n",dataIndex:"idDimension",key:"idDimension",sorter:function(n,t){return n.dimensionName<t.dimensionName?-1:1},render:function(t,e){var i=n.dimension.data?n.dimension.data.find(function(n){return n.id===e.idDimension}):{};return i=i?i.name:""}},{title:"Criterio",dataIndex:"idCriterion",key:"idCriterion",sorter:function(n,t){return n.dimensionName===t.dimensionName?n.criterionName<t.criterionName?-1:n.criterionName>t.criterionName?1:0:n.dimensionName<t.dimensionName?-1:1},render:function(t,e){var i=n.criterion.data?n.criterion.data.find(function(n){return n.id===e.idCriterion}):{};return i=i?i.name:""}},{title:"Pregunta",dataIndex:"wording",key:"wording",style:{width:"80%"}},{title:"Acci\xf3n",dataIndex:"Id",key:"delete",render:function(n,a){return r.a.createElement(i.Fragment,null,r.a.createElement(o.y,{title:"Agregar"},r.a.createElement(o.b,{shape:"circle",icon:"plus",onClick:function(){return t()}})),r.a.createElement(o.y,{title:"Editar"},r.a.createElement(o.b,{shape:"circle",icon:"edit",onClick:function(){return u(a)}})),r.a.createElement(o.p,{title:"Est\xe1 seguro de eliminar la pregunta?",onConfirm:function(){return e(a)},okText:"Si",cancelText:"No"},r.a.createElement(o.y,{placement:"top",title:"Eliminar"},r.a.createElement(o.b,{type:"danger",shape:"circle",icon:"delete"}))))}}]};t.a=u}});
//# sourceMappingURL=29.bf36e23d.chunk.js.map