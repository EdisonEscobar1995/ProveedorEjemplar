{"version":3,"sources":["../static/js/11.2df08ab7.chunk.js","pages/SurveyAdmon.js","api/master.js","api/criterions.js","api/dimension.js","api/supply.js","api/question.js","state/SurveyAdmon/action.js","api/companySize.js","api/survey.js","components/SurveyAdmon/SurveyAdmonContainer.js","components/SurveyAdmon/SurveyAdmon.js","components/SurveyAdmon/ColumnsSurveyAdmon.js","components/SurveyAdmon/CopySurvey.js","components/SurveyAdmon/copySurveyData.js"],"names":["webpackJsonp","1208","module","__webpack_exports__","__webpack_require__","SurveyAdmon","__WEBPACK_IMPORTED_MODULE_0_react___default","a","createElement","__WEBPACK_IMPORTED_MODULE_1__components_SurveyAdmon_SurveyAdmonContainer__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_react__","n","1216","d","getMasterApi","__WEBPACK_IMPORTED_MODULE_1__instanceService__","masters","get","join","1218","getAllCriterionsByDimensionApi","getAllCriterionsApi","saveDataCriterionApi","deleteDataCriterionApi","__WEBPACK_IMPORTED_MODULE_0__instance__","idDimension","data","post","params","id","1221","getDimensionsBySurveyApi","idSurvey","getDataDimensionApi","saveDataDimensionApi","deleteDataDimensionApi","1223","getSuppliesApi","saveSupplyApi","deleteSupplyApi","getSuppliesSpecialsApi","1229","getAllDataQuestionApi","getQuestionByIdApi","saveQuestionApi","deleteQuestionApi","getQuestionsByIdDimensionApi","1232","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","searchSurvey","type","__WEBPACK_IMPORTED_MODULE_1__const__","changeSearchSurvey","getCriterionByDimension","dispatch","getState","dimensions","surveyAdmon","allDimensions","criterions","dimensionSelected","__WEBPACK_IMPORTED_MODULE_9__utils_action__","getDimensionsProgress","__WEBPACK_IMPORTED_MODULE_8__api_criterions__","then","response","dimension","find","labelOptions","name","push","apply","x","getCriterionsSuccess","catch","getFailedRequest","dropCriterionByDimension","rCriterions","assign","allCriterions","rDimensionSelected","copyData","splice","findIndex","map","item","visible","forEach","filter","dimensionDeselected","filterByCriterion","criterionSelected","criterionExist","criterion","questionExist","undefined","question","idCriterion","filterByCriterionSuccess","deselectedByCriterion","rcriterionSelected","classifyQuestions","questions","element","criteria","JSON","parse","stringify","classifyDimensionAndCriterion","criterionsPercent","dDimension","percentCriterion","c","percent","expandable","getAllDataSurveyFormAdmon","arguments","promises","__WEBPACK_IMPORTED_MODULE_3__api_call__","__WEBPACK_IMPORTED_MODULE_4__api_supply__","__WEBPACK_IMPORTED_MODULE_5__api_companySize__","__WEBPACK_IMPORTED_MODULE_7__api_dimension__","__WEBPACK_IMPORTED_MODULE_2__api_survey__","getDataSurveyProgress","__WEBPACK_IMPORTED_MODULE_0_axios___default","all","arrayResponse","call","year","toString","supply","companySize","dataFilter","__WEBPACK_IMPORTED_MODULE_6__api_question__","callValue","supplyValue","companySizeValue","questionSelected","criterionsSelected","surveyQuestions","surveyCriterionsPercent","percents","surveyData","idCall","idSupply","idCompanySize","criterionPercent","allDimensionsB","responses","index","questionsByDimension","getAllDataSurveyFormAdmonSuccess","err","changeSearchByDimension","changeSearchByQuestion","parentId","collapseDimension","collapseCriterion","saveDataSurvey","getObjectCriterionPercent","saveSurvey","next","redirect","__WEBPACK_IMPORTED_MODULE_11__Generic_action__","savePercentDimensionCriterion","clientData","trim","rCriterionSelected","rPercents","__WEBPACK_IMPORTED_MODULE_12__Main_action__","criterionsPercentSelectedSuccess","getAllSurveys","cleanData","searchByDimension","searchQuestion","getQuestionsByDimension","setCallValue","setSupplyValue","setCompanySizeValue","copySurvey","deleteQuestionSurveyAdmon","__WEBPACK_IMPORTED_MODULE_0_axios__","__WEBPACK_IMPORTED_MODULE_10__api_master__","getDataSurveySuccess","updateDataSurvey","masterResponse","callResponse","supplyResponse","companySizeResponse","Call","setDeleteQuestionSurvey","getQuestionsByDimensionSuccess","questionSelectedSuccess","questionSel","criterionPercentSel","crearPreguntas","questionData","preguntaCriterio","validarCriterios","questionCriterion","createCriterion","existCriterion","validaciones","setDataCriterionPercent","dQuestionSel","copyDataQ","qu","elemento","prototype","hasOwnProperty","dependency","criterionsSel","dataQuestionSel","dataCriterionsSel","indexQuestion","dependingQuestion","dependOfQuestion","message","siblingQuestions","dependingQuestions","error","1250","getDataCompanySizeApi","saveDataCompanySizeApi","deleteDataCompanyTypeApi","1264","getAllDataSurveyApi","getSurveyByIdApi","saveSurveyApi","copySurveyApi","_ref","1498","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_1_react_redux__","__WEBPACK_IMPORTED_MODULE_2_react_router_dom__","__WEBPACK_IMPORTED_MODULE_3__state_SurveyAdmon_action__","__WEBPACK_IMPORTED_MODULE_4__SurveyAdmon__","__WEBPACK_IMPORTED_MODULE_5__ColumnsSurveyAdmon__","__WEBPACK_IMPORTED_MODULE_6__CopySurvey__","_createClass","defineProperties","target","props","descriptor","key","protoProps","staticProps","pathSurveyAdmonForm","SurveyAdmonContainer","_Component","_temp","_this","_ret","this","_len","args","_key","getPrototypeOf","concat","onAdd","history","onEdit","record","onCopy","openModal","template","toForm","columns","mapStateToProps","state","loading","searchValue","1499","Search","size","placeholder","style","width","prefix","__WEBPACK_IMPORTED_MODULE_1_antd__","cursor","onClick","e","onChange","event","onSearch","rowKey","dataSource","1500","columnsData","title","render","text","sorter","b","callA","callB","dataIndex","shape","icon","1501","CopySurvey","__WEBPACK_IMPORTED_MODULE_2__shared_GenericForm__","formData","__WEBPACK_IMPORTED_MODULE_1__copySurveyData__","submitMethod","validate","1502","_ref$record","closeModal","span","label","display","options","required","justify","buttonType","handleclick","htmlType"],"mappings":"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","file":"static/js/11.2df08ab7.chunk.js","sourcesContent":["webpackJsonp([11],{\n\n/***/ 1208:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_SurveyAdmon_SurveyAdmonContainer__ = __webpack_require__(1498);\nfunction SurveyAdmon(){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1__components_SurveyAdmon_SurveyAdmonContainer__[\"a\" /* default */],null);}/* harmony default export */ __webpack_exports__[\"default\"] = (SurveyAdmon);\n\n/***/ }),\n\n/***/ 1216:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return getMasterApi; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__instance__ = __webpack_require__(82);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__instanceService__ = __webpack_require__(209);\n// eslint-disable-next-line no-unused-vars\n// const getMasterApi = masters => intance.get(`MasterList?action=get&${masters.join('&')}`);\nvar getMasterApi=function getMasterApi(masters){return __WEBPACK_IMPORTED_MODULE_1__instanceService__[\"a\" /* default */].get('xaServicios.xsp?Open&action=getMasterList&'+masters.join('&'));};\n\n/***/ }),\n\n/***/ 1218:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return getAllCriterionsByDimensionApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getAllCriterionsApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return saveDataCriterionApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return deleteDataCriterionApi; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__instance__ = __webpack_require__(82);\nvar getAllCriterionsByDimensionApi=function getAllCriterionsByDimensionApi(idDimension){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].get('Criterion?action=getAll&idDimension='+(idDimension||''));};var getAllCriterionsApi=function getAllCriterionsApi(){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].get('Criterion?action=getAll');};var saveDataCriterionApi=function saveDataCriterionApi(data){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].post('Criterion?action=save',data);};var deleteDataCriterionApi=function deleteDataCriterionApi(data){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].get('Criterion?action=delete',{params:{id:data.id}});};\n\n/***/ }),\n\n/***/ 1221:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getDataDimensionApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return getDimensionsBySurveyApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return saveDataDimensionApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return deleteDataDimensionApi; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__instance__ = __webpack_require__(82);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__instanceService__ = __webpack_require__(209);\nvar getDataDimensionApi=function getDataDimensionApi(){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].get('Dimension?action=getAll');};var saveDataDimensionApi=function saveDataDimensionApi(data){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].post('Dimension?action=save',data);};var deleteDataDimensionApi=function deleteDataDimensionApi(data){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].get('Dimension?action=delete',{params:{id:data.id}});};function getDimensionsBySurveyApi(idSurvey){// return instance.get(`Dimension?action=getDimensionsBySurvey&idSurvey=${idSurvey}`);\nreturn __WEBPACK_IMPORTED_MODULE_1__instanceService__[\"a\" /* default */].get('xaServicios.xsp?Open&action=getDimensionsBySurvey&idSurvey='+idSurvey);}\n\n/***/ }),\n\n/***/ 1223:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getSuppliesApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return saveSupplyApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return deleteSupplyApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return getSuppliesSpecialsApi; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__instance__ = __webpack_require__(82);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__instanceService__ = __webpack_require__(209);\nfunction getSuppliesApi(){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].get('Supply?action=getAll');}var getSuppliesSpecialsApi=function getSuppliesSpecialsApi(){return __WEBPACK_IMPORTED_MODULE_1__instanceService__[\"a\" /* default */].get('xaServicios.xsp?Open&action=getAllSuppliesSpecial');};function saveSupplyApi(data){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].post('Supply?action=save',data);}function deleteSupplyApi(data){var id=data.id;return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].get('Supply?action=delete&id='+id);}\n\n/***/ }),\n\n/***/ 1229:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getAllDataQuestionApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return getQuestionByIdApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return saveQuestionApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return deleteQuestionApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return getQuestionsByIdDimensionApi; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__instance__ = __webpack_require__(82);\nvar getAllDataQuestionApi=function getAllDataQuestionApi(){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].get('Question?action=getAll');};var getQuestionByIdApi=function getQuestionByIdApi(id){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].get('Question?action=get&id='+id);};var saveQuestionApi=function saveQuestionApi(data){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].post('Question?action=save',data);};var deleteQuestionApi=function deleteQuestionApi(data){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].get('Question?action=delete&id='+data.id);};var getQuestionsByIdDimensionApi=function getQuestionsByIdDimensionApi(idDimension){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].get('Question?action=getAll&idDimension='+idDimension);};\n\n/***/ }),\n\n/***/ 1232:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAllSurveys\", function() { return getAllSurveys; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAllDataSurveyFormAdmon\", function() { return getAllDataSurveyFormAdmon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeSearchSurvey\", function() { return changeSearchSurvey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"searchSurvey\", function() { return searchSurvey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"saveData\", function() { return saveSurvey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"savePercentDimensionCriterion\", function() { return savePercentDimensionCriterion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cleanData\", function() { return cleanData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeSearchByDimension\", function() { return changeSearchByDimension; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeSearchByQuestion\", function() { return changeSearchByQuestion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"searchByDimension\", function() { return searchByDimension; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"searchQuestion\", function() { return searchQuestion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getQuestionsByDimension\", function() { return getQuestionsByDimension; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"collapseDimension\", function() { return collapseDimension; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"collapseCriterion\", function() { return collapseCriterion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCriterionByDimension\", function() { return getCriterionByDimension; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dropCriterionByDimension\", function() { return dropCriterionByDimension; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"questionSelected\", function() { return questionSelected; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"filterByCriterion\", function() { return filterByCriterion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deselectedByCriterion\", function() { return deselectedByCriterion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setCallValue\", function() { return setCallValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setSupplyValue\", function() { return setSupplyValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setCompanySizeValue\", function() { return setCompanySizeValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"copySurvey\", function() { return copySurvey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deleteQuestionSurveyAdmon\", function() { return deleteQuestionSurveyAdmon; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios__ = __webpack_require__(213);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__const__ = __webpack_require__(406);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api_survey__ = __webpack_require__(1264);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__api_call__ = __webpack_require__(394);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__api_supply__ = __webpack_require__(1223);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__api_companySize__ = __webpack_require__(1250);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__api_question__ = __webpack_require__(1229);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__api_dimension__ = __webpack_require__(1221);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__api_criterions__ = __webpack_require__(1218);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__utils_action__ = __webpack_require__(208);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__api_master__ = __webpack_require__(1216);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__Generic_action__ = __webpack_require__(211);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__Main_action__ = __webpack_require__(393);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"openModal\", function() { return __WEBPACK_IMPORTED_MODULE_12__Main_action__[\"openModal\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"closeModal\", function() { return __WEBPACK_IMPORTED_MODULE_12__Main_action__[\"closeModal\"]; });\nfunction _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}// eslint-disable-next-line no-unused-vars\n// import Notification from '../../components/shared/notification';\n// Encuesta listado\nvar getDataSurveyProgress=function getDataSurveyProgress(){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"k\" /* GET_DATA_SURVEY_ADMON_PROGRESS */]};};var getDataSurveySuccess=function getDataSurveySuccess(data,call,supply,companySize,masters){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"l\" /* GET_DATA_SURVEY_ADMON_SUCCESS */],data:data,call:call,supply:supply,companySize:companySize,masters:masters};};var updateDataSurvey=function updateDataSurvey(data){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"A\" /* UPDATE_DATA_SURVEY_ADMON */],data:data};};var getFailedRequest=function getFailedRequest(){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"p\" /* REQUEST_FAILED */]};};var getAllSurveys=function getAllSurveys(){return function(dispatch){Object(__WEBPACK_IMPORTED_MODULE_9__utils_action__[\"a\" /* requestApi */])(dispatch,getDataSurveyProgress,__WEBPACK_IMPORTED_MODULE_10__api_master__[\"a\" /* default */],['Call']).then(function(masterResponse){Object(__WEBPACK_IMPORTED_MODULE_9__utils_action__[\"a\" /* requestApi */])(dispatch,getDataSurveyProgress,__WEBPACK_IMPORTED_MODULE_3__api_call__[\"b\" /* getCallApi */]).then(function(callResponse){var call=callResponse.data.data;Object(__WEBPACK_IMPORTED_MODULE_9__utils_action__[\"a\" /* requestApi */])(dispatch,getDataSurveyProgress,__WEBPACK_IMPORTED_MODULE_4__api_supply__[\"b\" /* getSuppliesApi */]).then(function(supplyResponse){var supply=supplyResponse.data.data;Object(__WEBPACK_IMPORTED_MODULE_9__utils_action__[\"a\" /* requestApi */])(dispatch,getDataSurveyProgress,__WEBPACK_IMPORTED_MODULE_5__api_companySize__[\"b\" /* getDataCompanySizeApi */]).then(function(companySizeResponse){var companySize=companySizeResponse.data.data;Object(__WEBPACK_IMPORTED_MODULE_9__utils_action__[\"a\" /* requestApi */])(dispatch,getDataSurveyProgress,__WEBPACK_IMPORTED_MODULE_2__api_survey__[\"b\" /* getAllDataSurveyApi */]).then(function(response){var data=response.data.data;var dataFilter=data.map(function(item){return Object.assign({},item,{visible:true});});var masters=masterResponse.data.data;masters.Call=masters.Call.map(function(item){return Object.assign({},item,{name:item.year.toString()});});dispatch(getDataSurveySuccess(dataFilter,call,supply,companySize,masters));});});}).catch(function(){dispatch(getFailedRequest());});});}).catch(function(){dispatch(getFailedRequest());});};};function searchSurvey(value){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"v\" /* SEARCH_SURVEY_ADMON */],value:value};}function changeSearchSurvey(value){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"c\" /* CHANGE_SEARCH_SURVEY_ADMON */],value:value};}// Fin Encuesta listado\n// Form Survey\nvar getDimensionsProgress=function getDimensionsProgress(){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"m\" /* GET_DIMENSIONS_SURVEY_PROGRESS */]};};var setDeleteQuestionSurvey=function setDeleteQuestionSurvey(){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"y\" /* SET_DELETE_QUESTION_SURVEY */]};};var getAllDataSurveyFormAdmonSuccess=function getAllDataSurveyFormAdmonSuccess(call,supply,companySize,allCriterions,allDimensions,data,id,callValue,supplyValue,companySizeValue,questionSelected,criterionsSelected,percents){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"o\" /* GET_SURVEY_ADMON_SUCCESS */],call:call,supply:supply,companySize:companySize,allCriterions:allCriterions,allDimensions:allDimensions,data:data,id:id,callValue:callValue,supplyValue:supplyValue,companySizeValue:companySizeValue,questionSelected:questionSelected,criterionsSelected:criterionsSelected,percents:percents};};var getCriterionsSuccess=function getCriterionsSuccess(criterions,labelOptions,id,dimensionSelected){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"j\" /* GET_CRITERION_SURVEY_SUCCESS */],criterions:criterions,labelOptions:labelOptions,id:id,dimensionSelected:dimensionSelected};};function getCriterionByDimension(id){return function(dispatch,getState){var dimensions=getState().surveyAdmon.allDimensions;var criterions=getState().surveyAdmon.criterions;var dimensionSelected=getState().surveyAdmon.dimensionSelected;Object(__WEBPACK_IMPORTED_MODULE_9__utils_action__[\"a\" /* requestApi */])(dispatch,getDimensionsProgress,__WEBPACK_IMPORTED_MODULE_8__api_criterions__[\"c\" /* getAllCriterionsByDimensionApi */],id).then(function(response){var data=response.data.data;var dimension=dimensions.find(function(d){return d.id===id;});var labelOptions=dimension?dimension.name:'';criterions.push.apply(criterions,_toConsumableArray(data));var dimensionExist=dimensionSelected.find(function(x){return x===id;});if(!dimensionExist){dimensionSelected.push(id);}dispatch(getCriterionsSuccess(criterions,labelOptions,id,dimensionSelected));}).catch(function(){dispatch(getFailedRequest());});};}var dimensionDeselected=function dimensionDeselected(data,dimensionSelected,criterions){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"h\" /* DIMENSION_DESELECTED */],data:data,dimensionSelected:dimensionSelected,criterions:criterions};};function dropCriterionByDimension(id){return function(dispatch,getState){var rCriterions=getState().surveyAdmon.criterions;var criterions=Object.assign([],rCriterions);var allCriterions=getState().surveyAdmon.allCriterions;var rDimensionSelected=getState().surveyAdmon.dimensionSelected;var dimensionSelected=Object.assign([],rDimensionSelected);var data=getState().surveyAdmon.data;var copyData=Object.assign([],data);dimensionSelected.splice(dimensionSelected.findIndex(function(x){return x.id===id;}),1);copyData=copyData.map(function(item){var visible=true;dimensionSelected.forEach(function(dimension){if(dimension!==''&&dimension!==item.id){visible=false;}});return Object.assign({},item,{visible:visible});});criterions=[];if(dimensionSelected.length>0){criterions=allCriterions.filter(function(x){return x.idDimension===id;});}dispatch(dimensionDeselected(copyData,dimensionSelected,criterions));};}var filterByCriterionSuccess=function filterByCriterionSuccess(data,criterionSelected){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"i\" /* FILTER_BY_CRITERION_SURVEY */],data:data,criterionSelected:criterionSelected};};function filterByCriterion(id){return function(dispatch,getState){var data=getState().surveyAdmon.data;var copyData=Object.assign([],data);var allCriterions=getState().surveyAdmon.allCriterions;var criterionSelected=getState().surveyAdmon.criterionSelected;var criterionExist=criterionSelected.find(function(x){return x===id;});var criterion=allCriterions.find(function(x){return x.id===id;});if(!criterionExist){criterionSelected.push(id);}var dimension=copyData.find(function(x){return x.id===criterion.idDimension;});var questionExist=dimension;if(questionExist.data!==undefined){questionExist=questionExist.data.map(function(item){var visible=false;criterionSelected.forEach(function(question){if(question!==''&&question===item.idCriterion){visible=true;}});return Object.assign({},item,{visible:visible});});copyData.find(function(x){return x.id===dimension.id;}).data=questionExist;dispatch(filterByCriterionSuccess(copyData,criterionSelected));}};}function deselectedByCriterion(id){return function(dispatch,getState){var data=getState().surveyAdmon.data;var copyData=Object.assign([],data);var allCriterions=getState().surveyAdmon.allCriterions;var criterion=allCriterions.find(function(x){return x.id===id;});var dimension=copyData.find(function(x){return x.id===criterion.idDimension;});var questionExist=dimension.data;var rcriterionSelected=getState().surveyAdmon.criterionSelected;var criterionSelected=Object.assign([],rcriterionSelected);criterionSelected.splice(criterionSelected.findIndex(function(x){return x.id===id;}),1);questionExist=questionExist.map(function(item){var visible=true;criterionSelected.forEach(function(question){if(question!==''&&question!==item.idCriterion){visible=false;}});return Object.assign({},item,{visible:visible});});copyData.find(function(x){return x.id===dimension.id;}).data=questionExist;dispatch(filterByCriterionSuccess(copyData,criterionSelected));};}function classifyQuestions(allDimensions,allCriterions,questions){questions.forEach(function(question){var criterion=allCriterions.find(function(element){return element.id===question.idCriterion;});if(criterion.data){criterion.data.push(question);}else{criterion.data=[question];}var dimension=allDimensions.find(function(element){return element.id===question.idDimension;});if(dimension.data){var criteria=dimension.data.find(function(element){return element.id===question.idCriterion;});if(criteria){criteria.data.push(question);}else{dimension.data.push(JSON.parse(JSON.stringify(criterion)));}}else{dimension.data=[JSON.parse(JSON.stringify(criterion))];}});return JSON.parse(JSON.stringify(allDimensions));}function classifyDimensionAndCriterion(allDimensions,allCriterions,criterionsPercent){if(criterionsPercent.length>0){var dDimension=[];criterionsPercent.forEach(function(percentCriterion){dDimension=[];if(percentCriterion.idDimension){dDimension=allDimensions.find(function(element){return element.id===percentCriterion.idDimension;});if(dDimension.data){dDimension.data.forEach(function(criterion){var c=criterionsPercent.find(function(element){return element.idCriterion===criterion.id;});delete criterion.data;criterion.percent=c?c.percent:0;});}dDimension.expandable=false;dDimension.percent=percentCriterion.percent;}});return JSON.parse(JSON.stringify(allDimensions));}allDimensions.forEach(function(dimension){if(dimension.data){dimension.data.forEach(function(criterion){delete criterion.data;criterion.visible=true;criterion.percent=0;});dimension.expandable=false;dimension.percent=0;}});return JSON.parse(JSON.stringify(allDimensions));}function getAllDataSurveyFormAdmon(){var idSurvey=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';return function(dispatch){var promises=[Object(__WEBPACK_IMPORTED_MODULE_3__api_call__[\"b\" /* getCallApi */])(),Object(__WEBPACK_IMPORTED_MODULE_4__api_supply__[\"b\" /* getSuppliesApi */])(),Object(__WEBPACK_IMPORTED_MODULE_5__api_companySize__[\"b\" /* getDataCompanySizeApi */])(),Object(__WEBPACK_IMPORTED_MODULE_8__api_criterions__[\"b\" /* getAllCriterionsApi */])(),Object(__WEBPACK_IMPORTED_MODULE_7__api_dimension__[\"b\" /* getDataDimensionApi */])()];if(idSurvey){promises.push(Object(__WEBPACK_IMPORTED_MODULE_2__api_survey__[\"c\" /* getSurveyByIdApi */])(idSurvey));}Object(__WEBPACK_IMPORTED_MODULE_9__utils_action__[\"a\" /* requestApi */])(dispatch,getDataSurveyProgress,__WEBPACK_IMPORTED_MODULE_0_axios___default.a.all,promises).then(function(arrayResponse){var call=arrayResponse[0].data.data;call=call.map(function(item){return Object.assign({},item,{name:item.year.toString()});});var supply=arrayResponse[1].data.data;var companySize=arrayResponse[2].data.data;var allCriterions=arrayResponse[3].data.data;var allDimensions=arrayResponse[4].data.data.map(function(dimension){return Object.assign({},dimension,{visible:true,expandable:true,data:[]});});promises=[];var dataFilter=allDimensions.map(function(item){promises.push(Object(__WEBPACK_IMPORTED_MODULE_6__api_question__[\"d\" /* getQuestionsByIdDimensionApi */])(item.id));return Object.assign({},item,{expandable:false});});var id='';var callValue='';var supplyValue='';var companySizeValue='';var questionSelected=[];var criterionsSelected=[];var surveyQuestions=[];var surveyCriterionsPercent=[];var percents={};if(idSurvey){var surveyData=arrayResponse[5].data.data;id=surveyData.id;callValue=surveyData.idCall;supplyValue=surveyData.idSupply;companySizeValue=surveyData.idCompanySize;surveyQuestions=surveyData.question.map(function(question){return Object.assign({},question,{visible:true,expandable:false});});surveyCriterionsPercent=surveyData.criterionPercent.map(function(percent){return Object.assign({},percent,{visible:true,expandable:false});});questionSelected=classifyQuestions(allDimensions,allCriterions,surveyQuestions);var allDimensionsB=[].concat(_toConsumableArray(allDimensions));// criterionsSelected = classifyDimensionAndCriterion(allDimensionsB);\ncriterionsSelected=classifyDimensionAndCriterion(allDimensionsB,allCriterions,surveyCriterionsPercent);surveyCriterionsPercent.forEach(function(d){if(d.idDimension){percents[d.idDimension]=d.percent;}if(d.idCriterion){percents[d.idCriterion]=d.percent;}});}return Object(__WEBPACK_IMPORTED_MODULE_9__utils_action__[\"b\" /* requestApiNotLoading */])(dispatch,__WEBPACK_IMPORTED_MODULE_0_axios___default.a.all,promises).then(function(responses){responses.forEach(function(response,index){var data=response.data.data;var questionsByDimension=[];data.forEach(function(question){if(!surveyQuestions.find(function(element){return element.id===question.id;})){questionsByDimension.push(Object.assign({},question,{visible:true,expandable:false}));}});dataFilter[index].data=JSON.parse(JSON.stringify(questionsByDimension));});dispatch(getAllDataSurveyFormAdmonSuccess(call,supply,companySize,allCriterions,allDimensions,dataFilter,id,callValue,supplyValue,companySizeValue,questionSelected,criterionsSelected,percents));}).catch(function(err){dispatch(getFailedRequest(err));});}).catch(function(err){dispatch(getFailedRequest(err));});};}var getQuestionsByDimensionSuccess=function getQuestionsByDimensionSuccess(data,id){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"n\" /* GET_QUESTIONS_BY_DIMENSION */],data:data,id:id};};var getQuestionsByDimension=function getQuestionsByDimension(id){return function(dispatch){Object(__WEBPACK_IMPORTED_MODULE_9__utils_action__[\"a\" /* requestApi */])(dispatch,getDataSurveyProgress,__WEBPACK_IMPORTED_MODULE_6__api_question__[\"d\" /* getQuestionsByIdDimensionApi */],id).then(function(response){var data=response.data.data;var dataFilter=data.map(function(item){return Object.assign({},item,{visible:true});});dispatch(getQuestionsByDimensionSuccess(dataFilter,id));}).catch(function(){dispatch(getFailedRequest());});};};function changeSearchByDimension(value){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"a\" /* CHANGE_SEARCH_BY_DIMENSION */],value:value};}function changeSearchByQuestion(value,parentId){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"b\" /* CHANGE_SEARCH_BY_QUESTION_SURVEY */],value:value,parentId:parentId};}var searchByDimension=function searchByDimension(value){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"t\" /* SEARCH_BY_DIMENSION */],value:value};};var searchQuestion=function searchQuestion(value,parentId){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"u\" /* SEARCH_QUESTION_SURVEY */],value:value,parentId:parentId};};function collapseDimension(data){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"f\" /* COLLAPSE_DIMENSION_SURVEY_FORM */],data:data};}function collapseCriterion(data){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"e\" /* COLLAPSE_CRITERION_SURVEY_FORM */],data:data};}var setCallValue=function setCallValue(value){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"w\" /* SET_CALL_VALUE */],value:value};};var setSupplyValue=function setSupplyValue(value){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"z\" /* SET_SUPPLY_VALUE */],value:value};};var setCompanySizeValue=function setCompanySizeValue(value){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"x\" /* SET_COMPANY_SIZE_VALUE */],value:value};};function saveDataSurvey(){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"s\" /* SAVE_SURVEY_ADMON */]};}function getObjectCriterionPercent(data,idSurvey,idCall,type){var criterionData={idCall:idCall,idSurvey:idSurvey,idDimension:type==='D'?data.id:'',idCriterion:type==='C'?data.id:'',percent:data.percent};return criterionData;}function saveSurvey(next,redirect){return function(dispatch,getState){var surveyAdmon=getState().surveyAdmon;var id=surveyAdmon.id;var idCall=surveyAdmon.callValue;if(idCall===''){dispatch(Object(__WEBPACK_IMPORTED_MODULE_11__Generic_action__[\"a\" /* default */])('Debe seleccionar una convocatoria','warning'));return;}var idSupply=surveyAdmon.supplyValue;if(idSupply===''){dispatch(Object(__WEBPACK_IMPORTED_MODULE_11__Generic_action__[\"a\" /* default */])('Debe seleccionar un tipo de suministro','warning'));return;}var idCompanySize=surveyAdmon.companySizeValue;if(idCompanySize===''){dispatch(Object(__WEBPACK_IMPORTED_MODULE_11__Generic_action__[\"a\" /* default */])('Debe seleccionar un tamaño de empresa','warning'));return;}if(surveyAdmon.questionSelected.length===0){dispatch(Object(__WEBPACK_IMPORTED_MODULE_11__Generic_action__[\"a\" /* default */])('Debe seleccionar al menos una pregunta','warning'));return;}var data={id:id,idCall:idCall,idSupply:idSupply,idCompanySize:idCompanySize,question:[],criterionPercent:[]};surveyAdmon.questionSelected.forEach(function(dimension){dimension.data.forEach(function(criterion){criterion.data.forEach(function(question){question.idCall=idCall;data.question.push(question);});});});surveyAdmon.criterionsSelected.forEach(function(dimension){data.criterionPercent.push(getObjectCriterionPercent(dimension,id,idCall,'D'));dimension.data.forEach(function(criterion){data.criterionPercent.push(getObjectCriterionPercent(criterion,id,idCall,'C'));});});Object(__WEBPACK_IMPORTED_MODULE_9__utils_action__[\"a\" /* requestApi */])(dispatch,getDataSurveyProgress,__WEBPACK_IMPORTED_MODULE_2__api_survey__[\"d\" /* saveSurveyApi */],data).then(function(){dispatch(saveDataSurvey());if(next&&redirect){redirect();next();}}).catch(function(){dispatch(getFailedRequest());});};}var cleanData=function cleanData(){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"d\" /* CLEAN_DATA */]};};var questionSelectedSuccess=function questionSelectedSuccess(questionSel,data){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"r\" /* SAVE_QUESTION_SELECTED */],questionSel:questionSel,data:data};};var criterionsPercentSelectedSuccess=function criterionsPercentSelectedSuccess(criterionPercentSel,percents){return{type:__WEBPACK_IMPORTED_MODULE_1__const__[\"q\" /* SAVE_CRITERION_PERCENT_SELECTED */],criterionPercentSel:criterionPercentSel,percents:percents};};function savePercentDimensionCriterion(clientData){return function(dispatch,getState){clientData.name=clientData.name.trim();var rCriterionSelected=getState().surveyAdmon.criterionsSelected;var criterionSelected=Object.assign([],rCriterionSelected);var rPercents=getState().surveyAdmon.percents;var percents=Object.assign({},rPercents);criterionSelected.forEach(function(d){if(d.id===clientData.id){d.percent=clientData.percent;percents[clientData.id]=clientData.percent;}else{d.data.forEach(function(element){if(element.id===clientData.id){element.percent=clientData.percent;percents[clientData.id]=clientData.percent;}});}});dispatch(Object(__WEBPACK_IMPORTED_MODULE_12__Main_action__[\"closeModal\"])());dispatch(criterionsPercentSelectedSuccess(criterionSelected,percents));};}var crearPreguntas=function crearPreguntas(questionData,data,preguntaCriterio){if(preguntaCriterio){data.find(function(x){return x.id===questionData.idDimension;}).data.find(function(x){return x.id===questionData.idCriterion;}).data.push(questionData);return data;}data.find(function(x){return x.id===questionData.idDimension;}).data.find(function(x){return x.id===0;}).data.push(questionData);return data;};var validarCriterios=function validarCriterios(questionData,data,criterion,questionCriterion){var createCriterion=data.find(function(x){return x.id===questionData.idDimension;}).data;if(!questionCriterion){var _existCriterion=createCriterion.find(function(x){return x.id===questionData.idCriterion;});if(createCriterion.length===0||!_existCriterion){criterion.data=[];createCriterion.push(criterion);}return crearPreguntas(questionData,data,true);}var existCriterion=createCriterion.find(function(x){return x.id===0;});if(createCriterion.length===0||!existCriterion){createCriterion.push({id:0,data:[],name:'Preguntas sin criterio'});}return crearPreguntas(questionData,data,false);};var validaciones=function validaciones(questionData,data,criterion){var questionCriterion=questionData.idCriterion==='';return validarCriterios(questionData,data,criterion,questionCriterion);};var setDataCriterionPercent=function setDataCriterionPercent(dQuestionSel,percents){var copyDataQ=JSON.parse(dQuestionSel);copyDataQ.forEach(function(qu){if(qu.data.length>0){qu.data.forEach(function(elemento){delete elemento.data;elemento.percent=Object.prototype.hasOwnProperty.call(percents,elemento.id)?percents[elemento.id]:0;});}qu.expandable=false;qu.percent=Object.prototype.hasOwnProperty.call(percents,qu.id)?percents[qu.id]:0;});return JSON.parse(JSON.stringify(copyDataQ));};var questionSelected=function questionSelected(questionData){var type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'selected';var dependency=arguments[2];return function(dispatch,getState){try{var dimensions=getState().surveyAdmon.allDimensions;var criterions=getState().surveyAdmon.allCriterions;var questionSel=getState().surveyAdmon.questionSelected;var criterionsSel=getState().surveyAdmon.criterionsSelected;var data=getState().surveyAdmon.data;var rPercents=getState().surveyAdmon.percents;var percents=Object.assign({},rPercents);var copyData=Object.assign([],data);var dataQuestionSel=Object.assign([],questionSel);var dataCriterionsSel=Object.assign([],criterionsSel);var dimension=dimensions.find(function(d){return d.id===questionData.idDimension;});var criterion=criterions.find(function(c){return c.id===questionData.idCriterion;});if(type==='selected'||type==='deleteQuestion'){var dimensionExist=dataQuestionSel.filter(function(element){return element.id===dimension.id;});// Si la dimension no existe\nif(dimensionExist.length===0){dimension.data=[];dimension.expandable=true;dataQuestionSel.push(dimension);dataQuestionSel=validaciones(questionData,dataQuestionSel,criterion);// Si la dimension ya existe\n}else{dataQuestionSel=validaciones(questionData,dataQuestionSel,criterion);}// eliminar la pregunta seleccionada\nvar indexQuestion=copyData.find(function(x){return x.id===questionData.idDimension;}).data.findIndex(function(x){return x.id===questionData.id;});copyData.find(function(x){return x.id===questionData.idDimension;}).data.splice(indexQuestion,1);dispatch(questionSelectedSuccess(dataQuestionSel,copyData));dataCriterionsSel=setDataCriterionPercent(JSON.stringify(dataQuestionSel),percents);dispatch(criterionsPercentSelectedSuccess(dataCriterionsSel));var dependingQuestion=copyData.find(function(x){return x.id===questionData.idDimension;}).data.find(function(x){return x.id===questionData.dependOfQuestion;});if(questionData.dependOfQuestion!==''&&dependingQuestion){dispatch(questionSelected(dependingQuestion,'selected',true));}else{var message='Pregunta agregada exitosamente'+(dependency?', junto con la pregunta de la que depende':'');if(type==='deleteQuestion'){message='La pregunta ha sido eliminada';}dispatch(Object(__WEBPACK_IMPORTED_MODULE_11__Generic_action__[\"a\" /* default */])(message,'success'));dispatch(setDeleteQuestionSurvey());}}else{// Buscar dimension de la pregunta\ncopyData.find(function(x){return x.id===questionData.idDimension;}).data.push(questionData);// eliminar la pregunta deseleccionada\nvar siblingQuestions=dataQuestionSel.find(function(x){return x.id===questionData.idDimension;}).data.find(function(x){return x.id===(questionData.idCriterion!==''?questionData.idCriterion:0);}).data;var _indexQuestion=siblingQuestions.findIndex(function(x){return x.id===questionData.id;});dataQuestionSel.find(function(x){return x.id===questionData.idDimension;}).data.find(function(x){return x.id===(questionData.idCriterion!==''?questionData.idCriterion:0);}).data.splice(_indexQuestion,1);dispatch(questionSelectedSuccess(dataQuestionSel,copyData));dataCriterionsSel=setDataCriterionPercent(JSON.stringify(dataQuestionSel),percents);dispatch(criterionsPercentSelectedSuccess(dataCriterionsSel));var dependingQuestions=siblingQuestions.filter(function(x){return x.dependOfQuestion===questionData.id;});if(dependingQuestions.length>0){dependingQuestions.forEach(function(x){dispatch(questionSelected(x,'deselected',true));});dispatch(Object(__WEBPACK_IMPORTED_MODULE_11__Generic_action__[\"a\" /* default */])('Se ha regresado la pregunta al listado, junto con las preguntas dependientes','success'));}else if(!dependency){dispatch(Object(__WEBPACK_IMPORTED_MODULE_11__Generic_action__[\"a\" /* default */])('Se ha regresado la pregunta al listado','success'));}}}catch(error){dispatch(Object(__WEBPACK_IMPORTED_MODULE_11__Generic_action__[\"a\" /* default */])('Ha ocurrido un error!','error',error));}};};// eslint-disable-next-line no-unused-vars\nvar deleteQuestionSurveyAdmon=function deleteQuestionSurveyAdmon(question){return function(dispatch){Object(__WEBPACK_IMPORTED_MODULE_9__utils_action__[\"a\" /* requestApi */])(dispatch,getDimensionsProgress,__WEBPACK_IMPORTED_MODULE_6__api_question__[\"a\" /* deleteQuestionApi */],question).then(function(){dispatch(questionSelected(question,'deleteQuestion'));}).catch(function(err){dispatch(getFailedRequest(err));});};};var copySurvey=function copySurvey(data){return function(dispatch){dispatch(Object(__WEBPACK_IMPORTED_MODULE_12__Main_action__[\"closeModal\"])());Object(__WEBPACK_IMPORTED_MODULE_9__utils_action__[\"a\" /* requestApi */])(dispatch,getDataSurveyProgress,__WEBPACK_IMPORTED_MODULE_2__api_survey__[\"a\" /* copySurveyApi */],data).then(function(){Object(__WEBPACK_IMPORTED_MODULE_9__utils_action__[\"a\" /* requestApi */])(dispatch,getDataSurveyProgress,__WEBPACK_IMPORTED_MODULE_2__api_survey__[\"b\" /* getAllDataSurveyApi */]).then(function(response){var dataFilter=response.data.data.map(function(item){return Object.assign({},item,{visible:true});});dispatch(updateDataSurvey(dataFilter));dispatch(Object(__WEBPACK_IMPORTED_MODULE_11__Generic_action__[\"a\" /* default */])('La encuesta ha sido copiada','success'));}).catch(function(){dispatch(getFailedRequest());});}).catch(function(){dispatch(getFailedRequest());});};};\n\n/***/ }),\n\n/***/ 1250:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getDataCompanySizeApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return saveDataCompanySizeApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return deleteDataCompanyTypeApi; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__instance__ = __webpack_require__(82);\nvar getDataCompanySizeApi=function getDataCompanySizeApi(){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].get('CompanySize?action=getAll');};var saveDataCompanySizeApi=function saveDataCompanySizeApi(data){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].post('CompanySize?action=save',data);};var deleteDataCompanyTypeApi=function deleteDataCompanyTypeApi(data){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].get('CompanySize?action=delete',{params:{id:data.id}});};\n\n/***/ }),\n\n/***/ 1264:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getAllDataSurveyApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return getSurveyByIdApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return saveSurveyApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return copySurveyApi; });\n/* unused harmony export deleteSurveyApi */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__instance__ = __webpack_require__(82);\nvar getAllDataSurveyApi=function getAllDataSurveyApi(){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].get('Survey?action=getAll');};var getSurveyByIdApi=function getSurveyByIdApi(id){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].get('Survey?action=get&id='+id);};var saveSurveyApi=function saveSurveyApi(data){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].post('Survey?action=save',data);};var copySurveyApi=function copySurveyApi(_ref){var idSurvey=_ref.idSurvey,idCall=_ref.idCall;return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].get('Survey?action=copy&idSurvey='+idSurvey+'&idCall='+idCall);};var deleteSurveyApi=function deleteSurveyApi(data){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].get('Survey?action=delete&id='+data.id);};\n\n/***/ }),\n\n/***/ 1498:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_redux__ = __webpack_require__(129);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_router_dom__ = __webpack_require__(101);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__state_SurveyAdmon_action__ = __webpack_require__(1232);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__SurveyAdmon__ = __webpack_require__(1499);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ColumnsSurveyAdmon__ = __webpack_require__(1500);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__CopySurvey__ = __webpack_require__(1501);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var pathSurveyAdmonForm='/surveyAdmon/form';var SurveyAdmonContainer=function(_Component){_inherits(SurveyAdmonContainer,_Component);function SurveyAdmonContainer(){var _ref;var _temp,_this,_ret;_classCallCheck(this,SurveyAdmonContainer);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=SurveyAdmonContainer.__proto__||Object.getPrototypeOf(SurveyAdmonContainer)).call.apply(_ref,[this].concat(args))),_this),_this.onAdd=function(){var history=_this.props.history;history.push(''+pathSurveyAdmonForm);},_this.onEdit=function(record){var history=_this.props.history;history.push(pathSurveyAdmonForm+'/'+record.id);},_this.onCopy=function(record){_this.props.openModal(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__CopySurvey__[\"a\" /* default */],Object.assign({},_this.props,{record:record})));},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(SurveyAdmonContainer,[{key:'componentDidMount',value:function componentDidMount(){this.props.getAllSurveys();}},{key:'render',value:function render(){var template=Object(__WEBPACK_IMPORTED_MODULE_5__ColumnsSurveyAdmon__[\"a\" /* default */])(this.props,this.onAdd,this.onEdit,this.onCopy);return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__SurveyAdmon__[\"a\" /* default */],Object.assign({},this.props,{toForm:pathSurveyAdmonForm,columns:template}));}}]);return SurveyAdmonContainer;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);var mapStateToProps=function mapStateToProps(state){return{loading:state.surveyAdmon.loading,data:state.surveyAdmon.data,companySize:state.surveyAdmon.companySize,supply:state.surveyAdmon.supply,call:state.surveyAdmon.call,searchValue:state.surveyAdmon.searchValue,masters:state.surveyAdmon.masters};};/* harmony default export */ __webpack_exports__[\"a\"] = (Object(__WEBPACK_IMPORTED_MODULE_2_react_router_dom__[\"e\" /* withRouter */])(Object(__WEBPACK_IMPORTED_MODULE_1_react_redux__[\"b\" /* connect */])(mapStateToProps,__WEBPACK_IMPORTED_MODULE_3__state_SurveyAdmon_action__)(SurveyAdmonContainer)));\n\n/***/ }),\n\n/***/ 1499:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd__ = __webpack_require__(22);\nvar Search=__WEBPACK_IMPORTED_MODULE_1_antd__[\"i\" /* Input */].Search;function SurveyAdmon(props){var columns=props.columns,data=props.data,loading=props.loading,searchValue=props.searchValue,searchSurvey=props.searchSurvey,changeSearchSurvey=props.changeSearchSurvey;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Search,{size:'large',placeholder:'Buscar',style:{width:200},value:searchValue,prefix:__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"h\" /* Icon */],{type:'close',style:{cursor:'pointer'},onClick:function onClick(e){return searchSurvey(e.target.value);}}),onChange:function onChange(event){return changeSearchSurvey(event.target.value);},onSearch:function onSearch(value){return searchSurvey(value);}}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"w\" /* Table */],{rowKey:function rowKey(record){return record.id;},loading:loading,columns:columns,dataSource:data&&data.filter(function(x){return x.visible;})}));}/* harmony default export */ __webpack_exports__[\"a\"] = (SurveyAdmon);\n\n/***/ }),\n\n/***/ 1500:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd__ = __webpack_require__(22);\nvar columnsData=function columnsData(props,onAdd,onEdit,onCopy){return[{title:'Convocatoria',key:'idCall',render:function render(text,record){var call=props.call.find(function(x){return x.id===record.idCall;});call=call?call.year:'';return call;},sorter:function sorter(a,b){var callA=props.call.find(function(x){return x.id===a.idCall;});var callB=props.call.find(function(x){return x.id===b.idCall;});return callA.year-callB.year;}},{title:'Tipo de suministro',key:'idSupply',render:function render(text,record){var supply=props.supply.find(function(x){return x.id===record.idSupply;});supply=supply?supply.name:'';return supply;}},{title:'Tamaño de la empresa',key:'idCompanySize',render:function render(text,record){var companySize=props.companySize.find(function(x){return x.id===record.idCompanySize;});companySize=companySize?companySize.name:'';return companySize;}},{title:'Acción',dataIndex:'Id',key:'delete',render:function render(text,record){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_0_react__[\"Fragment\"],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"y\" /* Tooltip */],{title:'Editar'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"b\" /* Button */],{shape:'circle',icon:'edit',onClick:function onClick(){return onEdit(record);}})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"y\" /* Tooltip */],{title:'Agregar'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"b\" /* Button */],{shape:'circle',icon:'plus',onClick:function onClick(){return onAdd();}})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"y\" /* Tooltip */],{title:'Copiar'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"b\" /* Button */],{shape:'circle',icon:'copy',onClick:function onClick(){return onCopy(record);}})));}}];};/* harmony default export */ __webpack_exports__[\"a\"] = (columnsData);\n\n/***/ }),\n\n/***/ 1501:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__copySurveyData__ = __webpack_require__(1502);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shared_GenericForm__ = __webpack_require__(392);\nfunction CopySurvey(props){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__shared_GenericForm__[\"a\" /* default */],Object.assign({},props,{formData:__WEBPACK_IMPORTED_MODULE_1__copySurveyData__[\"a\" /* default */],submitMethod:props.copySurvey,validate:true}));}/* harmony default export */ __webpack_exports__[\"a\"] = (CopySurvey);\n\n/***/ }),\n\n/***/ 1502:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar formData=function formData(_ref){var _ref$record=_ref.record,record=_ref$record===undefined?{}:_ref$record,closeModal=_ref.closeModal,masters=_ref.masters;return[{key:1.0,value:[{span:24,type:'title',value:'Copiar encuesta'}]},{key:1.1,value:[{span:24,type:'input',label:'Id encuesta',key:'idSurvey',value:record.id,style:{display:'none'}}]},{key:1.2,value:[{span:24,type:'select',options:masters.Call,label:'Seleccione la convocatoria para la encuesta a copiar',key:'idCall',required:true}]},{key:1.4,justify:'center',value:[{span:4,type:'button',label:'Cancelar',key:'cancel',buttonType:'primary',handleclick:closeModal},{span:4,type:'button',label:'Copiar',key:'save',buttonType:'primary',htmlType:'submit'}]}];};/* harmony default export */ __webpack_exports__[\"a\"] = (formData);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/11.2df08ab7.chunk.js","import React from 'react';\r\nimport SurveyAdmonContainer from '../components/SurveyAdmon/SurveyAdmonContainer';\r\n\r\nfunction SurveyAdmon() {\r\n  return (\r\n    <SurveyAdmonContainer />\r\n  );\r\n}\r\n\r\nexport default SurveyAdmon;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/SurveyAdmon.js","// eslint-disable-next-line no-unused-vars\r\nimport intance from './instance';\r\nimport instanceService from './instanceService';\r\n\r\n// const getMasterApi = masters => intance.get(`MasterList?action=get&${masters.join('&')}`);\r\nconst getMasterApi = masters => instanceService.get(`xaServicios.xsp?Open&action=getMasterList&${masters.join('&')}`);\r\n\r\nexport {\r\n  getMasterApi as default,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/master.js","import instance from './instance';\r\n\r\nconst getAllCriterionsByDimensionApi = idDimension => instance.get(`Criterion?action=getAll&idDimension=${idDimension || ''}`);\r\n\r\nconst getAllCriterionsApi = () => instance.get('Criterion?action=getAll');\r\n\r\nconst saveDataCriterionApi = data => instance.post('Criterion?action=save', data);\r\n\r\nconst deleteDataCriterionApi = data => instance.get('Criterion?action=delete', {\r\n  params: { id: data.id },\r\n});\r\n\r\nexport {\r\n  getAllCriterionsByDimensionApi,\r\n  getAllCriterionsApi,\r\n  saveDataCriterionApi,\r\n  deleteDataCriterionApi,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/criterions.js","import instance from './instance';\r\nimport instanceService from './instanceService';\r\n\r\nconst getDataDimensionApi = () => instance.get('Dimension?action=getAll');\r\n\r\nconst saveDataDimensionApi = data => instance.post('Dimension?action=save', data);\r\n\r\nconst deleteDataDimensionApi = data => instance.get('Dimension?action=delete', {\r\n  params: { id: data.id },\r\n});\r\n\r\nfunction getDimensionsBySurveyApi(idSurvey) {\r\n  // return instance.get(`Dimension?action=getDimensionsBySurvey&idSurvey=${idSurvey}`);\r\n  return instanceService.get(`xaServicios.xsp?Open&action=getDimensionsBySurvey&idSurvey=${idSurvey}`);\r\n}\r\n\r\nexport {\r\n  getDataDimensionApi,\r\n  getDimensionsBySurveyApi,\r\n  saveDataDimensionApi,\r\n  deleteDataDimensionApi,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/dimension.js","import instance from './instance';\r\nimport instanceService from './instanceService';\r\n\r\nfunction getSuppliesApi() {\r\n  return instance.get('Supply?action=getAll');\r\n}\r\n\r\nconst getSuppliesSpecialsApi = () => instanceService.get('xaServicios.xsp?Open&action=getAllSuppliesSpecial');\r\n\r\nfunction saveSupplyApi(data) {\r\n  return instance.post('Supply?action=save', data);\r\n}\r\n\r\nfunction deleteSupplyApi(data) {\r\n  const { id } = data;\r\n  return instance.get(`Supply?action=delete&id=${id}`);\r\n}\r\n\r\nexport {\r\n  getSuppliesApi,\r\n  saveSupplyApi,\r\n  deleteSupplyApi,\r\n  getSuppliesSpecialsApi,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/supply.js","import instance from './instance';\r\n\r\nconst getAllDataQuestionApi = () => instance.get('Question?action=getAll');\r\n\r\nconst getQuestionByIdApi = id => instance.get(`Question?action=get&id=${id}`);\r\n\r\nconst saveQuestionApi = data => instance.post('Question?action=save', data);\r\n\r\nconst deleteQuestionApi = data => instance.get(`Question?action=delete&id=${data.id}`);\r\n\r\nconst getQuestionsByIdDimensionApi = idDimension => instance.get(`Question?action=getAll&idDimension=${idDimension}`);\r\n\r\nexport {\r\n  getAllDataQuestionApi,\r\n  getQuestionByIdApi,\r\n  saveQuestionApi,\r\n  deleteQuestionApi,\r\n  getQuestionsByIdDimensionApi,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/question.js","import axios from 'axios';\r\nimport {\r\n  GET_DATA_SURVEY_ADMON_PROGRESS,\r\n  GET_DATA_SURVEY_ADMON_SUCCESS,\r\n  GET_SURVEY_ADMON_SUCCESS,\r\n  SEARCH_SURVEY_ADMON,\r\n  CHANGE_SEARCH_SURVEY_ADMON,\r\n  CLEAN_DATA,\r\n  // ////////////////\r\n  SEARCH_BY_DIMENSION,\r\n  SET_CALL_VALUE,\r\n  SET_SUPPLY_VALUE,\r\n  SET_COMPANY_SIZE_VALUE,\r\n  CHANGE_SEARCH_BY_DIMENSION,\r\n  SEARCH_QUESTION_SURVEY,\r\n  CHANGE_SEARCH_BY_QUESTION_SURVEY,\r\n  GET_QUESTIONS_BY_DIMENSION,\r\n  COLLAPSE_DIMENSION_SURVEY_FORM,\r\n  COLLAPSE_CRITERION_SURVEY_FORM,\r\n  GET_DIMENSIONS_SURVEY_PROGRESS,\r\n  GET_CRITERION_SURVEY_SUCCESS,\r\n  SAVE_CRITERION_PERCENT_SELECTED,\r\n  SAVE_QUESTION_SELECTED,\r\n  DIMENSION_DESELECTED,\r\n  FILTER_BY_CRITERION_SURVEY,\r\n  SET_DELETE_QUESTION_SURVEY,\r\n  REQUEST_FAILED,\r\n  SAVE_SURVEY_ADMON,\r\n  UPDATE_DATA_SURVEY_ADMON,\r\n} from './const';\r\n\r\nimport\r\n{ getSurveyByIdApi, getAllDataSurveyApi, saveSurveyApi, copySurveyApi }\r\n  from '../../api/survey';\r\nimport { getCallApi } from '../../api/call';\r\nimport { getSuppliesApi } from '../../api/supply';\r\nimport { getDataCompanySizeApi } from '../../api/companySize';\r\n// eslint-disable-next-line no-unused-vars\r\nimport { getQuestionsByIdDimensionApi, deleteQuestionApi } from '../../api/question';\r\nimport { getDataDimensionApi } from '../../api/dimension';\r\nimport { getAllCriterionsByDimensionApi, getAllCriterionsApi } from '../../api/criterions';\r\nimport { requestApi, requestApiNotLoading } from '../../utils/action';\r\nimport getMasterApi from '../../api/master';\r\nimport setMessage from '../Generic/action';\r\nimport { openModal, closeModal } from '../Main/action';\r\n\r\n// import Notification from '../../components/shared/notification';\r\n\r\n// Encuesta listado\r\nconst getDataSurveyProgress = () => ({\r\n  type: GET_DATA_SURVEY_ADMON_PROGRESS,\r\n});\r\n\r\nconst getDataSurveySuccess = (data, call, supply, companySize, masters) => ({\r\n  type: GET_DATA_SURVEY_ADMON_SUCCESS,\r\n  data,\r\n  call,\r\n  supply,\r\n  companySize,\r\n  masters,\r\n});\r\n\r\nconst updateDataSurvey = data => ({\r\n  type: UPDATE_DATA_SURVEY_ADMON,\r\n  data,\r\n});\r\n\r\nconst getFailedRequest = () => ({\r\n  type: REQUEST_FAILED,\r\n});\r\n\r\nconst getAllSurveys = () => (dispatch) => {\r\n  requestApi(dispatch, getDataSurveyProgress, getMasterApi, ['Call'])\r\n    .then((masterResponse) => {\r\n      requestApi(dispatch, getDataSurveyProgress, getCallApi)\r\n        .then((callResponse) => {\r\n          const call = callResponse.data.data;\r\n          requestApi(dispatch, getDataSurveyProgress, getSuppliesApi)\r\n            .then((supplyResponse) => {\r\n              const supply = supplyResponse.data.data;\r\n              requestApi(dispatch, getDataSurveyProgress, getDataCompanySizeApi)\r\n                .then((companySizeResponse) => {\r\n                  const companySize = companySizeResponse.data.data;\r\n                  requestApi(dispatch, getDataSurveyProgress, getAllDataSurveyApi)\r\n                    .then((response) => {\r\n                      const { data } = response.data;\r\n                      const dataFilter = data.map(item => ({\r\n                        ...item,\r\n                        visible: true,\r\n                      }));\r\n                      const masters = masterResponse.data.data;\r\n                      masters.Call = masters.Call.map(item => ({\r\n                        ...item,\r\n                        name: item.year.toString(),\r\n                      }));\r\n                      dispatch(\r\n                        getDataSurveySuccess(dataFilter, call, supply, companySize, masters));\r\n                    });\r\n                });\r\n            }).catch(() => {\r\n              dispatch(getFailedRequest());\r\n            });\r\n        });\r\n    }).catch(() => {\r\n      dispatch(getFailedRequest());\r\n    });\r\n};\r\n\r\nfunction searchSurvey(value) {\r\n  return {\r\n    type: SEARCH_SURVEY_ADMON,\r\n    value,\r\n  };\r\n}\r\n\r\nfunction changeSearchSurvey(value) {\r\n  return {\r\n    type: CHANGE_SEARCH_SURVEY_ADMON,\r\n    value,\r\n  };\r\n}\r\n\r\n// Fin Encuesta listado\r\n\r\n// Form Survey\r\n\r\nconst getDimensionsProgress = () => ({\r\n  type: GET_DIMENSIONS_SURVEY_PROGRESS,\r\n});\r\n\r\nconst setDeleteQuestionSurvey = () => ({\r\n  type: SET_DELETE_QUESTION_SURVEY,\r\n});\r\n\r\nconst getAllDataSurveyFormAdmonSuccess =\r\n(call, supply, companySize, allCriterions, allDimensions, data,\r\n  id, callValue, supplyValue, companySizeValue, questionSelected,\r\n  criterionsSelected, percents) => ({\r\n  type: GET_SURVEY_ADMON_SUCCESS,\r\n  call,\r\n  supply,\r\n  companySize,\r\n  allCriterions,\r\n  allDimensions,\r\n  data,\r\n  id,\r\n  callValue,\r\n  supplyValue,\r\n  companySizeValue,\r\n  questionSelected,\r\n  criterionsSelected,\r\n  percents,\r\n});\r\n\r\nconst getCriterionsSuccess = (criterions, labelOptions, id, dimensionSelected) => ({\r\n  type: GET_CRITERION_SURVEY_SUCCESS,\r\n  criterions,\r\n  labelOptions,\r\n  id,\r\n  dimensionSelected,\r\n});\r\n\r\nfunction getCriterionByDimension(id) {\r\n  return (dispatch, getState) => {\r\n    const dimensions = getState().surveyAdmon.allDimensions;\r\n    const criterions = getState().surveyAdmon.criterions;\r\n    const dimensionSelected = getState().surveyAdmon.dimensionSelected;\r\n    requestApi(dispatch, getDimensionsProgress, getAllCriterionsByDimensionApi, id)\r\n      .then((response) => {\r\n        const data = response.data.data;\r\n        const dimension = dimensions.find(d => d.id === id);\r\n        const labelOptions = dimension ? dimension.name : '';\r\n        criterions.push(...data);\r\n        const dimensionExist = dimensionSelected.find(x => x === id);\r\n        if (!dimensionExist) {\r\n          dimensionSelected.push(id);\r\n        }\r\n        dispatch(getCriterionsSuccess(criterions, labelOptions, id, dimensionSelected));\r\n      }).catch(() => {\r\n        dispatch(getFailedRequest());\r\n      });\r\n  };\r\n}\r\n\r\nconst dimensionDeselected = (data, dimensionSelected, criterions) => ({\r\n  type: DIMENSION_DESELECTED,\r\n  data,\r\n  dimensionSelected,\r\n  criterions,\r\n});\r\n\r\nfunction dropCriterionByDimension(id) {\r\n  return (dispatch, getState) => {\r\n    const rCriterions = getState().surveyAdmon.criterions;\r\n    let criterions = Object.assign([], rCriterions);\r\n    const allCriterions = getState().surveyAdmon.allCriterions;\r\n    const rDimensionSelected = getState().surveyAdmon.dimensionSelected;\r\n    const dimensionSelected = Object.assign([], rDimensionSelected);\r\n    const data = getState().surveyAdmon.data;\r\n    let copyData = Object.assign([], data);\r\n    dimensionSelected.splice(dimensionSelected.findIndex(x => x.id === id), 1);\r\n    copyData = copyData.map((item) => {\r\n      let visible = true;\r\n      dimensionSelected.forEach((dimension) => {\r\n        if (dimension !== '' && dimension !== item.id) {\r\n          visible = false;\r\n        }\r\n      });\r\n      return {\r\n        ...item,\r\n        visible,\r\n      };\r\n    });\r\n    criterions = [];\r\n    if (dimensionSelected.length > 0) {\r\n      criterions = allCriterions.filter(x => x.idDimension === id);\r\n    }\r\n    dispatch(dimensionDeselected(copyData, dimensionSelected, criterions));\r\n  };\r\n}\r\n\r\nconst filterByCriterionSuccess = (data, criterionSelected) => ({\r\n  type: FILTER_BY_CRITERION_SURVEY,\r\n  data,\r\n  criterionSelected,\r\n});\r\n\r\nfunction filterByCriterion(id) {\r\n  return (dispatch, getState) => {\r\n    const data = getState().surveyAdmon.data;\r\n    const copyData = Object.assign([], data);\r\n    const allCriterions = getState().surveyAdmon.allCriterions;\r\n    const criterionSelected = getState().surveyAdmon.criterionSelected;\r\n    const criterionExist = criterionSelected.find(x => x === id);\r\n    const criterion = allCriterions.find(x => x.id === id);\r\n    if (!criterionExist) {\r\n      criterionSelected.push(id);\r\n    }\r\n    const dimension = copyData.find(x => x.id === criterion.idDimension);\r\n    let questionExist = dimension;\r\n    if (questionExist.data !== undefined) {\r\n      questionExist = questionExist.data\r\n        .map((item) => {\r\n          let visible = false;\r\n          criterionSelected.forEach((question) => {\r\n            if (question !== '' && question === item.idCriterion) {\r\n              visible = true;\r\n            }\r\n          });\r\n          return {\r\n            ...item,\r\n            visible,\r\n          };\r\n        });\r\n      copyData.find(x => x.id === dimension.id).data = questionExist;\r\n      dispatch(filterByCriterionSuccess(copyData, criterionSelected));\r\n    }\r\n  };\r\n}\r\n\r\nfunction deselectedByCriterion(id) {\r\n  return (dispatch, getState) => {\r\n    const data = getState().surveyAdmon.data;\r\n    const copyData = Object.assign([], data);\r\n    const allCriterions = getState().surveyAdmon.allCriterions;\r\n    const criterion = allCriterions.find(x => x.id === id);\r\n    const dimension = copyData.find(x => x.id === criterion.idDimension);\r\n    let questionExist = dimension.data;\r\n    const rcriterionSelected = getState().surveyAdmon.criterionSelected;\r\n    const criterionSelected = Object.assign([], rcriterionSelected);\r\n    criterionSelected.splice(criterionSelected.findIndex(x => x.id === id), 1);\r\n    questionExist = questionExist\r\n      .map((item) => {\r\n        let visible = true;\r\n        criterionSelected.forEach((question) => {\r\n          if (question !== '' && question !== item.idCriterion) {\r\n            visible = false;\r\n          }\r\n        });\r\n        return {\r\n          ...item,\r\n          visible,\r\n        };\r\n      });\r\n    copyData.find(x => x.id === dimension.id).data = questionExist;\r\n    dispatch(filterByCriterionSuccess(copyData, criterionSelected));\r\n  };\r\n}\r\n\r\nfunction classifyQuestions(allDimensions, allCriterions, questions) {\r\n  questions.forEach((question) => {\r\n    const criterion = allCriterions.find(element => element.id === question.idCriterion);\r\n    if (criterion.data) {\r\n      criterion.data.push(question);\r\n    } else {\r\n      criterion.data = [question];\r\n    }\r\n    const dimension = allDimensions.find(element => element.id === question.idDimension);\r\n    if (dimension.data) {\r\n      const criteria = dimension.data.find(element => element.id === question.idCriterion);\r\n      if (criteria) {\r\n        criteria.data.push(question);\r\n      } else {\r\n        dimension.data.push(JSON.parse(JSON.stringify(criterion)));\r\n      }\r\n    } else {\r\n      dimension.data = [JSON.parse(JSON.stringify(criterion))];\r\n    }\r\n  });\r\n  return JSON.parse(JSON.stringify(allDimensions));\r\n}\r\n\r\nfunction classifyDimensionAndCriterion(allDimensions, allCriterions, criterionsPercent) {\r\n  if (criterionsPercent.length > 0) {\r\n    let dDimension = [];\r\n    criterionsPercent.forEach((percentCriterion) => {\r\n      dDimension = [];\r\n      if (percentCriterion.idDimension) {\r\n        dDimension = allDimensions.find(element => element.id === percentCriterion.idDimension);\r\n        if (dDimension.data) {\r\n          dDimension.data.forEach((criterion) => {\r\n            const c = criterionsPercent.find(element => element.idCriterion === criterion.id);\r\n            delete criterion.data;\r\n            criterion.percent = c ? c.percent : 0;\r\n          });\r\n        }\r\n        dDimension.expandable = false;\r\n        dDimension.percent = percentCriterion.percent;\r\n      }\r\n    });\r\n    return JSON.parse(JSON.stringify(allDimensions));\r\n  }\r\n\r\n  allDimensions.forEach((dimension) => {\r\n    if (dimension.data) {\r\n      dimension.data.forEach((criterion) => {\r\n        delete criterion.data;\r\n        criterion.visible = true;\r\n        criterion.percent = 0;\r\n      });\r\n      dimension.expandable = false;\r\n      dimension.percent = 0;\r\n    }\r\n  });\r\n  return JSON.parse(JSON.stringify(allDimensions));\r\n}\r\n\r\nfunction getAllDataSurveyFormAdmon(idSurvey = '') {\r\n  return (dispatch) => {\r\n    let promises = [\r\n      getCallApi(),\r\n      getSuppliesApi(),\r\n      getDataCompanySizeApi(),\r\n      getAllCriterionsApi(),\r\n      getDataDimensionApi(),\r\n    ];\r\n    if (idSurvey) {\r\n      promises.push(getSurveyByIdApi(idSurvey));\r\n    }\r\n    requestApi(dispatch, getDataSurveyProgress, axios.all, promises).then((arrayResponse) => {\r\n      let call = arrayResponse[0].data.data;\r\n      call = call.map(item => ({\r\n        ...item,\r\n        name: item.year.toString(),\r\n      }));\r\n      const supply = arrayResponse[1].data.data;\r\n      const companySize = arrayResponse[2].data.data;\r\n      const allCriterions = arrayResponse[3].data.data;\r\n      const allDimensions = arrayResponse[4].data.data.map(\r\n        dimension => ({ ...dimension, visible: true, expandable: true, data: [] }),\r\n      );\r\n\r\n      promises = [];\r\n      const dataFilter = allDimensions.map((item) => {\r\n        promises.push(getQuestionsByIdDimensionApi(item.id));\r\n        return ({ ...item, expandable: false });\r\n      });\r\n\r\n      let id = '';\r\n      let callValue = '';\r\n      let supplyValue = '';\r\n      let companySizeValue = '';\r\n      let questionSelected = [];\r\n      let criterionsSelected = [];\r\n      let surveyQuestions = [];\r\n      let surveyCriterionsPercent = [];\r\n      const percents = {};\r\n      if (idSurvey) {\r\n        const surveyData = arrayResponse[5].data.data;\r\n        id = surveyData.id;\r\n        callValue = surveyData.idCall;\r\n        supplyValue = surveyData.idSupply;\r\n        companySizeValue = surveyData.idCompanySize;\r\n        surveyQuestions = surveyData.question.map(question => ({\r\n          ...question,\r\n          visible: true,\r\n          expandable: false,\r\n        }));\r\n        surveyCriterionsPercent = surveyData.criterionPercent.map(percent => ({\r\n          ...percent,\r\n          visible: true,\r\n          expandable: false,\r\n        }));\r\n        questionSelected = classifyQuestions(allDimensions, allCriterions, surveyQuestions);\r\n        const allDimensionsB = [...allDimensions];\r\n        // criterionsSelected = classifyDimensionAndCriterion(allDimensionsB);\r\n        criterionsSelected =\r\n          classifyDimensionAndCriterion(allDimensionsB, allCriterions, surveyCriterionsPercent);\r\n\r\n        surveyCriterionsPercent.forEach((d) => {\r\n          if (d.idDimension) {\r\n            percents[d.idDimension] = d.percent;\r\n          }\r\n          if (d.idCriterion) {\r\n            percents[d.idCriterion] = d.percent;\r\n          }\r\n        });\r\n      }\r\n\r\n      return requestApiNotLoading(dispatch, axios.all, promises).then((responses) => {\r\n        responses.forEach((response, index) => {\r\n          const { data } = response.data;\r\n          const questionsByDimension = [];\r\n          data.forEach((question) => {\r\n            if (!surveyQuestions.find(element => element.id === question.id)) {\r\n              questionsByDimension.push({\r\n                ...question,\r\n                visible: true,\r\n                expandable: false,\r\n              });\r\n            }\r\n          });\r\n          dataFilter[index].data = JSON.parse(JSON.stringify(questionsByDimension));\r\n        });\r\n\r\n        dispatch(getAllDataSurveyFormAdmonSuccess(\r\n          call, supply, companySize, allCriterions, allDimensions, dataFilter,\r\n          id, callValue, supplyValue, companySizeValue, questionSelected,\r\n          criterionsSelected, percents));\r\n      }).catch((err) => {\r\n        dispatch(getFailedRequest(err));\r\n      });\r\n    }).catch((err) => {\r\n      dispatch(getFailedRequest(err));\r\n    });\r\n  };\r\n}\r\n\r\nconst getQuestionsByDimensionSuccess = (data, id) => ({\r\n  type: GET_QUESTIONS_BY_DIMENSION,\r\n  data,\r\n  id,\r\n});\r\n\r\nconst getQuestionsByDimension = id => (dispatch) => {\r\n  requestApi(dispatch, getDataSurveyProgress, getQuestionsByIdDimensionApi, id)\r\n    .then((response) => {\r\n      const { data } = response.data;\r\n      const dataFilter = data.map(item => ({ ...item, visible: true }));\r\n      dispatch(getQuestionsByDimensionSuccess(dataFilter, id));\r\n    }).catch(() => {\r\n      dispatch(getFailedRequest());\r\n    });\r\n};\r\n\r\nfunction changeSearchByDimension(value) {\r\n  return {\r\n    type: CHANGE_SEARCH_BY_DIMENSION,\r\n    value,\r\n  };\r\n}\r\n\r\nfunction changeSearchByQuestion(value, parentId) {\r\n  return {\r\n    type: CHANGE_SEARCH_BY_QUESTION_SURVEY,\r\n    value,\r\n    parentId,\r\n  };\r\n}\r\n\r\nconst searchByDimension = value => ({\r\n  type: SEARCH_BY_DIMENSION,\r\n  value,\r\n});\r\n\r\nconst searchQuestion = (value, parentId) => ({\r\n  type: SEARCH_QUESTION_SURVEY,\r\n  value,\r\n  parentId,\r\n});\r\n\r\nfunction collapseDimension(data) {\r\n  return {\r\n    type: COLLAPSE_DIMENSION_SURVEY_FORM,\r\n    data,\r\n  };\r\n}\r\n\r\nfunction collapseCriterion(data) {\r\n  return {\r\n    type: COLLAPSE_CRITERION_SURVEY_FORM,\r\n    data,\r\n  };\r\n}\r\n\r\nconst setCallValue = value => ({\r\n  type: SET_CALL_VALUE,\r\n  value,\r\n});\r\n\r\nconst setSupplyValue = value => ({\r\n  type: SET_SUPPLY_VALUE,\r\n  value,\r\n});\r\n\r\nconst setCompanySizeValue = value => ({\r\n  type: SET_COMPANY_SIZE_VALUE,\r\n  value,\r\n});\r\n\r\nfunction saveDataSurvey() {\r\n  return {\r\n    type: SAVE_SURVEY_ADMON,\r\n  };\r\n}\r\n\r\nfunction getObjectCriterionPercent(data, idSurvey, idCall, type) {\r\n  const criterionData = {\r\n    idCall,\r\n    idSurvey,\r\n    idDimension: type === 'D' ? data.id : '',\r\n    idCriterion: type === 'C' ? data.id : '',\r\n    percent: data.percent,\r\n  };\r\n\r\n  return criterionData;\r\n}\r\n\r\nfunction saveSurvey(next, redirect) {\r\n  return (dispatch, getState) => {\r\n    const surveyAdmon = getState().surveyAdmon;\r\n    const id = surveyAdmon.id;\r\n    const idCall = surveyAdmon.callValue;\r\n    if (idCall === '') {\r\n      dispatch(setMessage('Debe seleccionar una convocatoria', 'warning'));\r\n      return;\r\n    }\r\n    const idSupply = surveyAdmon.supplyValue;\r\n    if (idSupply === '') {\r\n      dispatch(setMessage('Debe seleccionar un tipo de suministro', 'warning'));\r\n      return;\r\n    }\r\n    const idCompanySize = surveyAdmon.companySizeValue;\r\n    if (idCompanySize === '') {\r\n      dispatch(setMessage('Debe seleccionar un tamaño de empresa', 'warning'));\r\n      return;\r\n    }\r\n    if (surveyAdmon.questionSelected.length === 0) {\r\n      dispatch(setMessage('Debe seleccionar al menos una pregunta', 'warning'));\r\n      return;\r\n    }\r\n    const data = {\r\n      id,\r\n      idCall,\r\n      idSupply,\r\n      idCompanySize,\r\n      question: [],\r\n      criterionPercent: [],\r\n    };\r\n    surveyAdmon.questionSelected.forEach((dimension) => {\r\n      dimension.data.forEach((criterion) => {\r\n        criterion.data.forEach((question) => {\r\n          question.idCall = idCall;\r\n          data.question.push(question);\r\n        });\r\n      });\r\n    });\r\n\r\n    surveyAdmon.criterionsSelected.forEach((dimension) => {\r\n      data.criterionPercent.push(getObjectCriterionPercent(dimension, id, idCall, 'D'));\r\n      dimension.data.forEach((criterion) => {\r\n        data.criterionPercent.push(getObjectCriterionPercent(criterion, id, idCall, 'C'));\r\n      });\r\n    });\r\n\r\n    requestApi(dispatch, getDataSurveyProgress, saveSurveyApi, data)\r\n      .then(() => {\r\n        dispatch(saveDataSurvey());\r\n        if (next && redirect) {\r\n          redirect();\r\n          next();\r\n        }\r\n      }).catch(() => {\r\n        dispatch(getFailedRequest());\r\n      });\r\n  };\r\n}\r\n\r\nconst cleanData = () => ({\r\n  type: CLEAN_DATA,\r\n});\r\n\r\nconst questionSelectedSuccess = (questionSel, data) => ({\r\n  type: SAVE_QUESTION_SELECTED,\r\n  questionSel,\r\n  data,\r\n});\r\n\r\nconst criterionsPercentSelectedSuccess = (criterionPercentSel, percents) => ({\r\n  type: SAVE_CRITERION_PERCENT_SELECTED,\r\n  criterionPercentSel,\r\n  percents,\r\n});\r\n\r\nfunction savePercentDimensionCriterion(clientData) {\r\n  return (dispatch, getState) => {\r\n    clientData.name = clientData.name.trim();\r\n    const rCriterionSelected = getState().surveyAdmon.criterionsSelected;\r\n    const criterionSelected = Object.assign([], rCriterionSelected);\r\n    const rPercents = getState().surveyAdmon.percents;\r\n    const percents = Object.assign({}, rPercents);\r\n    criterionSelected.forEach((d) => {\r\n      if (d.id === clientData.id) {\r\n        d.percent = clientData.percent;\r\n        percents[clientData.id] = clientData.percent;\r\n      } else {\r\n        d.data.forEach((element) => {\r\n          if (element.id === clientData.id) {\r\n            element.percent = clientData.percent;\r\n            percents[clientData.id] = clientData.percent;\r\n          }\r\n        });\r\n      }\r\n    });\r\n    dispatch(closeModal());\r\n    dispatch(criterionsPercentSelectedSuccess(criterionSelected, percents));\r\n  };\r\n}\r\n\r\nconst crearPreguntas = (questionData, data, preguntaCriterio) => {\r\n  if (preguntaCriterio) {\r\n    data.find(x => x.id === questionData.idDimension).data\r\n      .find(x => x.id === questionData.idCriterion).data\r\n      .push(questionData);\r\n    return data;\r\n  }\r\n  data.find(x => x.id === questionData.idDimension).data\r\n    .find(x => x.id === 0).data\r\n    .push(questionData);\r\n  return data;\r\n};\r\n\r\nconst validarCriterios = (questionData, data, criterion, questionCriterion) => {\r\n  const createCriterion = data.find(x => x.id === questionData.idDimension).data;\r\n  if (!questionCriterion) {\r\n    const existCriterion = createCriterion.find(x => x.id === questionData.idCriterion);\r\n    if (createCriterion.length === 0 || !existCriterion) {\r\n      criterion.data = [];\r\n      createCriterion.push(criterion);\r\n    }\r\n    return crearPreguntas(questionData, data, true);\r\n  }\r\n  const existCriterion = createCriterion.find(x => x.id === 0);\r\n  if (createCriterion.length === 0 || !existCriterion) {\r\n    createCriterion.push({ id: 0, data: [], name: 'Preguntas sin criterio' });\r\n  }\r\n  return crearPreguntas(questionData, data, false);\r\n};\r\n\r\nconst validaciones = (questionData, data, criterion) => {\r\n  const questionCriterion = questionData.idCriterion === '';\r\n  return validarCriterios(questionData, data, criterion, questionCriterion);\r\n};\r\n\r\nconst setDataCriterionPercent = (dQuestionSel, percents) => {\r\n  const copyDataQ = JSON.parse(dQuestionSel);\r\n  copyDataQ.forEach((qu) => {\r\n    if (qu.data.length > 0) {\r\n      qu.data.forEach((elemento) => {\r\n        delete elemento.data;\r\n        elemento.percent =\r\n          Object.prototype.hasOwnProperty.call(percents, elemento.id) ? percents[elemento.id] : 0;\r\n      });\r\n    }\r\n    qu.expandable = false;\r\n    qu.percent =\r\n      Object.prototype.hasOwnProperty.call(percents, qu.id) ? percents[qu.id] : 0;\r\n  });\r\n\r\n  return JSON.parse(JSON.stringify(copyDataQ));\r\n};\r\n\r\nconst questionSelected = (questionData, type = 'selected', dependency) => (dispatch, getState) => {\r\n  try {\r\n    const dimensions = getState().surveyAdmon.allDimensions;\r\n    const criterions = getState().surveyAdmon.allCriterions;\r\n    const questionSel = getState().surveyAdmon.questionSelected;\r\n    const criterionsSel = getState().surveyAdmon.criterionsSelected;\r\n    const data = getState().surveyAdmon.data;\r\n    const rPercents = getState().surveyAdmon.percents;\r\n    const percents = Object.assign({}, rPercents);\r\n    const copyData = Object.assign([], data);\r\n    let dataQuestionSel = Object.assign([], questionSel);\r\n    let dataCriterionsSel = Object.assign([], criterionsSel);\r\n    const dimension = dimensions.find(d => d.id === questionData.idDimension);\r\n    const criterion = criterions.find(c => c.id === questionData.idCriterion);\r\n\r\n    if (type === 'selected' || type === 'deleteQuestion') {\r\n      const dimensionExist = dataQuestionSel.filter(element => element.id === dimension.id);\r\n      // Si la dimension no existe\r\n      if (dimensionExist.length === 0) {\r\n        dimension.data = [];\r\n        dimension.expandable = true;\r\n        dataQuestionSel.push(dimension);\r\n        dataQuestionSel = validaciones(questionData, dataQuestionSel, criterion);\r\n        // Si la dimension ya existe\r\n      } else {\r\n        dataQuestionSel = validaciones(questionData, dataQuestionSel, criterion);\r\n      }\r\n\r\n      // eliminar la pregunta seleccionada\r\n      const indexQuestion = copyData.find(x => x.id === questionData.idDimension).data\r\n        .findIndex(x => x.id === questionData.id);\r\n      copyData.find(x => x.id === questionData.idDimension).data\r\n        .splice(indexQuestion, 1);\r\n\r\n      dispatch(questionSelectedSuccess(dataQuestionSel, copyData));\r\n      dataCriterionsSel = setDataCriterionPercent(JSON.stringify(dataQuestionSel), percents);\r\n      dispatch(criterionsPercentSelectedSuccess(dataCriterionsSel));\r\n\r\n      const dependingQuestion = copyData.find(x => x.id === questionData.idDimension).data\r\n        .find(x => x.id === questionData.dependOfQuestion);\r\n      if (questionData.dependOfQuestion !== '' && dependingQuestion) {\r\n        dispatch(questionSelected(dependingQuestion, 'selected', true));\r\n      } else {\r\n        let message = `Pregunta agregada exitosamente${dependency ? ', junto con la pregunta de la que depende' : ''}`;\r\n        if (type === 'deleteQuestion') {\r\n          message = 'La pregunta ha sido eliminada';\r\n        }\r\n        dispatch(setMessage(message, 'success'));\r\n        dispatch(setDeleteQuestionSurvey());\r\n      }\r\n    } else {\r\n      // Buscar dimension de la pregunta\r\n      copyData.find(x => x.id === questionData.idDimension).data\r\n        .push(questionData);\r\n      // eliminar la pregunta deseleccionada\r\n      const siblingQuestions = dataQuestionSel\r\n        .find(x => x.id === questionData.idDimension).data\r\n        .find(x => x.id === (questionData.idCriterion !== '' ? questionData.idCriterion : 0)).data;\r\n      const indexQuestion = siblingQuestions.findIndex(x => x.id === questionData.id);\r\n\r\n      dataQuestionSel\r\n        .find(x => x.id === questionData.idDimension).data\r\n        .find(x => x.id === (questionData.idCriterion !== '' ? questionData.idCriterion : 0)).data\r\n        .splice(indexQuestion, 1);\r\n\r\n      dispatch(questionSelectedSuccess(dataQuestionSel, copyData));\r\n      dataCriterionsSel = setDataCriterionPercent(JSON.stringify(dataQuestionSel), percents);\r\n      dispatch(criterionsPercentSelectedSuccess(dataCriterionsSel));\r\n\r\n      const dependingQuestions = siblingQuestions\r\n        .filter(x => x.dependOfQuestion === questionData.id);\r\n      if (dependingQuestions.length > 0) {\r\n        dependingQuestions.forEach((x) => {\r\n          dispatch(questionSelected(x, 'deselected', true));\r\n        });\r\n        dispatch(setMessage('Se ha regresado la pregunta al listado, junto con las preguntas dependientes', 'success'));\r\n      } else if (!dependency) {\r\n        dispatch(setMessage('Se ha regresado la pregunta al listado', 'success'));\r\n      }\r\n    }\r\n  } catch (error) {\r\n    dispatch(setMessage('Ha ocurrido un error!', 'error', error));\r\n  }\r\n};\r\n\r\n// eslint-disable-next-line no-unused-vars\r\nconst deleteQuestionSurveyAdmon = question => (dispatch) => {\r\n  requestApi(dispatch, getDimensionsProgress, deleteQuestionApi, question)\r\n    .then(() => {\r\n      dispatch(questionSelected(question, 'deleteQuestion'));\r\n    }).catch((err) => {\r\n      dispatch(getFailedRequest(err));\r\n    });\r\n};\r\n\r\nconst copySurvey = data => (dispatch) => {\r\n  dispatch(closeModal());\r\n  requestApi(dispatch, getDataSurveyProgress, copySurveyApi, data)\r\n    .then(() => {\r\n      requestApi(dispatch, getDataSurveyProgress, getAllDataSurveyApi)\r\n        .then((response) => {\r\n          const dataFilter = response.data.data.map(item => ({\r\n            ...item,\r\n            visible: true,\r\n          }));\r\n          dispatch(updateDataSurvey(dataFilter));\r\n          dispatch(setMessage('La encuesta ha sido copiada', 'success'));\r\n        }).catch(() => {\r\n          dispatch(getFailedRequest());\r\n        });\r\n    }).catch(() => {\r\n      dispatch(getFailedRequest());\r\n    });\r\n};\r\n\r\nexport {\r\n  getAllSurveys,\r\n  getAllDataSurveyFormAdmon,\r\n  changeSearchSurvey,\r\n  searchSurvey,\r\n  saveSurvey as saveData,\r\n  savePercentDimensionCriterion,\r\n  cleanData,\r\n  changeSearchByDimension,\r\n  changeSearchByQuestion,\r\n  searchByDimension,\r\n  searchQuestion,\r\n  getQuestionsByDimension,\r\n  collapseDimension,\r\n  collapseCriterion,\r\n  getCriterionByDimension,\r\n  dropCriterionByDimension,\r\n  questionSelected,\r\n  filterByCriterion,\r\n  deselectedByCriterion,\r\n  setCallValue,\r\n  setSupplyValue,\r\n  setCompanySizeValue,\r\n  copySurvey,\r\n  openModal,\r\n  closeModal,\r\n  deleteQuestionSurveyAdmon,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/state/SurveyAdmon/action.js","import intance from './instance';\r\n\r\nconst getDataCompanySizeApi = () => intance.get('CompanySize?action=getAll');\r\n\r\nconst saveDataCompanySizeApi = data => intance.post('CompanySize?action=save', data);\r\n\r\nconst deleteDataCompanyTypeApi = data => intance.get('CompanySize?action=delete', {\r\n  params: { id: data.id },\r\n});\r\n\r\nexport {\r\n  getDataCompanySizeApi,\r\n  saveDataCompanySizeApi,\r\n  deleteDataCompanyTypeApi,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/companySize.js","import instance from './instance';\r\n\r\nconst getAllDataSurveyApi = () => instance.get('Survey?action=getAll');\r\n\r\nconst getSurveyByIdApi = id => instance.get(`Survey?action=get&id=${id}`);\r\n\r\nconst saveSurveyApi = data => instance.post('Survey?action=save', data);\r\n\r\nconst copySurveyApi = ({ idSurvey, idCall }) => instance.get(`Survey?action=copy&idSurvey=${idSurvey}&idCall=${idCall}`);\r\n\r\nconst deleteSurveyApi = data => instance.get(`Survey?action=delete&id=${data.id}`);\r\n\r\nexport {\r\n  getAllDataSurveyApi,\r\n  getSurveyByIdApi,\r\n  saveSurveyApi,\r\n  copySurveyApi,\r\n  deleteSurveyApi,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/survey.js","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport * as actions from '../../state/SurveyAdmon/action';\r\nimport SurveyAdmon from './SurveyAdmon';\r\nimport ColumnsSurveyAdmon from './ColumnsSurveyAdmon';\r\nimport CopySurvey from './CopySurvey';\r\n\r\nconst pathSurveyAdmonForm = '/surveyAdmon/form';\r\n\r\nclass SurveyAdmonContainer extends Component {\r\n  componentDidMount() {\r\n    this.props.getAllSurveys();\r\n  }\r\n\r\n  onAdd = () => {\r\n    const { history } = this.props;\r\n    history.push(`${pathSurveyAdmonForm}`);\r\n  }\r\n\r\n  onEdit = (record) => {\r\n    const { history } = this.props;\r\n    history.push(`${pathSurveyAdmonForm}/${record.id}`);\r\n  }\r\n\r\n  onCopy = (record) => {\r\n    this.props.openModal(<CopySurvey {...this.props} record={record} />);\r\n  }\r\n\r\n  render() {\r\n    const template =\r\n    ColumnsSurveyAdmon(this.props, this.onAdd, this.onEdit, this.onCopy);\r\n    return (\r\n      <SurveyAdmon\r\n        {...this.props}\r\n        toForm={pathSurveyAdmonForm}\r\n        columns={template}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  loading: state.surveyAdmon.loading,\r\n  data: state.surveyAdmon.data,\r\n  companySize: state.surveyAdmon.companySize,\r\n  supply: state.surveyAdmon.supply,\r\n  call: state.surveyAdmon.call,\r\n  searchValue: state.surveyAdmon.searchValue,\r\n  masters: state.surveyAdmon.masters,\r\n});\r\n\r\nexport default withRouter(connect(\r\n  mapStateToProps,\r\n  actions,\r\n)(SurveyAdmonContainer));\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/SurveyAdmon/SurveyAdmonContainer.js","import React from 'react';\r\nimport { Table, Input, Icon } from 'antd';\r\n\r\nconst Search = Input.Search;\r\n\r\nfunction SurveyAdmon(props) {\r\n  const { columns, data, loading, searchValue, searchSurvey, changeSearchSurvey } = props;\r\n\r\n  return (\r\n    <div>\r\n      <Search\r\n        size=\"large\"\r\n        placeholder=\"Buscar\"\r\n        style={{ width: 200 }}\r\n        value={searchValue}\r\n        prefix={<Icon type=\"close\" style={{ cursor: 'pointer' }} onClick={e => searchSurvey(e.target.value)} />}\r\n        onChange={event => (\r\n          changeSearchSurvey(event.target.value))}\r\n        onSearch={value => (\r\n          searchSurvey(value))}\r\n      />\r\n      <Table\r\n        rowKey={record => record.id}\r\n        loading={loading}\r\n        columns={columns}\r\n        dataSource={data && data.filter(x => x.visible)}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SurveyAdmon;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/SurveyAdmon/SurveyAdmon.js","import React, { Fragment } from 'react';\r\nimport { Tooltip, Button } from 'antd';\r\n\r\nconst columnsData = (props, onAdd, onEdit, onCopy) => [{\r\n  title: 'Convocatoria',\r\n  key: 'idCall',\r\n  render: (text, record) => {\r\n    let call = props.call.find(x => x.id === record.idCall);\r\n    call = call ? call.year : '';\r\n    return call;\r\n  },\r\n  sorter: (a, b) => {\r\n    const callA = props.call.find(x => x.id === a.idCall);\r\n    const callB = props.call.find(x => x.id === b.idCall);\r\n    return callA.year - callB.year;\r\n  },\r\n}, {\r\n  title: 'Tipo de suministro',\r\n  key: 'idSupply',\r\n  render: (text, record) => {\r\n    let supply = props.supply.find(x => x.id === record.idSupply);\r\n    supply = supply ? supply.name : '';\r\n    return supply;\r\n  },\r\n}, {\r\n  title: 'Tamaño de la empresa',\r\n  key: 'idCompanySize',\r\n  render: (text, record) => {\r\n    let companySize = props.companySize.find(x => x.id === record.idCompanySize);\r\n    companySize = companySize ? companySize.name : '';\r\n    return companySize;\r\n  },\r\n}, {\r\n  title: 'Acción',\r\n  dataIndex: 'Id',\r\n  key: 'delete',\r\n  render: (text, record) => (\r\n    <Fragment>\r\n      <Tooltip title=\"Editar\">\r\n        <Button\r\n          shape=\"circle\"\r\n          icon=\"edit\"\r\n          onClick={() => onEdit(record)}\r\n        />\r\n      </Tooltip>\r\n      <Tooltip title=\"Agregar\">\r\n        <Button\r\n          shape=\"circle\"\r\n          icon=\"plus\"\r\n          onClick={() => onAdd()}\r\n        />\r\n      </Tooltip>\r\n      <Tooltip title=\"Copiar\">\r\n        <Button\r\n          shape=\"circle\"\r\n          icon=\"copy\"\r\n          onClick={() => onCopy(record)}\r\n        />\r\n      </Tooltip>\r\n    </Fragment>\r\n  ),\r\n}];\r\n\r\nexport default columnsData;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/SurveyAdmon/ColumnsSurveyAdmon.js","import React from 'react';\r\nimport copySurveyData from './copySurveyData';\r\nimport GenericForm from '../shared/GenericForm';\r\n\r\nfunction CopySurvey(props) {\r\n  return (\r\n    <GenericForm\r\n      {...props}\r\n      formData={copySurveyData}\r\n      submitMethod={props.copySurvey}\r\n      validate\r\n    />\r\n  );\r\n}\r\nexport default CopySurvey;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/SurveyAdmon/CopySurvey.js","const formData = ({ record = {}, closeModal, masters }) => [\r\n  {\r\n    key: 1.0,\r\n    value: [\r\n      {\r\n        span: 24,\r\n        type: 'title',\r\n        value: 'Copiar encuesta',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    key: 1.1,\r\n    value: [\r\n      {\r\n        span: 24,\r\n        type: 'input',\r\n        label: 'Id encuesta',\r\n        key: 'idSurvey',\r\n        value: record.id,\r\n        style: { display: 'none' },\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    key: 1.2,\r\n    value: [\r\n      {\r\n        span: 24,\r\n        type: 'select',\r\n        options: masters.Call,\r\n        label: 'Seleccione la convocatoria para la encuesta a copiar',\r\n        key: 'idCall',\r\n        required: true,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    key: 1.4,\r\n    justify: 'center',\r\n    value: [\r\n      {\r\n        span: 4,\r\n        type: 'button',\r\n        label: 'Cancelar',\r\n        key: 'cancel',\r\n        buttonType: 'primary',\r\n        handleclick: closeModal,\r\n      }, {\r\n        span: 4,\r\n        type: 'button',\r\n        label: 'Copiar',\r\n        key: 'save',\r\n        buttonType: 'primary',\r\n        htmlType: 'submit',\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nexport default formData;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/SurveyAdmon/copySurveyData.js"],"sourceRoot":""}