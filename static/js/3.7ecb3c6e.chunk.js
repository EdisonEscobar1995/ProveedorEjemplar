webpackJsonp([3],{1212:function(e,n,t){"use strict";function i(e){var n=e.text,t=e.translate;return a.a.createElement(s,null,t?a.a.createElement(u.a,{id:n}):n)}var r=t(0),a=t.n(r),o=t(29),u=t(55),c=function(e,n){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(["\n  color: ",";\n  margin-bottom: ",";\n"],["\n  color: ",";\n  margin-bottom: ",";\n"]),s=o.c.h1(c,function(e){return e.theme.color.primary},function(e){return e.theme.spaces.main});n.a=i},1218:function(e,n,t){"use strict";t.d(n,"c",function(){return r}),t.d(n,"b",function(){return a}),t.d(n,"d",function(){return o}),t.d(n,"a",function(){return u});var i=t(82),r=function(e){return i.a.get("Criterion?action=getAll&idDimension="+(e||""))},a=function(){return i.a.get("Criterion?action=getAll")},o=function(e){return i.a.post("Criterion?action=save",e)},u=function(e){return i.a.get("Criterion?action=delete",{params:{id:e.id}})}},1221:function(e,n,t){"use strict";function i(e){return a.a.get("xaServicios.xsp?Open&action=getDimensionsBySurvey&idSurvey="+e)}t.d(n,"b",function(){return o}),t.d(n,"c",function(){return i}),t.d(n,"d",function(){return u}),t.d(n,"a",function(){return c});var r=t(82),a=t(209),o=function(){return r.a.get("Dimension?action=getAll")},u=function(e){return r.a.post("Dimension?action=save",e)},c=function(e){return r.a.get("Dimension?action=delete",{params:{id:e.id}})}},1229:function(e,n,t){"use strict";t.d(n,"b",function(){return r}),t.d(n,"c",function(){return a}),t.d(n,"e",function(){return o}),t.d(n,"a",function(){return u}),t.d(n,"d",function(){return c});var i=t(82),r=function(){return i.a.get("Question?action=getAll")},a=function(e){return i.a.get("Question?action=get&id="+e)},o=function(e){return i.a.post("Question?action=save",e)},u=function(e){return i.a.get("Question?action=delete&id="+e.id)},c=function(e){return i.a.get("Question?action=getAll&idDimension="+e)}},1262:function(e,n,t){"use strict";function i(e){return function(n){var t=[Object(h.b)(),Object(b.b)(),Object(y.c)(e),Object(y.b)(),Object(g.a)(e)];Object(m.a)(n,O,p.a.all,t).then(function(e){var t=e[0].data.data,i=e[1].data.data,r=e[2].data.data,a=e[3].data.data,o=e[4].data.data;o=o.map(function(e){return Object.assign({},e,{key:e.id})});var u=a.filter(function(e){return e.id!==r.id}).map(function(e){return Object.assign({},e,{name:e.wording})});Object(m.a)(n,O,g.a,r.dependOfQuestion).then(function(e){var a=e.data.data,c=a.map(function(e){return Object.assign({},e,{name:e.wording})});n(k(r,t,i,u,o,c))}).catch(function(){n(D())})}).catch(function(e){n(D(e))})}}function r(e){return{type:l.u,value:e}}function a(e){return{type:l.i,value:e}}function o(){return{type:l.e}}function u(e){return{type:l.g,value:e.target.value}}function c(e){return{type:l.t,data:e}}function s(e){return function(n){Object(m.a)(n,q,g.b,e).then(function(){n(P())}).catch(function(){n(D())})}}function d(e,n){return function(t,i){e.idSurvey=i().question.editData.idSurvey,e.options=i().question.options,Object(m.a)(t,q,y.e,e).then(function(e){var n=e.data.data;t(c(n))}).then(function(){if("Cerrada"===e.type){if(i().question.options.filter(function(e){return""===e.wording}).length>0)return void t(Object(v.a)("Las opciones de respuesta son obligatorias.","warning"))}n&&n()}).catch(function(){t(D())})}}Object.defineProperty(n,"__esModule",{value:!0}),t.d(n,"getAllQuestions",function(){return w}),t.d(n,"getQuestion",function(){return i}),t.d(n,"clearDataEdit",function(){return A}),t.d(n,"changeSearchQuestion",function(){return a}),t.d(n,"searchQuestion",function(){return r}),t.d(n,"saveData",function(){return d}),t.d(n,"changeDisabled",function(){return o}),t.d(n,"deleteQuestion",function(){return x}),t.d(n,"addDataOptions",function(){return H}),t.d(n,"changeDependingQuestion",function(){return _}),t.d(n,"changeDimension",function(){return I}),t.d(n,"changeCriterion",function(){return N}),t.d(n,"changeQuestion",function(){return F}),t.d(n,"changeHelpText",function(){return M}),t.d(n,"getAddQuestion",function(){return T}),t.d(n,"changeAnswerType",function(){return R}),t.d(n,"changeItems",function(){return u}),t.d(n,"switchRequired",function(){return z}),t.d(n,"switchRequiredAttachment",function(){return B}),t.d(n,"updateDataOptions",function(){return L}),t.d(n,"deleteDataOptions",function(){return U}),t.d(n,"saveOptionsQuestion",function(){return s});var f=t(213),p=t.n(f),l=t(405),y=t(1229),h=t(1221),b=t(1218),g=t(1263),m=t(208),v=t(211),O=function(){return{type:l.m}},j=function(e,n,t){return{type:l.n,data:e,dimension:n,criterion:t}},D=function(){return{type:l.r}},w=function(){return function(e){Object(m.a)(e,O,h.b).then(function(n){var t=n.data;Object(m.a)(e,O,b.b).then(function(n){var i=n.data;Object(m.a)(e,O,y.b).then(function(n){var r=n.data.data,a=r.map(function(e){var n=t.data.find(function(n){return n.id===e.idDimension}),r="";n&&(r=n.name);var a=i.data.find(function(n){return n.id===e.idCriterion}),o="";return a&&(o=a.name),Object.assign({},e,{visible:!0,dimensionName:r,criterionName:o})});a=Object(m.c)(a,"dimensionName"),e(j(a,t,i))}).catch(function(){e(D())})}).catch(function(){e(D())})}).catch(function(){e(D())})}},q=function(){return{type:l.p}},k=function(e,n,t,i,r,a){return{type:l.q,editData:e,dimension:n,criterion:t,questions:i,options:r,items:a}},C=function(e){return{type:l.o,items:e}},A=function(){return{type:l.j}},Q=function(e,n,t){return{type:l.l,dimension:e,criterion:n,questions:t}},T=function(){return function(e){var n=[Object(h.b)(),Object(b.b)(),Object(y.b)()];Object(m.a)(e,O,p.a.all,n).then(function(n){var t=n[0].data.data,i=n[1].data.data,r=n[2].data.data,a=r.map(function(e){return Object.assign({},e,{name:e.wording})});e(Q(t,i,a))}).catch(function(n){e(D(n))})}},E=function(e){return{type:l.c,dependOfQuestion:e}},_=function(e){return function(n){Object(m.a)(n,O,g.a,e).then(function(t){var i=t.data.data,r=i.map(function(e){return Object.assign({},e,{name:e.wording})});n(C(r)),n(E(e))}).catch(function(){n(D())})}},P=function(){return{type:l.s}},S=function(){return{type:l.k}},x=function(e){return function(n){Object(m.a)(n,O,y.a,e).then(function(){n(S()),n(Object(v.a)("La pregunta ha sido eliminada","success")),n(w())}).catch(function(){n(D())})}},R=function(e){return{type:l.a,answerType:e}},I=function(e){return{type:l.d,value:e}},N=function(e){return{type:l.b,value:e}},F=function(e){return{type:l.h,value:e}},M=function(e){return{type:l.f,value:e}},z=function(e){return{type:l.v,checked:e}},B=function(e){return{type:l.w,checked:e}},G=function(e){return{type:l.x,options:e}},H=function(e){return function(n,t){var i=t().question,r=i.options,a=i.editData,o=Object.assign({},e,{id:"",idQuestion:a.id});r.push(o),n(G(r))}},L=function(e,n,t){return function(i,r){var a=Object.assign({},r().question),o=a.options,u=a.editData;if(n>=o.length){var c={wording:"wording"===t?e:"",score:"score"===t?e:"",requireAttachment:"requireAttachment"===t&&e,key:n,id:"",idQuestion:u.id};o.push(c)}else o[n][t]=e;i(G(o))}},U=function(e){return function(n){n(G(e))}}},1263:function(e,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"b",function(){return a});var i=t(82),r=function(e){return i.a.get("Option?action=getOptionsByQuestion&idQuestion="+e)},a=function(e){return i.a.post("Option?action=save",e)}},1495:function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}function a(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var o=t(0),u=t.n(o),c=t(129),s=t(101),d=t(22),f=t(1262),p=t(1496),l=t(1212),y=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),h=function(e){function n(){return i(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,e),y(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id,n=void 0===e?null:e;n&&"string"===typeof n?this.props.getQuestion(n):this.props.getAddQuestion()}},{key:"render",value:function(){var e=this.props.loading;return!1===e?u.a.createElement(d.u,{spinning:e},u.a.createElement(l.a,{text:"ADMINISTRAR PREGUNTAS"}),u.a.createElement(p.a,this.props)):u.a.createElement(d.u,{spinning:e},u.a.createElement(l.a,{text:"ADMINISTRAR PREGUNTAS"}))}}]),n}(o.Component),b=function(e){return{editData:e.question.editData,dimension:e.question.dimension,criterion:e.question.criterion,questions:e.question.questions,items:e.question.items,options:e.question.options,loading:e.question.loading}},g=Object.assign({},f);n.a=Object(s.e)(Object(c.b)(b,g)(h))},1496:function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}function a(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var o=t(0),u=t.n(o),c=t(22),s=t(1497),d=t(397),f=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),p=function(e){function n(){var e,t,a,o;i(this,n);for(var u=arguments.length,s=Array(u),d=0;d<u;d++)s[d]=arguments[d];return t=a=r(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(s))),a.openNotification=function(){c.A.success({message:"Operaci\xf3n exitosa",description:"Documento guardado"})},a.handleSubmit=function(e){e.preventDefault();var n=a.props,t=n.saveData,i=a;n.form.validateFieldsAndScroll(function(e,n){e||t(n,i.openNotification)})},o=t,r(a,o)}return a(n,e),f(n,[{key:"render",value:function(){var e=this.props.loading,n=this.props.form,t=n.getFieldDecorator,i=n.setFields,r=Object(s.a)(Object.assign({},this.props));return u.a.createElement(c.u,{spinning:e},u.a.createElement(c.g,{onSubmit:this.handleSubmit},u.a.createElement(d.a,{getFieldDecorator:t,setFields:i,content:r,dontFormatMessage:!0})))}}]),n}(o.Component);n.a=c.g.create()(p)},1497:function(e,n,t){"use strict";var i=function(e){var n=e.editData,t=e.addDataOptions,i=e.updateDataOptions,r=e.deleteDataOptions,a=e.dimension,o=e.criterion,u=e.questions,c=e.items,s=e.options,d=e.changeAnswerType,f=e.changeDependingQuestion,p=e.changeDimension,l=e.changeCriterion,y=e.changeQuestion,h=e.changeHelpText,b=e.changeItems,g=e.switchRequired,m=e.switchRequiredAttachment,v=e.history,O=[{id:"Abierta",name:"Abierta"},{id:"Cerrada",name:"Cerrada"}],j=[{title:"Opci\xf3n de respuesta",key:"wording"},{title:"Peso",key:"score"},{title:"\xbfRequiere soporte?",key:"requireAttachment",type:"switch"}],D=function(e){d(e)},w=function(e){f(e)},q=[{span:12,type:"switch",label:"\xbfEs requerido?",key:"required",required:!0,handleChange:g,value:n&&n.required}];"Cerrada"!==n.type&&q.splice(0,0,{span:12,type:"switch",label:"\xbfRequiere soporte?",key:"requireAttachment",required:!0,handleChange:m,value:n&&n.requireAttachment});var k=[{key:1,value:[{span:24,type:"input",label:"Id",key:"id",value:n?n.id:"",style:{display:"none"}}]},{key:1.1,value:[{span:8,type:"select",options:a,label:"Dimensi\xf3n",key:"idDimension",required:!0,handleChange:p,value:n?n.idDimension:"",valuesToClean:{idCriterion:{value:""},dependOfQuestion:{value:""},dependOfOptionId:{value:""}}},{span:8,type:"select",options:n&&Array.isArray(o)?o.filter(function(e){return e.idDimension===n.idDimension}):[],label:"Criterio",key:"idCriterion",handleChange:l,value:n?n.idCriterion:"",valuesToClean:{dependOfQuestion:{value:""},dependOfOptionId:{value:""}}},{span:8,type:"select",options:O,label:"Tipo de respuesta",key:"type",required:!0,handleChange:D,value:n?n.type:""}]},{key:1.2,value:[{span:24,type:"textarea",label:"Pregunta",key:"wording",required:!0,whitespace:!0,handleChange:y,value:n?n.wording:""}]},{key:1.4,value:q},{key:1.5,value:[{span:12,type:"input",label:"Texto de ayuda de las preguntas",key:"helpText",handleChange:h,value:n?n.helpText:""},{span:12,type:"select",options:n&&Array.isArray(u)?u.filter(function(e){return e.idDimension===n.idDimension&&e.idCriterion===n.idCriterion}):[],label:"Esta pregunta depende de",key:"dependOfQuestion",handleChange:w,value:n&&n.dependOfQuestion,valuesToClean:{dependOfOptionId:{value:""}}}]},{key:2,justify:"center",value:[{span:2,type:"button",label:"Guardar",key:"save",buttonType:"primary",htmlType:"submit"},{span:2,type:"button",label:"Cerrar",key:"save",buttonType:"primary",htmlType:"button",handleclick:function(){return v.goBack()}}]}];return"Cerrada"===n.type&&k.splice(3,0,{key:1.3,value:[{span:24,type:"table",label:"Pregunta",key:"options",required:!0,disabled:!1,readonly:!1,colummns:j,value:s,addData:t,updateField:i,deleteData:r}]}),n.dependOfQuestion&&c.length>0&&k.splice(k.length-1,0,{key:1.6,value:[{span:24,type:"radio",label:"Items",options:c,key:"dependOfOptionId",size:"small",required:!0,handleChange:b,value:n?n.dependOfOptionId:""}]}),k};n.a=i},440:function(e,n,t){"use strict";function i(){return a.a.createElement(o.a,null)}Object.defineProperty(n,"__esModule",{value:!0});var r=t(0),a=t.n(r),o=t(1495);n.default=i}});
//# sourceMappingURL=3.7ecb3c6e.chunk.js.map