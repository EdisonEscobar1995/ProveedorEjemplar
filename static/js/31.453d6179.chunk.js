webpackJsonp([31],{1203:function(t,e,n){"use strict";function a(){return o.a.createElement(r.a,null)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n.n(i),r=n(1467);e.default=a},1212:function(t,e,n){"use strict";function a(t){var e=t.text,n=t.translate;return o.a.createElement(f,null,n?o.a.createElement(u.a,{id:e}):e)}var i=n(0),o=n.n(i),r=n(29),u=n(55),c=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n  color: ",";\n  margin-bottom: ",";\n"],["\n  color: ",";\n  margin-bottom: ",";\n"]),f=r.c.h1(c,function(t){return t.theme.color.primary},function(t){return t.theme.spaces.main});e.a=a},1467:function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r=n(0),u=n.n(r),c=n(129),f=n(22),s=n(1468),d=n(1212),l=n(1470),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),m=function(t){function e(){return a(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),p(e,[{key:"componentDidMount",value:function(){this.props.getNotification()}},{key:"render",value:function(){return!1===this.props.loading?u.a.createElement(r.Fragment,null,u.a.createElement(d.a,{text:"Administrar Notificaciones"}),u.a.createElement(s.a,this.props)):u.a.createElement(f.u,{spinning:this.props.loading},u.a.createElement(d.a,{text:"Administrar Notificaciones"}))}}]),e}(r.Component),y=function(t){return{loading:t.notification.loading,data:t.notification.data,dataOption:t.notification.dataOption,users:t.notification.users,fetching:t.notification.fetching}};e.a=Object(c.b)(y,l)(m)},1468:function(t,e,n){"use strict";var a=n(0),i=n.n(a),o=n(1469),r=n(392),u=function(t){return i.a.createElement(r.a,Object.assign({},t,{formData:o.a,submitMethod:t.saveNotification,validate:!0}))};e.a=u},1469:function(t,e,n){"use strict";var a=function(t){var e=t.dataOption,n=t.data,a=t.users,i=t.updateAttachment,o=t.getNotificationById,r=t.form,u=t.fetching,c=t.cleanData,f=t.getUsersByKey,s=t.deleteAttachment,d=[".jpg",".png",".jpeg"],l=function(){r.resetFields(),r.setFieldsValue({id:""}),c()},p=[{key:1.1,value:[{span:24,type:"select",options:n,label:"Por favor seleccione la notificaci\xf3n a configurar",key:"id",required:!0,handleChange:o,value:e.id}]}];return 0!==Object.keys(e).length&&p.splice(1,0,{key:1.2,value:[{span:12,type:"title",value:"Notificaci\xf3n env\xedo de correo a proveedores",key:"generalInformation"}]},{key:1.3,value:[{label:"Banner (600 x 260): (Adjuntar im\xe1genes en formato PNG. JPG, JPEG)",span:12,type:"upload",name:"idBanner",key:"idBanner",style:{marginBottom:"20px"},fileList:[e.banner],unique:!0,uploadMaxFilesize:10,uploadExtensions:d,onChange:i,onRemove:s,required:!0}]},{key:1.4,value:[{label:"Pie de p\xe1gina (600 x 260): (Adjuntar im\xe1genes en formato PNG. JPG, JPEG)",span:12,type:"upload",name:"idFooter",key:"idFooter",style:{marginBottom:"20px"},fileList:[e.footer],unique:!0,uploadMaxFilesize:10,uploadExtensions:d,onChange:i,onRemove:s,required:!0}]},{key:1.5,value:[{span:24,type:"input",label:"Asunto",key:"subject",value:e.subject,required:!0,whitespace:!0}]},{key:1.6,value:[{span:24,type:"textarea",label:"Mensaje",key:"message",value:e.message,required:!0,whitespace:!0}]},{key:1.7,value:[{span:24,type:"select",mode:"multiple",autoComplete:!0,options:a,label:"Notificaci\xf3n adicional a",key:"withCopy",value:e.withCopy,required:!1,onSearch:f,fetching:u}]},{key:2,justify:"center",value:[{span:2,type:"button",label:"Limpiar",key:"clear",buttonType:"primary",handleclick:l},{span:4,type:"button",label:"Guardar",key:"save",buttonType:"primary",htmlType:"submit"}]}),p};e.a=a},1470:function(t,e,n){"use strict";function a(){return{type:l.c}}function i(t){return{type:l.d,data:t}}function o(){return{type:l.h}}function r(t,e){return{type:l.b,dataOption:t,users:e}}function u(t){return function(e,n){Object(y.a)(e,a,p.b,t).then(function(t){var a=n().notification.data,i=t.data.data,o=a.find(function(t){return t.id===i.id});i.banner=o.banner,i.footer=o.footer;var u=i.withCopy.map(function(t){return{id:t,name:t}});e(r(i,u))}).catch(function(){e(o())})}}function c(){return function(t){Object(y.a)(t,a,p.a).then(function(e){var n=e.data.data;t(i(n))}).catch(function(){t(o())})}}function f(t){return{type:l.f,data:t}}function s(){return{type:l.e}}function d(t){return function(e){Object(y.a)(e,s,m.d,t).then(function(t){var n=t.data.data.map(function(t){return Object.assign({},t,{id:""===t.email?t.name:t.email,name:""===t.email?t.name:t.email})});e(f(n))}).catch(function(){e(o())})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"getNotification",function(){return c}),n.d(e,"saveNotification",function(){return O}),n.d(e,"getNotificationById",function(){return u}),n.d(e,"cleanData",function(){return v}),n.d(e,"updateAttachment",function(){return E}),n.d(e,"deleteAttachment",function(){return w}),n.d(e,"getUsers",function(){return j}),n.d(e,"getUsersByKey",function(){return d});var l=n(426),p=n(1471),m=n(407),y=n(208),b=n(211),h=function(){return{type:l.i}},v=function(){return{type:l.a}},g=function(t){return{type:l.g,data:t}},j=function(){return function(t){Object(y.a)(t,a,m.c).then(function(e){var n=e.data.data.map(function(t){return Object.assign({},t,{visible:!0})});t(g(n))}).catch(function(){t(o())})}},O=function(t,e,n){return function(e,i){var r=i().notification.dataOption;if(new RegExp(/^\s+$/).test(t.subject))return void e(Object(b.a)("El asunto no puede contener espacios solamente","info"));t.subject=t.subject.trim(),t.idFooter=r.idFooter,t.idBanner=r.idBanner,t.alias=r.alias,t.name=r.name,Object(y.a)(e,a,p.c,t).then(function(){e(h()),e(u(t.id)),n&&n()}).catch(function(){e(o())})}},k=function(t,e){return{type:l.j,data:t,dataOption:e}},E=function(t,e,n){return function(a,i){var o=i().notification,r=o.dataOption,u=o.data,c=i().notification.data.findIndex(function(t){return t.id===r.id});"idBanner"===e?(r.banner=n[0].response.data,u[c].banner=n[0].response.data):(r.footer=n[0].response.data,u[c].footer=n[0].response.data),t&&(u[c][e]=t[0].id,r[e]=t[0].id),a(k(u,r))}},w=function(t,e){return function(n,a){var i=a().notification,o=i.dataOption,r=i.data,u=a().notification.data.findIndex(function(t){return t.id===o.id});t&&(r[u][e]="","idBanner"===e?(r[u].banner={id:"",name:"",url:""},o.idBanner="",o.banner={id:"",name:"",url:""}):(r[u].footer={id:"",name:"",url:""},o.idFooter="",o.footer={id:"",name:"",url:""})),n(k(r,o))}}},1471:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r});var a=n(82),i=function(t){return a.a.post("Notification?action=save",t)},o=function(){return a.a.get("Notification?action=getAll")},r=function(t){return a.a.get("Notification?action=get",{params:{id:t}})}}});
//# sourceMappingURL=31.453d6179.chunk.js.map