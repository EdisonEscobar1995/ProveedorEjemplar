webpackJsonp([2],{1216:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=(n(82),n(209)),r=function(e){return a.a.get("xaServicios.xsp?Open&action=getMasterList&"+e.join("&"))}},1220:function(e,t,n){"use strict";function a(e){return l.a.get("xaServicios.xsp?Open&action=getAllCategory&idSupply="+e)}function r(e){return u.a.get("Category?action=getByIdSupply&idSupply="+e)}function i(e){return u.a.post("Category?action=save",e)}function o(e){var t=e.id;return u.a.get("Category?action=delete&id="+t)}n.d(t,"c",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return o});var u=n(82),l=n(209)},1221:function(e,t,n){"use strict";function a(e){return i.a.get("xaServicios.xsp?Open&action=getDimensionsBySurvey&idSurvey="+e)}n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return u}),n.d(t,"a",function(){return l});var r=n(82),i=n(209),o=function(){return r.a.get("Dimension?action=getAll")},u=function(e){return r.a.post("Dimension?action=save",e)},l=function(e){return r.a.get("Dimension?action=delete",{params:{id:e.id}})}},1256:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var a=n(24),r=n.n(a),i="YYYY/MM/DD",o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;return r()(e,t)}},1257:function(e,t,n){"use strict";function a(e){return l.a.get("xaServicios.xsp?Open&action=getAllSubCategory&idCategory="+e)}function r(e){return u.a.get("SubCategory?action=getByIdCategory&idCategory="+e)}function i(e){return u.a.post("SubCategory?action=save",e)}function o(e){var t=e.id;return u.a.get("SubCategory?action=delete&id="+t)}n.d(t,"b",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return o});var u=n(82),l=n(209)},1274:function(e,t,n){"use strict";function a(e){var t=e.buttons,n=e.preventTranlate;return i.a.createElement(o.s,{type:"flex",justify:"center",gutter:5},t.map(function(e){return i.a.createElement(o.e,{span:2,key:e.key},e.showConfirm?i.a.createElement(c.a,{preventTranlate:n,title:e.messageConfirm,method:e.onClick},i.a.createElement(p,{disabled:e.disabled,buttoncolor:e.buttoncolor},i.a.createElement(l.a,{id:e.text}))):i.a.createElement(p,{disabled:e.disabled,onClick:e.onClick,buttoncolor:e.buttoncolor},i.a.createElement(l.a,{id:e.text})))}))}n.d(t,"a",function(){return p});var r=n(0),i=n.n(r),o=n(22),u=n(29),l=n(55),c=n(210),s=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background: ",";\n  color: ",";\n  width: 100%;\n  &:hover, :focus {\n    background: ",";\n    color: ",";\n  }\n"],["\n  background: ",";\n  color: ",";\n  width: 100%;\n  &:hover, :focus {\n    background: ",";\n    color: ",";\n  }\n"]),p=Object(u.c)(o.b)(s,function(e){return e.theme.color[e.buttoncolor]},function(e){return e.theme.color.normal},function(e){return e.theme.color[e.buttoncolor]},function(e){return e.theme.color.normal});t.b=a},1275:function(e,t,n){"use strict";var a=["idCompanySize","idSupply","idCategory","fullNameContact","jobPosition","phoneOfContact","emailOfContact","nameLegalAgent","idLegalAgent","companyLogo","attachedFinancialReport"];t.a=a},1339:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),u=n.n(o),l=n(129),c=n(101),s=n(1340),p=n(1349),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),d(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params,t=e.idSupplier,n=void 0===t?null:t,a=e.idSupplierByCall,r=void 0===a?null:a;this.props.getDataSupplier(n,r)}},{key:"componentWillUnmount",value:function(){this.props.cleanStore()}},{key:"render",value:function(){return u.a.createElement(s.a,this.props)}}]),t}(o.Component),y=function(e){return{supplier:e.supplier.supplier,changeIdCompanySize:e.supplier.changeIdCompanySize,call:e.supplier.call,rules:e.supplier.rules,participateInCall:e.supplier.participateInCall,acceptedPolicy:e.supplier.acceptedPolicy,supplies:e.supplier.supply,categories:e.supplier.categories,subcategories:e.supplier.subcategories,companyTypes:e.supplier.companyTypes,companySizes:e.supplier.companySizes,societyTypes:e.supplier.societyTypes,countries:e.supplier.countries,departments:e.supplier.departments,cities:e.supplier.cities,callData:e.supplier.callData,stateData:e.supplier.stateData,dimensions:e.supplier.dimensions,loading:e.supplier.loading,loadingDimensions:e.supplier.loadingDimensions,loadedDimensions:e.supplier.loadedDimensions,principalCustomer:e.supplier.principalCustomer,contactNutresaGroup:e.supplier.contactNutresaGroup,sectors:e.supplier.sectors,system:e.supplier.system,error:e.supplier.error}},m=function(e){return{getDataSupplier:function(t,n){e(Object(p.m)(t,n))},getDataCategoryBySuply:function(t){e(Object(p.i)(t))},getDataSubCategoryByCategory:function(t){e(Object(p.l)(t))},getDataDepartmentsByCountry:function(t){e(Object(p.k)(t))},getDataCitiesByDepartment:function(t){e(Object(p.j)(t))},getDimensionsBySurvey:function(t,n){e(Object(p.n)(t,n))},saveDataCallBySupplier:function(t){e(Object(p.p)(t))},saveDataCallSupplier:function(t){e(Object(p.q)(t))},saveAnswer:function(t,n,a){e(Object(p.o)(t,n,a))},updateAttachment:function(t,n){e(Object(p.v)(t,n))},deleteAttachment:function(t,n){e(Object(p.f)(t,n))},changeParticipate:function(t){e(Object(p.d)(t))},changeAcceptedPolicy:function(t){e(Object(p.c)(t))},updateChangeIdCompanySize:function(t){e(Object(p.w)(t))},addCustomer:function(t,n){e(Object(p.b)(t,n))},updateCustomer:function(t,n,a){e(Object(p.y)(t,n,a))},deleteCustomer:function(t,n){e(Object(p.h)(t,n))},addContact:function(t,n){e(Object(p.a)(t,n))},updateContact:function(t,n,a){e(Object(p.x)(t,n,a))},deleteContact:function(t,n){e(Object(p.g)(t,n))},validateQuestions:function(t){e(Object(p.z)(t))},setNumberOfDirectEmployees:function(t){e(Object(p.s)(t))},setNumberOfSubContratedEmployees:function(t){e(Object(p.t)(t))},setSector:function(t){e(Object(p.u)(t))},setExport:function(t){e(Object(p.r)(t))},cleanStore:function(){e(Object(p.e)())}}};t.a=Object(c.e)(Object(l.b)(y,m)(f))},1340:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),u=n.n(o),l=n(22),c=n(1341),s=n(1345),p=n(1347),d=n(1275),f=n(1348),y=n(400),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b=l.x.TabPane,v=function(e){function t(){var e,n,i,o;a(this,t);for(var p=arguments.length,m=Array(p),b=0;b<p;b++)m[b]=arguments[b];return n=i=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(m))),i.getSteps=function(){var e=i.props.dimensions,t=[{content:u.a.createElement(c.a,Object.assign({ref:function(e){i.generalForm=e},next:i.next,save:i.save},i.props)),stepContent:u.a.createElement(y.a,null,u.a.createElement(f.a,{text:"Survey.generalInfo",translate:!0}))}];if("true"===i.props.participateInCall&&i.props.acceptedPolicy){var n=i.props,a=n.loadedDimensions,r=n.loadingDimensions,o=n.loading,l=n.error,p=n.call,d=n.getDimensionsBySurvey,m=p.idSurvey,b=p.id;0!==e.length||o||r||l||a||""===m||d(m,b)}var v=e.map(function(e){var t=i.props,n=t.call,a=t.validateQuestions,r=t.saveAnswer,o=t.system,l=t.rules,c=t.callData,p=t.stateData,d=n.id,f=n.idSurvey;return{name:e.name,content:u.a.createElement(s.a,{key:e.id,idDimension:e.id,idSurvey:f,idCall:d,system:o,criterions:e.criterions,saveAnswer:r,rules:l,validateQuestions:a,next:i.next,callData:c,stateData:p}),stepContent:i.getProgress(e.percent,e.name)}});return t.concat(v)},i.getProgress=function(e,t){return u.a.createElement("div",null,u.a.createElement(l.q,{strokeWidth:10,type:"circle",percent:e,status:"success",width:38,format:function(e){return 0===e?"?":e+"%"}}),u.a.createElement(f.a,{text:t}))},i.getSupplierValues=function(e){var n=Object.assign({},i.props),a=n.supplier,r=Object.assign({},a);return r=Object.assign(r,e),r=t.formatSupplier(r)},i.changePage=function(e){var t=i.state.current,n=parseInt(e,10);0!==t||i.props.rules.supplier.readOnly?i.setState({current:n}):i.generalForm.validateFieldsAndScroll(d.a,function(e){e||(i.save(i.generalForm.getFieldsValue(),"send"),i.setState({current:n}))})},i.save=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(i.props.changeIdCompanySize||"true"!==i.props.participateInCall)if("false"===i.props.participateInCall)e.participateInCall="false",e.acceptedPolicy=!1,i.props.saveDataCallBySupplier(Object.assign(i.props.call,e));else{var a=i.getSupplierValues(e);i.props.saveDataCallSupplier(a)}else if(n)e.participateInCall="true",e.acceptedPolicy=!0,i.props.saveDataCallBySupplier(Object.assign(i.props.call,e));else{var r=i.getSupplierValues(e);i.props.saveDataCallSupplier(r),"send"===t&&i.next()}},i.next=function(){window.scrollTo(0,0);var e=i.state.current,t=i.props.dimensions,n=e+1;t.length+1===e+1&&(n=0),i.setState({current:n})},i.prev=function(){var e=i.state.current-1;i.setState({current:e})},o=n,r(i,o)}return i(t,e),m(t,[{key:"componentWillMount",value:function(){this.setState({current:0})}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.loadingDimensions,a=e.stateData,r=e.callData,i=this.state.current,o=this.getSteps();return u.a.createElement(l.u,{spinning:t},u.a.createElement(p.a,{deadline:("NOT_STARTED"===a.shortName||"SUPPLIER"===a.shortName)&&r&&r.deadlineToMakeSurvey}),u.a.createElement(y.c,{tabBarExtraContent:u.a.createElement(l.u,{spinning:n}),activeKey:i.toString(),animated:!1,onTabClick:this.changePage},o.map(function(e,t){var n=t.toString();return u.a.createElement(b,{tab:e.stepContent,key:n},e.content)})))}}],[{key:"formatSupplier",value:function(e){var t=Object.assign({},e);return t.principalCustomer.map(function(e){var t=parseInt(e.percentageOfParticipationInSales,10);return isNaN(t)&&(t=-1),e.percentageOfParticipationInSales=t,e}),t}}]),t}(o.Component);t.a=v},1341:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),u=n.n(o),l=n(22),c=n(397),s=n(1342),p=n(434),d=n(1274),f=n(398),y=n(1344),m=n(55),b=n(1275),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g=l.t.Option,h=function(e){function t(){var e,n,i,o;a(this,t);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return n=i=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.handleSubmit=function(e){e.preventDefault(),i.props.form.validateFieldsAndScroll(function(e,t){e||i.props.save(t,"send")})},i.validateContactInfo=function(e){var t=!0;return e.administrator&&!e.administrator.readOnly?t:(i.props.form.validateFieldsAndScroll(b.a,function(e){e&&(t=!1)}),t)},i.saveDraft=function(e){if(!0===i.validateContactInfo(e)){var t=e.administrator&&!e.administrator.readOnly,n=i.props.form.getFieldsValue();i.props.save(n,"",t)}},i.continue=function(){var e=i.validateContactInfo();return e&&i.props.save(i.props.form.getFieldsValue(),"send"),e},i.handleChange=function(e){i.props.changeParticipate(e)},o=n,r(i,o)}return i(t,e),v(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.participateInCall,a=t.acceptedPolicy,r=t.changeIdCompanySize,i=t.system,o=t.rules.supplier.readOnly,b=t.rules,v=i.messageByChangeSizeCompany,h=i.informationProgram,S=this.props.form,O=S.getFieldDecorator,C=S.setFields,E="",k=[];if("true"===n)if(a){var j=Object(s.a)(this.props);k=[{key:1,text:"Button.save",buttoncolor:"buttonFirst",onClick:function(){return e.saveDraft(b)},disabled:b&&b.administrator?b.administrator.readOnly:o,showConfirm:r,messageConfirm:v},{key:2,text:"Button.continue",buttoncolor:"buttonSecond",onClick:this.handleSubmit,showConfirm:r,disabled:o,messageConfirm:v}],E=u.a.createElement(c.a,{getFieldDecorator:O,setFields:C,content:j})}else E=u.a.createElement("div",null,u.a.createElement(f.a,{text:"SupplierByCall.dataPolicy"}),i.dataPolicy.split("\r\n").map(function(e){return u.a.createElement("div",null,e,u.a.createElement("br",null))}),u.a.createElement(l.s,{justify:"center",align:"middle",type:"flex",gutter:24},u.a.createElement(l.e,null,u.a.createElement(d.a,{buttoncolor:"buttonFirst",onClick:function(){return e.props.changeAcceptedPolicy(!0)}},u.a.createElement(m.a,{id:"Button.agree"}))),u.a.createElement(l.e,null,u.a.createElement(d.a,{buttoncolor:"buttonSecond",onClick:function(){e.props.changeAcceptedPolicy(!1),e.props.changeParticipate("false")}},u.a.createElement(m.a,{id:"Button.refuse"})))));else if("false"===n){var w=Object(s.b)(this.props);k=[{key:1,text:"Button.send",buttoncolor:"buttonThird",disabled:o,onClick:this.handleSubmit}],b&&b.administrator&&!b.administrator.readOnly&&k.push({key:2,text:"Button.save",buttoncolor:"buttonFirst",onClick:function(){return e.saveDraft(b)},disabled:b&&b.administrator?b.administrator.readOnly:o,showConfirm:r,messageConfirm:v}),E=u.a.createElement(c.a,{getFieldDecorator:O,setFields:C,content:w})}return u.a.createElement("div",null,u.a.createElement(y.a,{text:h}),u.a.createElement(p.a,{label:"SupplierByCall.participateInCall"},u.a.createElement(l.t,{disabled:b&&b.administrator?b.administrator.readOnly:o,style:{width:"100%"},value:n,onChange:this.handleChange},u.a.createElement(g,{value:"true"},u.a.createElement(m.a,{id:"Supplier.yes"})),u.a.createElement(g,{value:"false"},u.a.createElement(m.a,{id:"Supplier.no"})))),"true"===n&&a?u.a.createElement(f.a,{text:"Supplier.companyInformation"}):"",u.a.createElement(y.a,{text:"Survey.required",translate:!0}),u.a.createElement(l.g,{onSubmit:this.handleSubmit},E,u.a.createElement(d.b,{preventTranlate:!0,buttons:k})))}}]),t}(o.Component),S=l.g.create()(h);t.a=S},1342:function(e,t,n){"use strict";function a(e){return"boolean"===typeof e?e.toString():""}function r(e){var t=e.loading,n=e.supplier,r=e.rules.supplier.readOnly,i=e.supplies,d=e.categories,f=e.getDataCategoryBySuply,y=e.subcategories,m=e.getDataSubCategoryByCategory,b=e.companyTypes,v=e.companySizes,g=e.societyTypes,h=e.countries,S=e.departments,O=e.system,C=e.getDataDepartmentsByCountry,E=e.cities,k=e.getDataCitiesByDepartment,j=e.updateAttachment,w=e.deleteAttachment,x=e.updateChangeIdCompanySize,D=e.setNumberOfDirectEmployees,P=e.setNumberOfSubContratedEmployees,A=e.sectors,T=e.setSector,I=e.setExport,N=e.addCustomer,q=e.updateCustomer,z=e.deleteCustomer,F=e.addContact,_=e.deleteContact,R=e.updateContact,L=n.idSupply,B=n.idCategory,M=n.idSubCategory,G=n.idCompanySize,U=n.businessName,V=n.nit,W=n.idCompanyType,Q=n.producerLivestok,Y=n.idSocietyType,Z=n.yearOfEstablishment,$=n.principalAdress,H=n.idOriginCountry,J=n.idDepartment,K=n.idCity,X=n.branchOffice,ee=n.telephone,te=n.fax,ne=n.emails,ae=n.emailOfContact,re=n.codeZip,ie=n.nameLegalAgent,oe=n.idLegalAgent,ue=n.jobPosition,le=n.phoneOfContact,ce=n.fullNameContact,se=n.document,pe=n.valueAssets,de=n.typeOfCurrencyValueAssets,fe=n.typeOfCurrencyAnnualSales,ye=n.annualSalesValue,me=n.companyLogo,be=n.numberOfDirectEmployees,ve=n.numberOfSubContratedEmployees,ge=n.employeesTotal,he=n.participationInSalesWithGroupNutresa,Se=n.attachedFinancialReport,Oe=n.idSector,Ce=n.otherSector,Ee=n.webSite,ke=n.packagingProvided,je=n.geograficDescriptionOfPrincipalMaterials,we=n.currentlyExport,xe=n.nameCertification,De=n.exportDestination,Pe=n.globalAgreement,Ae=n.chemicalSubstance,Te=n.actualSector,Ie=n.actuallyExport,Ne=n.principalCustomer,qe=n.contactNutresaGroup,ze=O.uploadMaxFilesize,Fe=O.uploadExtensions,_e=O.otherSectorId,Re=O.packagingMaterialCategoryId,Le=r;return[{key:1.1,value:[{span:6,type:"input",label:"Supplier.businessName",key:"businessName",value:U,required:!0,disabled:!0},{span:6,type:"select",label:"Supplier.idCompanySize",key:"idCompanySize",value:G,required:!0,options:v,disabled:Le,handleChange:function(e){x(e)}},{span:6,type:"select",label:"Supplier.idSupply",value:L,key:"idSupply",required:!0,disabled:!0,options:i,valuesToClean:{idCategory:{value:""},idSubCategory:{value:""}},handleChange:function(e){f(e)}}]},{key:1.2,value:[{span:6,type:"select",label:"Supplier.idCategory",key:"idCategory",value:B,options:d,required:!0,disabled:Le,valuesToClean:{idSubCategory:{value:""}},handleChange:function(e){m(e)}},{span:6,type:"select",label:"Supplier.idSubCategory",key:"idSubCategory",value:M,options:y,disabled:Le},{label:"Supplier.document",span:12,type:"upload",name:"file",key:"document",disabled:Le,max:2,fileList:se,uploadMaxFilesize:ze,uploadExtensions:Fe,onChange:j,onRemove:w}]},{key:1.3,value:[{span:6,type:"input",label:"Supplier.nit",key:"nit",value:V,required:!0,disabled:Le,rules:[Object.assign({},o.a)]},{span:6,type:"select",label:"Supplier.idCompanyType",key:"idCompanyType",value:W,options:b,disabled:Le},{span:8,type:"upload",label:"Supplier.companyLogo",key:"companyLogo",fileList:me,onChange:j,onRemove:w,uploadMaxFilesize:ze,uploadExtensions:[".jpg",".png",".jpeg"],disabled:Le,required:!0,multiple:!1}]},{key:1.4,value:[{span:6,type:"select",label:"Supplier.producerLivestok",key:"producerLivestok",value:a(Q),options:c,disabled:Le},{span:6,type:"select",label:"Supplier.idSocietyType",key:"idSocietyType",value:Y,options:g,disabled:Le},{span:6,type:"select",label:"Supplier.yearOfEstablishment",key:"yearOfEstablishment",value:Z.toString(),options:p(),disabled:Le}]},{key:2.6,value:[{span:12,type:"title",value:"Supplier.infoFinancial",key:"infoFinancial"}]},{key:2.7,value:[{span:6,type:"select",label:"Supplier.typeOfCurrencyValueAssets",key:"typeOfCurrencyValueAssets",value:de,options:s,disabled:Le},{span:6,type:"inputNumber",label:"Supplier.valueAssets",key:"valueAssets",value:pe,disabled:Le},{span:8,type:"upload",label:"Supplier.attachedFinancialReport",key:"attachedFinancialReport",fileList:Se,onChange:j,onRemove:w,uploadMaxFilesize:ze,uploadExtensions:Fe,required:!0,disabled:Le}]},{key:2.8,value:[{span:6,type:"select",label:"Supplier.typeOfCurrencyAnnualSales",key:"typeOfCurrencyAnnualSales",value:fe,options:s,disabled:Le},{span:6,type:"inputNumber",label:"Supplier.annualSalesValue",key:"annualSalesValue",value:ye,disabled:Le}]},{key:2.9,value:[{span:6,type:"inputNumber",label:"Supplier.numberOfDirectEmployees",key:"numberOfDirectEmployees",value:be,handleChange:D,disabled:Le,formatter:function(e){return e},parser:function(e){return e||0}},{span:6,type:"inputNumber",label:"Supplier.numberOfSubContratedEmployees",key:"numberOfSubContratedEmployees",value:ve,handleChange:P,disabled:Le,formatter:function(e){return e},parser:function(e){return e||0}},{span:6,type:"input",label:"Supplier.employeesTotal",key:"employeesTotal",value:ge,disabled:!0},{span:6,type:"input",label:"Supplier.participationInSalesWithGroupNutresa",key:"participationInSalesWithGroupNutresa",value:he,disabled:Le,rules:[Object.assign({},o.a)]}]},{key:3,value:[{span:12,type:"title",value:"Supplier.principalCustomers",key:"principalCustomers",disabled:Le}]},{key:3.1,value:[{type:"table",key:"principalCustomer",value:Ne,disabled:Le,colummns:u,loading:t,addData:N,deleteData:z,updateField:q}]},{key:3.2,value:[{span:12,type:"title",value:"Supplier.location",key:"location"}]},{key:3.3,value:[{span:6,type:"input",label:"Supplier.principalAdress",key:"principalAdress",value:$,disabled:Le},{span:6,type:"select",label:"Supplier.idOriginCountry",key:"idOriginCountry",options:h,disabled:Le,value:H,valuesToClean:{idDepartment:{value:""},idCity:{value:""}},handleChange:function(e){C(e)}},{span:6,type:"select",label:"Supplier.idDepartment",key:"idDepartment",value:J,options:S,disabled:Le,valuesToClean:{idCity:{value:""}},handleChange:function(e){k(e)}},{span:6,type:"select",label:"Supplier.idCity",key:"idCity",value:K,options:E,disabled:Le}]},{key:3.4,value:[{type:"textarea",label:"Supplier.branchOffice",key:"branchOffice",value:X,disabled:Le}]},{key:3.5,value:[{span:12,type:"title",value:"Supplier.contact",key:"contact",disabled:Le}]},{key:3.6,value:[{span:6,type:"input",label:"Supplier.telephone",key:"telephone",value:ee,disabled:Le},{span:6,type:"input",label:"Supplier.fax",value:te,key:"fax",disabled:Le},{span:6,type:"select",label:"Supplier.emails",key:"emails",value:ne,mode:"tags",options:ne.map(function(e){return{id:e,name:e}}),noSearch:!0,rules:[Object.assign({},o.c)],disabled:Le},{span:6,type:"input",label:"Supplier.codeZip",key:"codeZip",value:re,disabled:Le,rules:[Object.assign({},o.a)]}]},{key:3.7,value:[{span:12,type:"title",value:"Supplier.legalInfo",key:"legalInfo",disabled:Le}]},{key:3.8,value:[{span:6,type:"input",label:"Supplier.nameLegalAgent",key:"nameLegalAgent",value:ie,required:!0,whitespace:!0,disabled:Le},{span:6,type:"input",label:"Supplier.idLegalAgent",key:"idLegalAgent",value:oe,required:!0,whitespace:!0,disabled:Le}]},{key:3.9,value:[{span:12,type:"title",value:"Supplier.inforContact",key:"inforContact"}]},{key:4,value:[{span:6,type:"input",label:"Supplier.fullNameContact",key:"fullNameContact",value:ce,required:!0,whitespace:!0,disabled:Le},{span:6,type:"input",label:"Supplier.jobPosition",key:"jobPosition",value:ue,required:!0,whitespace:!0,disabled:Le},{span:6,type:"input",label:"Supplier.phoneOfContact",key:"phoneOfContact",value:le,required:!0,whitespace:!0,disabled:Le},{span:6,type:"input",label:"Supplier.emailOfContact",key:"emailOfContact",value:ae,required:!0,disabled:Le,rules:[Object.assign({},o.b)]}]},{key:4.1,value:[{span:8,type:"select",label:"Supplier.idSector",key:"idSector",value:Oe,options:A,handleChange:T,disabled:Le},{span:8,type:"input",label:"Supplier.otherSector",key:"otherSector",value:Ce,hidden:Te!==_e,required:!0,disabled:Le},{span:8,type:"input",label:"Supplier.webSite",key:"webSite",value:Ee,disabled:Le}]},{key:4.2,value:[{type:"radio",label:"Supplier.packagingProvided",key:"packagingProvided",value:ke,required:!0,hidden:B!==Re,disabled:Le,options:[{id:"si",name:"Supplier.yes"},{id:"no",name:"Supplier.no"},{id:"na",name:"N/A"}]}]},{key:4.3,value:[{span:12,type:"title",value:"Supplier.contactNutresaGroup",key:"contactNutresaGroup",disabled:Le}]},{key:4.4,value:[{type:"table",key:"contactNutresaGroup",value:qe,disabled:Le,colummns:l,loading:t,addData:F,deleteData:_,updateField:R}]},{key:4.5,value:[{type:"title",value:"Supplier.supplies",key:"supplies"}]},{key:4.6,value:[{type:"textarea",label:"Supplier.geograficDescriptionOfPrincipalMaterials",key:"geograficDescriptionOfPrincipalMaterials",value:je,disabled:Le}]},{key:4.7,value:[{type:"title",value:"Supplier.exports",key:"exports"}]},{key:4.8,value:[{span:6,type:"select",label:"Supplier.currentlyExport",key:"currentlyExport",value:a(we),handleChange:I,options:c,disabled:Le},{span:18,type:"input",label:"Supplier.exportDestination",key:"exportDestination",value:De,hidden:!Ie,required:!0,disabled:Le}]},{key:4.9,value:[{type:"title",value:"Supplier.certifications",key:"certifications"}]},{key:5,value:[{type:"textarea",label:"Supplier.nameCertification",key:"nameCertification",value:xe,disabled:Le}]},{key:5.1,value:[{type:"title",value:"Supplier.aditionalInformation",key:"aditionalInformation"}]},{key:5.2,value:[{span:12,type:"select",label:"Supplier.globalAgreement",key:"globalAgreement",help:"Supplier.globalAgreementHelp",value:a(Pe),options:c,disabled:Le}]},{key:5.3,value:[{span:12,type:"select",label:"Supplier.chemicalSubstance",key:"chemicalSubstance",value:a(Ae),options:c,disabled:Le}]}]}function i(e){var t=e.call,n=e.rules.supplier.readOnly,a=t.reasonForNotParticipation,r=t.nameWhoSayDontParticipate,i=t.emailWhoSayDontParticipate,u=n;return[{key:1,value:[{disabled:u,type:"textarea",label:"Supplier.reasonForNotParticipation",key:"reasonForNotParticipation",value:a}]},{key:2,value:[{disabled:u,type:"input",label:"Supplier.nameWhoSayDontParticipate",required:!0,key:"nameWhoSayDontParticipate",value:r}]},{key:3,value:[{disabled:u,type:"input",label:"Supplier.emailWhoSayDontParticipate",required:!0,key:"emailWhoSayDontParticipate",value:i,rules:[Object.assign({},o.b)]}]}]}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var o=n(1343),u=[{title:"Supplier.principalCustomer.name",key:"name"},{title:"Supplier.principalCustomer.percentageOfParticipationInSales",key:"percentageOfParticipationInSales",type:"number"}],l=[{title:"Supplier.contactNutresaGroup.name",key:"name"},{title:"Supplier.contactNutresaGroup.email",key:"email",type:"email"},{title:"Supplier.contactNutresaGroup.phone",key:"phone"}],c=[{id:"true",name:"Supplier.yes"},{id:"false",name:"Supplier.no"}],s=[{id:"COP",name:"COP Moneda colombiana"},{id:"USD",name:"USD Moneda EE.UU"},{id:"CRC",name:"CRC Moneda Costa Rica"},{id:"CLP",name:"CLP Moneda de Chile"},{id:"PEN",name:"PEN Moneda de Per\xfa"}],p=function(){for(var e=[],t=new Date,n=1900;n<=t.getFullYear();n+=1)e.push({id:n.toString(),name:n.toString()});return e}},1343:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i});var a={pattern:/^[0-9]+$/,message:"Ingrese un valor entero"},r=function(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n=!0;return e.forEach(function(e){var a=t.test(e);n=n&&a}),n},i={validator:function(e,t,n){r(t)||n("Ingrese un correo electr\xf3nico v\xe1lido"),n()}},o={validator:function(e,t,n){r([t])||n("Ingrese un correo electr\xf3nico v\xe1lido"),n()}}},1344:function(e,t,n){"use strict";function a(e){var t=e.text,n=e.translate;return i.a.createElement(c,null,n?i.a.createElement(u.a,{id:t}):t)}var r=n(0),i=n.n(r),o=n(29),u=n(55),l=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  margin-bottom:  ",";\n"],["\n  margin-bottom:  ",";\n"]),c=o.c.p(l,function(e){return e.theme.spaces.main});t.a=a},1345:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var u=n(0),l=n.n(u),c=n(22),s=n(29),p=n(435),d=n(55),f=n(398),y=n(1274),m=n(1346),b=n(83),v=n(214),g=n(1256),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),S=o(["\n  .ant-table-body > table .ant-table-tbody > tr > td{\n    word-break: inherit;\n  }\n"],["\n  .ant-table-body > table .ant-table-tbody > tr > td{\n    word-break: inherit;\n  }\n"]),O=o(["\n  display: inline-block;\n  color: inherit;\n  margin: 0 10px;\n"],["\n  display: inline-block;\n  color: inherit;\n  margin: 0 10px;\n"]),C=o(["\n  padding: 15px;\n  opacity: 0.6;\n  background: ",";\n  color: ",";\n  display: flex;\n  justify-content: space-between;\n"],["\n  padding: 15px;\n  opacity: 0.6;\n  background: ",";\n  color: ",";\n  display: flex;\n  justify-content: space-between;\n"]),E=o(["\n  white-space: normal;\n  margin: 10px 0;\n"],["\n  white-space: normal;\n  margin: 10px 0;\n"]),k=c.i.TextArea,j=c.w.Column,w=c.r.Group,x=Object(s.c)(c.w)(S),D=s.c.h4(O),P=s.c.div(C,function(e){return e.theme.color.primary},function(e){return e.theme.color.normal}),A=Object(s.c)(c.r)(E),T=function(e){function t(){var e,n,i,o;a(this,t);for(var u=arguments.length,s=Array(u),f=0;f<u;f++)s[f]=arguments[f];return n=i=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),i.onChange=function(e,t,n,a){var r=t.id,o=t.answer,u=t.idCriterion,l=i.props,c=l.idDimension,s=l.idSurvey,p=l.idCall,d=l.saveAnswer,f={};o.length>0&&(f=o.find(function(e){return e.idQuestion===r}));var y={idSupplierByCall:p,idSurvey:s,idQuestion:r},m=Object.assign({},f);y=Object.assign(m,y),y[n]="attachment"===n&&"delete"===a?y[n].filter(function(t){return t.id!==e}):e,d(y,c,u)},i.getAnswer=function(e,t){var n=e.answer[0],a=void 0;return n&&(a=n[t]),a},i.getAnswerComponent=function(e,t,n){var a=i.props.rules,r=void 0;r=!!t.disabled||("SUPPLIER"===n?a.supplier.readOnly:a.evaluator.readOnly);var o="SUPPLIER"===n?"idOptionSupplier":"idOptionEvaluator",u="SUPPLIER"===n?"responseSupplier":"responseEvaluator",c=t.errors;c||(c={});var s=void 0;t.answer.length>0&&(s=t.answer[0][o]);var p=void 0;return p="Cerrada"===t.type?l.a.createElement(w,{disabled:r,value:s,onChange:function(e){e.target.value&&i.onChange(e.target.value,t,o)}},e.map(function(e){return l.a.createElement(A,{key:e.id,value:e.id},e.wording)})):r?i.getAnswer(t,u):l.a.createElement(k,{rows:10,defaultValue:i.getAnswer(t,u),onBlur:function(e){return i.onChange(e.target.value,t,u)}}),l.a.createElement("div",null,p,l.a.createElement(m.a,{visible:c.answers,text:"Survey.requiredQuestion"}))},i.getCommentComponent=function(e,t,n){var a=i.props.rules,r=void 0;r=!!t.disabled||("SUPPLIER"===n?a.supplier.readOnly:a.evaluator.readOnly);var o="SUPPLIER"===n?"commentSupplier":"commentEvaluator";return r?i.getAnswer(t,o):l.a.createElement(k,{rows:10,defaultValue:i.getAnswer(t,o),onBlur:function(e){return i.onChange(e.target.value,t,o)}})},i.getColumns=function(){var e=i.props,t=e.rules,n=e.stateData,a=[{title:l.a.createElement(d.a,{id:"Table.help"}),width:"5%",dataIndex:"helpText",key:"helpText",render:function(e){return e?l.a.createElement(c.y,{placement:"topRight",title:e},l.a.createElement(c.b,{type:"primary",shape:"circle",icon:"question"})):""}},{title:l.a.createElement(d.a,{id:"Table.question"}),width:"15%",dataIndex:"wording",key:"wording"},{title:l.a.createElement(d.a,{id:"Table.providerAnswer"}),width:t.evaluator.show?"15%":"30%",dataIndex:"options",key:"options",render:function(e,n){if(t.evaluator.show){var a="";return n.answer.length>0&&("Cerrada"===n.type?""!==n.answer[0].idOptionSupplier&&(a=e.find(function(e){return e.id===n.answer[0].idOptionSupplier}).wording):a=n.answer[0].responseSupplier),a}return i.getAnswerComponent(e,n,"SUPPLIER")}},{title:l.a.createElement(d.a,{id:"Table.providerComment"}),width:t.evaluator.show?"10%":"30%",dataIndex:"answer",key:"commentSupplier",render:function(e,n){if(t.evaluator.show){var a="";return n.answer.length>0&&(a=n.answer[0].commentSupplier),""!==a?l.a.createElement(c.y,{placement:"top",title:a},l.a.createElement(c.b,{shape:"circle",icon:"message"})):null}return i.getCommentComponent(e,n,"SUPPLIER")}},{title:l.a.createElement(d.a,{id:"Table.support"}),width:t.evaluator.show?"15%":"20%",dataIndex:"answer",key:"attachment",render:function(e,t){var n=i.getAnswer(t,"attachment");n||(n=[]);var a=t.errors;return a||(a={}),l.a.createElement("div",null,l.a.createElement(p.a,{datakey:t,disabled:i.props.rules.supplier.readOnly,list:n,baseUrl:b.a+"/Attachment?action=save",uploadMaxFilesize:i.props.system.uploadMaxFilesize,uploadExtensions:i.props.system.uploadExtensions,onChange:function(e,t){e&&i.onChange(e,t,"attachment")},onRemove:function(e,t){e&&i.onChange(e,t,"attachment","delete")}}),l.a.createElement(m.a,{visible:a.attachments,text:"Survey.requiredAttachment"}))}}];return"NOT_STARTED"!==n.shortName&&"SUPPLIER"!==n.shortName||a.splice(2,0,{title:l.a.createElement(d.a,{id:"Table.previousAnswer"}),width:"15%",dataIndex:"previousAnswer",key:"previousAnswer",render:function(e,t){return t.answer.length>0?t.answer[0].previousAnswer:null}}),t.evaluator.show&&(a=a.concat({title:l.a.createElement(d.a,{id:"Table.evaluatorAnswer"}),width:"20%",dataIndex:"options",key:"optionsEvaluator",render:function(e,t){return i.getAnswerComponent(e,t,"EVALUATOR")}},{title:l.a.createElement(d.a,{id:"Table.evaluatorComment"}),width:"20%",dataIndex:"answer",key:"commentEvaluator",render:function(e,t){return i.getCommentComponent(e,t,"EVALUATOR")}})),a},i.openNotification=function(){Object(v.a)({text:"Validation.verifyDimensions",type:"info"})},o=n,r(i,o)}return i(t,e),h(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.criterions,a=t.rules,r=t.callData,i=t.next,o=a.supplier.readOnly&&a.evaluator.readOnly,s=this.getColumns(),p=new Date,m=new Date(p.getFullYear(),p.getMonth(),p.getDate()),b=Object(g.b)(r.deadlineToMakeSurveyManagerTeam),v=[];return o||(v=[{key:3,text:"Button.continue",buttoncolor:"buttonSecond",onClick:i},{key:1,text:"Button.send",buttoncolor:"buttonThird",onClick:function(){return e.props.validateQuestions(e.openNotification)},showConfirm:!0,messageConfirm:"Survey.confirm"}]),l.a.createElement("div",{style:{width:"90vw"}},n.length>0?n.map(function(e){return l.a.createElement("div",{key:e.id},l.a.createElement(P,null,l.a.createElement("div",null,l.a.createElement(c.h,{type:"tag-o"}),l.a.createElement(D,null,e.name)),l.a.createElement("div",null,m.getTime()>=parseInt(b.format("x"),10)&&l.a.createElement(u.Fragment,null,l.a.createElement(d.a,{id:"Table.criteriaScore"}),e.score&&": "+e.score+"%"))),l.a.createElement(x,{key:e.key,pagination:!1,dataSource:e.questions.filter(function(e){return e.visible}),size:"middle"},s.map(function(e){return l.a.createElement(j,{width:e.width,title:e.title,key:e.key,dataIndex:e.dataIndex,render:e.render})})))}):l.a.createElement(f.a,{text:"Table.noFound"}),l.a.createElement(y.b,{buttons:v}))}}]),t}(u.Component);t.a=T},1346:function(e,t,n){"use strict";function a(e){var t=e.visible,n=void 0!==t&&t,a=e.text,r=void 0===a?"Survey.error":a,o="";return n&&(o=i.a.createElement(c,null,i.a.createElement(u.a,{id:r}))),i.a.createElement("div",null,o)}var r=n(0),i=n.n(r),o=n(29),u=n(55),l=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  color: ",";\n"],["\n  color: ",";\n"]),c=o.c.p(l,function(e){return e.theme.color.error});t.a=a},1347:function(e,t,n){"use strict";function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function r(e){return o.a.createElement(y,null,o.a.createElement("div",null,o.a.createElement("img",{src:"assets/images/SurveyIcon.png",alt:"survey"}),o.a.createElement(d,null,o.a.createElement(l.a,{id:"Survey.title"}))),o.a.createElement("div",null,e.deadline&&o.a.createElement(f,null,o.a.createElement(l.a,{id:"Survey.deadline"}),o.a.createElement("span",null,e.deadline))))}var i=n(0),o=n.n(i),u=n(29),l=n(55),c=a(["  \n  color: ",";\n  text-transform: uppercase;\n  display: inline-block;\n  margin-left: 30px;\n  font-size: 40px;\n"],["  \n  color: ",";\n  text-transform: uppercase;\n  display: inline-block;\n  margin-left: 30px;\n  font-size: 40px;\n"]),s=a(["  \n  display: inline-block;\n  font-size: 20px;\n"],["  \n  display: inline-block;\n  font-size: 20px;\n"]),p=a(["  \n  display: flex;\n  align-items: center;\n  margin-bottom: 30px;\n  justify-content: space-between;\n"],["  \n  display: flex;\n  align-items: center;\n  margin-bottom: 30px;\n  justify-content: space-between;\n"]),d=u.c.h1(c,function(e){return e.theme.color.primary}),f=u.c.h6(s),y=u.c.div(p);t.a=r},1348:function(e,t,n){"use strict";function a(e){var t=e.text,n=e.translate;return i.a.createElement(c,null,n?i.a.createElement(u.a,{id:t}):t)}var r=n(0),i=n.n(r),o=n(29),u=n(55),l=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  margin-left: 10px;\n"],["\n  margin-left: 10px;\n"]),c=o.c.span(l);t.a=a},1349:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){var t=e.lockedByModification,n=e.participateInCall;return t||"false"===n}function i(e){return{type:N.o,subcategories:e}}function o(e){return{type:N.d,participateInCall:e}}function u(e){return{type:N.c,acceptedPolicy:e}}function l(e){return{type:N.t,dimensions:e}}function c(e,t){return function(n,a){var r=Object.assign({},a().supplier.supplier);e&&(r[t]=e),n({type:N.C,supplier:r})}}function s(e){return function(t,n){var a=Object.assign({},n().supplier.supplier),r=a.idCompanySize!==e;t({type:N.D,changeIdCompanySize:r})}}function p(e){return{type:N.f,supplier:e}}function d(e){return{type:N.m,departments:e}}function f(e){return{type:N.l,cities:e}}function y(e){return{type:N.n,dimensions:e}}function m(e){return{type:N.y,call:e,readOnlySupplier:r(e)}}function b(e){return{type:N.w,rules:e}}function v(e,t){return{type:N.x,call:e,supplier:t,readOnlySupplier:e.lockedByModification}}function g(e){return{type:N.s,error:e}}function h(e){return{type:N.v,data:e}}function S(e){return{type:N.h,data:e}}function O(e){return{type:N.u,data:e}}function C(e){return{type:N.g,data:e}}function E(){return{type:N.j,readOnlySupplier:!0}}function k(){return{type:N.i,readOnlyEvaluator:!0}}function j(e,t,n){var a=Object.assign({},n);return Object(V.b)(e,t,n.call.idCall).then(function(e){return a.callData=e.data.data,a}).catch(function(){return a.callData={deadlineToMakeSurveyManagerTeam:"0"},a})}function w(e,t,n){var a=Object.assign({},n);return Object(V.b)(e,t,n.call.idState).then(function(e){return a.stateData=e.data.data,a}).catch(function(){return a.stateData={shortName:""},a})}function x(e,t,n,a,r){var i=n.supplier,o=i[a],u=Object.assign({},n);return o?Object(V.b)(e,t,o).then(function(e){return u[r]=e.data.data,u}).catch(function(){return u[r]=[],u}):(u[r]=[],u)}function D(e,t){return function(n){var a=["Supply","CompanyType","CompanySize","SocietyType","Country","Sector","System"],r=[Object(q.h)(e),Object(q.f)(t),Object(z.a)(a)];Object(V.a)(n,Y,T.a.all,r).then(function(e){var t=e[0].data.data,n=e[1].data.data,a=e[1].data.rules,r=e[2].data.data,i=r.Supply,o=r.CompanyType,u=r.CompanySize,l=r.SocietyType,c=r.Sector;return{supplier:t,call:n,rules:a,supply:i,companyTypes:o,companySizes:u,societyTypes:l,countries:r.Country,sectors:c,system:r.System[0]?r.System[0]:{}}}).then(function(e){return j(n,G.c,e)}).then(function(e){return w(n,U.a,e)}).then(function(e){return x(n,F.c,e,"idSupply","categories")}).then(function(e){return x(n,_.b,e,"idCategory","subcategories")}).then(function(e){return x(n,R.a,e,"idOriginCountry","departments")}).then(function(e){return x(n,L.a,e,"idDepartment","cities")}).then(function(e){n(J(e))}).catch(function(e){n(g(e))})}}function P(e){return function(t){Object(V.a)(t,Y,F.c,e).then(function(e){var n=Object(V.c)(e.data.data,"name");t(X(n))}).catch(function(e){t(g(e))})}}n.d(t,"m",function(){return D}),n.d(t,"i",function(){return P}),n.d(t,"l",function(){return re}),n.d(t,"k",function(){return ie}),n.d(t,"j",function(){return oe}),n.d(t,"n",function(){return de}),n.d(t,"p",function(){return fe}),n.d(t,"q",function(){return ve}),n.d(t,"o",function(){return be}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return u}),n.d(t,"v",function(){return c}),n.d(t,"f",function(){return ge}),n.d(t,"w",function(){return s}),n.d(t,"b",function(){return he}),n.d(t,"y",function(){return Se}),n.d(t,"h",function(){return Oe}),n.d(t,"a",function(){return Ce}),n.d(t,"x",function(){return Ee}),n.d(t,"g",function(){return ke}),n.d(t,"z",function(){return Te}),n.d(t,"s",function(){return xe}),n.d(t,"t",function(){return De}),n.d(t,"u",function(){return Pe}),n.d(t,"r",function(){return Ae}),n.d(t,"e",function(){return K});var A=n(213),T=n.n(A),I=n(22),N=n(409),q=n(395),z=n(1216),F=n(1220),_=n(1257),R=n(1350),L=n(1351),B=n(1221),M=n(1352),G=n(394),U=n(1353),V=n(208),W=n(211),Q=n(25),Y=function(){return{type:N.p}},Z=function(){return{type:N.r}},$=function(e){var t="",n="";switch(e){case"success":t="Guardado exitoso",n="Respuesta guardada.";break;case"error":default:t="Error guardando",n="La respuesta no pudo ser guardada"}I.A[e]({message:t,description:n})},H=function(e,t){var n=e.numberOfDirectEmployees+e.numberOfSubContratedEmployees;if(isNaN(n)&&(n=0),e.employeesTotal=n,t){var a=e.principalCustomer;e.principalCustomer=Object(Q.c)(a)}return e},J=function(e){e.supplier=H(e.supplier,!0),e.supplier.actualSector=e.supplier.idSector,e.supplier.actuallyExport=e.supplier.currentlyExport;var t=e.supplier,n=e.call,a=e.rules,i=e.supply,o=e.system,u=e.callData,l=e.stateData,c=Object(V.c)(e.companyTypes,"name"),s=Object(V.c)(e.companySizes,"name"),p=Object(V.c)(e.societyTypes,"name"),d=Object(V.c)(e.countries,"name"),f=Object(V.c)(e.categories,"name"),y=Object(V.c)(e.subcategories,"name"),m=Object(V.c)(e.sectors,"name"),b=Object(V.c)(e.departments,"name"),v=Object(V.c)(e.cities,"name");return a.supplier&&(a.supplier.readOnly=a.supplier.readOnly||r(n)),{type:N.q,supplier:t,rules:a,call:n,supply:i,companyTypes:c,companySizes:s,societyTypes:p,countries:d,categories:f,subcategories:y,departments:b,cities:v,callData:u,stateData:l,sectors:m,system:o}},K=function(){return{type:N.e}},X=function(e){return{type:N.k,categories:e}},ee=function(e,t){return"Cerrada"===e.type?t.filter(function(t){return t.dependOfQuestion===e.id}):[]},te=function e(t,n,a,r,i,o){r||(i&&t.answer.length>0&&i.push(t.answer[0].id),t.answer=[]),t.visible=r,n.forEach(function(n){var u=!1,l=void 0,c=void 0;t.answer.length>0&&(t.answer[0].idOptionSupplier===n.dependOfOptionId&&(u=!0),t.answer[0].idOptionEvaluator&&(t.answer[0].idOptionEvaluator===n.dependOfOptionId?(l=n.oldRequired,c=!1):(l=!1,c=!0,n.answer.length>0&&(o&&(n.answer[0].idOptionEvaluator||n.answer[0].commentEvaluator)&&o.push(n.answer[0].id),n.answer[0].idOptionEvaluator="",n.answer[0].commentEvaluator="",n.errors={})),n.required=l,n.disabled=c));var s=ee(n,a);e(n,s,a,u&&r,i)})},ne=function(e,t,n,r){var i=[].concat(a(t)),o=ee(e,i);return te(e,o,i,!0,n,r),i},ae=function(e){var t=[].concat(a(e)).map(function(e){return e.oldRequired=e.required,e});return t.forEach(function(n){if(""===n.dependOfOptionId){var a=ee(n,e);te(n,a,t,!0)}}),t},re=function(e){return function(t){Object(V.a)(t,Y,_.b,e).then(function(e){var n=Object(V.c)(e.data.data,"name");t(i(n))}).catch(function(e){t(g(e))})}},ie=function(e){return function(t){Object(V.a)(t,Y,R.a,e).then(function(e){var n=Object(V.c)(e.data.data,"name");t(d(n))}).catch(function(e){t(g(e))})}},oe=function(e){return function(t){Object(V.a)(t,Y,L.a,e).then(function(e){var n=Object(V.c)(e.data.data,"name");t(f(n))}).catch(function(e){t(g(e))})}},ue=function(e,t,n){var a={},r=!1,i=!1;if(e.visible){var o="idOptionSupplier",u="responseSupplier";if("NOT_STARTED_EVALUATOR"!==t.shortName&&"EVALUATOR"!==t.shortName||!n.evaluator.show||(o="idOptionEvaluator",u="responseEvaluator"),e.answer.length>0&&(e.answer[0][o]||e.answer[0][u])&&(r=!0),a.answers=e.required&&!r,"Cerrada"===e.type){if(e.answer.length>0){var l=e.answer[0][o],c=e.options.find(function(e){return e.id===l});c&&(i=c.requireAttachment)}}else i=e.requireAttachment;i&&e.answer.forEach(function(e){e.attachment&&0!==e.attachment.length||(a.attachments=!0)})}return{errors:a,questionAnswered:r,requireAttachment:i}},le=function(e,t,n){var a=0,r=0,i=0,o=void 0;return e.criterions.length>0?(e.criterions.forEach(function(e){e.questions.forEach(function(e){var o=ue(e,t,n),u=o.errors,l=o.questionAnswered,c=o.requireAttachment;e.visible&&(e.required||c?(a+=1,u.answers||u.attachments||(r+=1)):l&&(i+=1))})}),o=a>0?100*r/a:i>0?100:0):o=0,Math.round(o)},ce=function(e){var t="",n=0,r=0,i=!1;return e.forEach(function(e){if(e.answer.length>0){var t=e.answer[0].idOptionEvaluator;if(t){i=!0;var o=e.options.find(function(e){return e.id===t&&e.score>=0});o&&(n+=Math.max.apply(Math,a(e.options.map(function(e){return e.score}))),r+=o.score)}}return e}),i&&n>0&&(t=(r/n*100).toFixed(2)),t},se=function(e,t){return function(n,a){var r=a().supplier,i=r.dimensions,o=r.stateData,u=r.rules;n(l(i.map(function(n){return n.id===e&&(n.percent=le(n,o,u)),n.criterions=n.criterions.map(function(e){return e.id===t&&(e.score=ce(e.questions)),e}),n})))}},pe=function(e,t,n){var a=e.dimensions,r=e.criterions;return a.map(function(e,a){var i=r[a],o=i.questions,u=i.criterion,l=ae(o),c=[];return u.length>0&&(c=u.map(function(e){return Object.assign({},e,{score:ce(o.filter(function(t){return t.idCriterion===e.id})),questions:l.filter(function(t){return t.idCriterion===e.id})})})),o.filter(function(e){return""===e.idCriterion}).length>0&&c.unshift({name:"",id:1,questions:l.filter(function(e){return""===e.idCriterion})}),e.criterions=c,e.percent=le(e,t,n),e})},de=function(e,t){return function(n,a){var r=a().supplier,i=r.dimensions,o=r.stateData,u=r.rules;0===i.length&&Object(V.a)(n,Z,B.c,e).then(function(e){return e.data.data}).then(function(a){var r=[];return a.forEach(function(n){var a={idSurvey:e,idDimension:n.id,id:t};r.push(Object(q.g)(Object.assign({},a)))}),Object(V.b)(n,T.a.all,r).then(function(e){var t=[];return e.forEach(function(e){t.push(e.data.data)}),t}).then(function(e){return{dimensions:a,criterions:e}})}).then(function(e){var t=pe(e,o,u);n(y(t))}).catch(function(e){n(g(e))})}},fe=function(e){return function(t){Object(V.a)(t,Y,q.n,e).then(function(e){var n=e.data.data;Object(W.a)("Supplier.savedInfo","success"),t(m(n))}).catch(function(e){t(g(e))})}},ye=function(e,t){return Object(V.b)(e,M.b,{idsToDelete:t})},me=function(e,t){return Object(V.b)(e,M.a,{idsToDelete:t})},be=function(e,t,n){return function(r,i){Object(V.a)(r,Y,M.c,e).then(function(e){var o=e.data.data,u=e.data.rules,l=i().supplier,c=l.call,s=l.dimensions,p=l.stateData,d=[].concat(a(s)),f=d.find(function(e){return e.id===t}),y=f.criterions.find(function(e){return e.id===n}),m=y.questions.find(function(e){return e.id===o.idQuestion});m.answer[0]=o;var v=[],h=[];if(y.questions=ne(m,y.questions,v,h),v.length>0&&ye(r,v),h.length>0&&me(r,h),m.errors&&((o.idOptionSupplier||o.responseSupplier)&&(m.errors.answers=!1),m.requireAttachment&&o.attachment&&o.attachment.length>0&&(m.errors.attachments=!1)),r(b(u)),r(se(t,n)),"NOT_STARTED"===p.shortName||"SUPPLIER"===p.shortName){var S=s.map(function(e){return e.id}),O=s.map(function(e){return e.percent}),C=Object.assign(c,{idsDimension:S,percentsDimension:O});return Object(V.a)(r,Y,q.n,C).then(function(){r(b(u)),$("success")}).catch(function(e){r(g(e))})}return $("success"),null}).catch(function(e){r(g(e))})}},ve=function(e){return function(t){Object(V.a)(t,Y,q.o,e).then(function(e){return e.data.data}).then(function(e){return Object(V.b)(t,q.f).then(function(t){return{call:t.data.data,supplier:e}})}).then(function(n){var a=n.call,r=n.supplier,i=void 0===r?{}:r;t(Object(W.a)("Supplier.savedInfo","success"));var o=i.principalCustomer,u=i.contactNutresaGroup,l=e.principalCustomer,c=o.map(function(e){var t=l.find(function(t){return e.name===t.name&&e.percentageOfParticipationInSales===t.percentageOfParticipationInSales});return Object.assign({},e,{key:t.key})});i.principalCustomer=c;var s=e.contactNutresaGroup,p=u.map(function(e){var t=s.find(function(t){return e.name===t.name&&e.email===t.email&&e.phone===t.phone});return Object.assign({},e,{key:t.key})});i.contactNutresaGroup=p,t(v(a,H(i)))}).catch(function(e){t(g(e))})}},ge=function(e,t){return function(n,a){var r=Object.assign({},a().supplier.supplier);r[t]=r[t].filter(function(t){return t.id!==e}),n(p(r))}},he=function(e){return function(t,n){var r=Object.assign({},n().supplier.supplier),i=r.principalCustomer,o=[].concat(a(i));o.push(e),r.principalCustomer=o,t(h(r))}},Se=function(e,t,n){return function(a,r){var i=Object.assign({},r().supplier.supplier),o=i.principalCustomer[t];o=o||{};var u={};u[n]=e,o=Object.assign(o,u),i.principalCustomer[t]=o,a({type:N.F,data:i})}},Oe=function(e,t){return function(e,n){var r=Object.assign({},n().supplier.supplier),i=r.principalCustomer,o=[].concat(a(i));o.splice(t,1),o&&0===o.length&&o.push({key:0}),r.principalCustomer=o,e(S(r))}},Ce=function(e){return function(t,n){var r=Object.assign({},n().supplier.supplier),i=r.contactNutresaGroup,o=[].concat(a(i));o.push(e),r.contactNutresaGroup=o,t(O(r))}},Ee=function(e,t,n){return function(a,r){var i=Object.assign({},r().supplier.supplier),o=i.contactNutresaGroup[t];o=o||{};var u={};u[n]=e,o=Object.assign(o,u),i.contactNutresaGroup[t]=o,a({type:N.E,data:i})}},ke=function(e,t){return function(e,n){var r=Object.assign({},n().supplier.supplier),i=r.contactNutresaGroup,o=[].concat(a(i));o.splice(t,1),o&&0===o.length&&o.push({key:0}),r.contactNutresaGroup=o,e(C(r))}},je=function(){return function(e,t){var n=Object.assign({},t()),a=n.supplier,r=n.stateData,i=a.call;Object(V.a)(e,Y,q.d,i).then(function(){e(Object(W.a)("Supplier.surveySuccess","success")),e("SUPPLIER"===r.shortName?E():k())}).catch(function(t){e(g(t))})}},we=function(e){var t=0;return e&&(t=isNaN(e)?0:parseInt(e,10)),t},xe=function(e){return{type:N.a,value:we(e)}},De=function(e){return{type:N.b,value:we(e)}},Pe=function(e){return{type:N.B,value:e}},Ae=function(e){return{type:N.z,value:"true"===e}},Te=function(e){return function(t,n){var r=n().supplier,i=r.dimensions,o=r.stateData,u=r.rules,c=[].concat(a(i)),s=!0;c.forEach(function(e){0===e.criterions.length?s=!1:e.criterions.forEach(function(e){e.questions.forEach(function(e){var t=ue(e,o,u),n=t.errors;(n.answers||n.attachments)&&(s=!1),e.errors=n})})}),s?t(je()):e(),t(l(c))}}},1350:function(e,t,n){"use strict";function a(e){return r.a.get("xaServicios.xsp?Open&action=getAllDepartment&idCountry="+e)}var r=n(209);t.a=a},1351:function(e,t,n){"use strict";function a(e){return r.a.get("xaServicios.xsp?Open&action=getAllCity&idDepartment="+e)}var r=n(209);t.a=a},1352:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var a=n(82),r=function(e){return a.a.post("Answer?action=save",e)},i=function(e){return a.a.post("Answer?action=deleteMassive",e)},o=function(e){return a.a.post("Answer?action=updateMassive",e)}},1353:function(e,t,n){"use strict";function a(e){return r.a.get("xaServicios.xsp?Open&action=getState&id="+e)}var r=n(209);t.a=a},433:function(e,t,n){"use strict";function a(){return i.a.createElement(o.a,null)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n.n(r),o=n(1339);t.default=a}});
//# sourceMappingURL=2.b052163f.chunk.js.map