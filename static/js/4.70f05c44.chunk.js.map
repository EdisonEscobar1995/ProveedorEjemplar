{"version":3,"sources":["../static/js/4.70f05c44.chunk.js","components/shared/H1.js","state/TechnicalTeamSurvey/action.js","api/technicalTeamAnswer.js","components/TechnicalTeamSurvey/TechnicalTeamSurveyContainer.js","components/TechnicalTeamSurvey/formData.js","components/TechnicalTeamSurvey/TechnicalTeamSurvey.js","pages/TechnicalTeamSurvey.js"],"names":["webpackJsonp","1212","module","__webpack_exports__","__webpack_require__","H1","_ref","text","translate","__WEBPACK_IMPORTED_MODULE_0_react___default","a","createElement","H1Style","__WEBPACK_IMPORTED_MODULE_2__FormattedMessage__","id","__WEBPACK_IMPORTED_MODULE_0_react__","n","__WEBPACK_IMPORTED_MODULE_1_styled_components__","_templateObject","strings","raw","Object","freeze","defineProperties","value","h1","props","theme","color","primary","spaces","main","1253","defineProperty","d","getTechnicalTeamSurvey","getFailedRequest","filterTechnicalTeamSurvey","setScore","setComment","finishTechnicalTeamSurvey","__WEBPACK_IMPORTED_MODULE_0__const__","__WEBPACK_IMPORTED_MODULE_1__api_call__","__WEBPACK_IMPORTED_MODULE_2__api_technicalTeamAnswer__","__WEBPACK_IMPORTED_MODULE_3__api_supplier__","__WEBPACK_IMPORTED_MODULE_4__utils_action__","__WEBPACK_IMPORTED_MODULE_5__Generic_action__","getDataTechnicalTeamSurveyProgress","type","getDataTechnicalTeamSurveySuccess","data","calculateTotal","changeScore","idSupplier","answer","new","changeComment","comment","updateErrors","updateSuppliers","idSuppliers","idSuppliersByCall","dispatch","then","response","catch","getState","technicalTeamSurvey","suppliers","find","element","comments","idService","year","arguments","length","undefined","supplierId","map","supplier","supplierByCall","suppliersByCall","idSupplierByCall","idState","items","masters","Item","item","TechnicalTeamAnswer","idItem","option","EvaluationScale","idEvaluationScale","defaultValue","key","name","score","error","totals","Service","forEach","service","TechnicalTeamComment","push","state","State","shortName","readOnly","whoEvaluateOfTechnicalTeam","User","required","visible","total","index","concat","toString","idServiceForTotal","_getState$technicalTe","updatedErrors","updatedError","assign","filter","1254","saveTechnicalTeamAnswerApi","saveTechnicalTeamCommentApi","__WEBPACK_IMPORTED_MODULE_0__instance__","post","1395","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_1_react_redux__","__WEBPACK_IMPORTED_MODULE_2_antd__","__WEBPACK_IMPORTED_MODULE_3_react_router_dom__","__WEBPACK_IMPORTED_MODULE_4__state_TechnicalTeamSurvey_action__","__WEBPACK_IMPORTED_MODULE_5__formData__","__WEBPACK_IMPORTED_MODULE_6__shared_GenericForm__","__WEBPACK_IMPORTED_MODULE_7__TechnicalTeamSurvey__","__WEBPACK_IMPORTED_MODULE_8__shared_H1__","_createClass","target","i","descriptor","protoProps","staticProps","TechnicalTeamSurveyContainer","_Component","_temp","_this","_ret","this","_len","args","Array","_key","getPrototypeOf","apply","getDataSupplier","path","location","pathname","dataPath","split","filterSupplier","values","nextProps","spinning","loading","formData","mapStateToProps","1396","form","years","handleReset","resetFields","span","label","options","handleChange","allowClear","valuesToClean","supply","category","country","Supply","getFieldsValue","Category","Country","businessName","CompanySize","companySize","justify","buttonType","handleclick","1397","__WEBPACK_IMPORTED_MODULE_1_antd__","__WEBPACK_IMPORTED_MODULE_2__utils_style__","__WEBPACK_IMPORTED_MODULE_3__shared_Confirm__","Column","TabPane","Option","TextArea","TechnicalTeamSurvey","getHelp","title","isTab","placement","style","marginLeft","marginRight","getServices","tab","helpText","getSuppliers","rowKey","record","dataSource","getSupplierColumns","getItemsColumns","render","idSupply","idCategory","idCompanySize","column","dataIndex","getComment","getSubTotal","toFixed","getScore","rows","onBlur","e","recordItem","labelInValue","width","onChange","_this$props","_this$props2","_props","animated","marginTop","method","438","__WEBPACK_IMPORTED_MODULE_1__components_TechnicalTeamSurvey_TechnicalTeamSurveyContainer__"],"mappings":"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","file":"static/js/4.70f05c44.chunk.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 1212:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_styled_components__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__FormattedMessage__ = __webpack_require__(55);\nvar _templateObject=_taggedTemplateLiteral(['\\n  color: ',';\\n  margin-bottom: ',';\\n'],['\\n  color: ',';\\n  margin-bottom: ',';\\n']);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}var H1Style=__WEBPACK_IMPORTED_MODULE_1_styled_components__[\"c\" /* default */].h1(_templateObject,function(props){return props.theme.color.primary;},function(props){return props.theme.spaces.main;});function H1(_ref){var text=_ref.text,translate=_ref.translate;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(H1Style,null,translate?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__FormattedMessage__[\"a\" /* default */],{id:text}):text);}/* harmony default export */ __webpack_exports__[\"a\"] = (H1);\n\n/***/ }),\n\n/***/ 1253:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTechnicalTeamSurvey\", function() { return getTechnicalTeamSurvey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getFailedRequest\", function() { return getFailedRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"filterTechnicalTeamSurvey\", function() { return filterTechnicalTeamSurvey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setScore\", function() { return setScore; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setComment\", function() { return setComment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"finishTechnicalTeamSurvey\", function() { return finishTechnicalTeamSurvey; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__const__ = __webpack_require__(404);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_call__ = __webpack_require__(394);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api_technicalTeamAnswer__ = __webpack_require__(1254);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__api_supplier__ = __webpack_require__(395);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_action__ = __webpack_require__(208);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Generic_action__ = __webpack_require__(211);\nvar getDataTechnicalTeamSurveyProgress=function getDataTechnicalTeamSurveyProgress(){return{type:__WEBPACK_IMPORTED_MODULE_0__const__[\"e\" /* GET_TECHNICAL_TEAM_SURVEY_PROGRESS */]};};var getDataTechnicalTeamSurveySuccess=function getDataTechnicalTeamSurveySuccess(data){return{type:__WEBPACK_IMPORTED_MODULE_0__const__[\"f\" /* GET_TECHNICAL_TEAM_SURVEY_SUCCESS */],data:data};};var getFailedRequest=function getFailedRequest(){return{type:__WEBPACK_IMPORTED_MODULE_0__const__[\"g\" /* REQUEST_FAILED */]};};var filterTechnicalTeamSurvey=function filterTechnicalTeamSurvey(data){return{type:__WEBPACK_IMPORTED_MODULE_0__const__[\"d\" /* FILTER_TECHNICAL_TEAM_SURVEY */],data:data};};var calculateTotal=function calculateTotal(){return{type:__WEBPACK_IMPORTED_MODULE_0__const__[\"a\" /* CALCULATE_TOTAL */]};};var changeScore=function changeScore(idSupplier,id,answer,value){return{type:__WEBPACK_IMPORTED_MODULE_0__const__[\"c\" /* CHANGE_SCORE_TECHNICAL */],idSupplier:idSupplier,answer:answer,value:value,new:!id};};var changeComment=function changeComment(idSupplier,id,comment,value){return{type:__WEBPACK_IMPORTED_MODULE_0__const__[\"b\" /* CHANGE_COMMENT_TECHNICAL */],idSupplier:idSupplier,comment:comment,value:value,new:!id};};var updateErrors=function updateErrors(data){return{type:__WEBPACK_IMPORTED_MODULE_0__const__[\"h\" /* UPDATE_ERRORS_TECHNICAL */],data:data};};var updateSuppliers=function updateSuppliers(idSuppliers,idSuppliersByCall){return{type:__WEBPACK_IMPORTED_MODULE_0__const__[\"i\" /* UPDATE_SUPPLIERS_TECHNICAL */],idSuppliers:idSuppliers,idSuppliersByCall:idSuppliersByCall};};var setScore=function setScore(idSupplier,value,answer){return function(dispatch){Object(__WEBPACK_IMPORTED_MODULE_4__utils_action__[\"a\" /* requestApi */])(dispatch,getDataTechnicalTeamSurveyProgress,__WEBPACK_IMPORTED_MODULE_2__api_technicalTeamAnswer__[\"a\" /* saveTechnicalTeamAnswerApi */],answer).then(function(response){dispatch(changeScore(idSupplier,answer.id,response.data.data,value));dispatch(calculateTotal());}).catch(function(){dispatch(changeScore(idSupplier,answer.id,answer,null));dispatch(getFailedRequest());});};};var setComment=function setComment(idSupplier,value,comment){return function(dispatch,getState){var storedValue=getState().technicalTeamSurvey.data.suppliers.find(function(element){return element.id===idSupplier;}).comments.find(function(element){return element.idService===comment.idService;}).value;if(storedValue!==value){Object(__WEBPACK_IMPORTED_MODULE_4__utils_action__[\"a\" /* requestApi */])(dispatch,getDataTechnicalTeamSurveyProgress,__WEBPACK_IMPORTED_MODULE_2__api_technicalTeamAnswer__[\"b\" /* saveTechnicalTeamCommentApi */],comment).then(function(response){dispatch(changeComment(idSupplier,comment.id,response.data.data,value));}).catch(function(){dispatch(changeComment(idSupplier,comment.id,comment,null));dispatch(getFailedRequest());});}};};var getTechnicalTeamSurvey=function getTechnicalTeamSurvey(){var year=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var supplierId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';return function(dispatch){Object(__WEBPACK_IMPORTED_MODULE_4__utils_action__[\"a\" /* requestApi */])(dispatch,getDataTechnicalTeamSurveyProgress,__WEBPACK_IMPORTED_MODULE_1__api_call__[\"k\" /* getTechnicalTeamSurveyApi */],year).then(function(response){var data=response.data.data;data.suppliers=data.suppliers.map(function(supplier){var supplierByCall=data.suppliersByCall.find(function(element){return element.idSupplier===supplier.id;});var idSupplierByCall=supplierByCall.id;var idState=supplierByCall.idState;var items=data.masters.Item.map(function(item){var answer=data.masters.TechnicalTeamAnswer.find(function(element){return element.idItem===item.id&&element.idSupplierByCall===idSupplierByCall;});var option=answer?data.masters.EvaluationScale.find(function(element){return element.id===answer.idEvaluationScale;}):null;return{id:item.id,idService:item.idService,defaultValue:{key:option?option.id:null,name:option?option.name:null},value:option?option.score:null,error:false};});var comments=[];var totals=[];data.masters.Service.forEach(function(service){var comment=data.masters.TechnicalTeamComment.find(function(element){return element.idSupplierByCall===idSupplierByCall&&element.idService===service.id;});comments.push({idService:service.id,value:comment?comment.comment:''});totals.push({idService:service.id,value:null});});var state=data.masters.State.find(function(element){return element.id===idState;}).shortName;var readOnly=state!=='NOT_STARTED_TECHNICAL_TEAM'&&state!=='TECHNICAL_TEAM'||supplierByCall.whoEvaluateOfTechnicalTeam!==''&&supplierByCall.whoEvaluateOfTechnicalTeam!==data.masters.User[0].name;var required=!readOnly&&supplierByCall.whoEvaluateOfTechnicalTeam===data.masters.User[0].name;supplier.visible=true;supplier.readOnly=readOnly;supplier.required=required;supplier.items=items;supplier.comments=comments;supplier.totals=totals;supplier.total=null;return supplier;});data.masters.Service.push({id:'total',name:'Resumen total'});data.masters.Service.forEach(function(service,index){if(service.id!=='total'){data.masters.Item=data.masters.Item.concat([{idService:service.id,id:'comment'+index.toString(),type:'comment',name:'Comentarios'},{idService:service.id,id:'subtotal'+index.toString(),idServiceForTotal:service.id,type:'subtotal',name:'Total'}]);}data.masters.Item.push({idService:'total',id:'total'+index.toString(),idServiceForTotal:service.id,type:index<data.masters.Service.length-1?'subtotal':'total',name:index<data.masters.Service.length-1?service.name:'Total general'});});data.masters.EvaluationScale=Object(__WEBPACK_IMPORTED_MODULE_4__utils_action__[\"c\" /* sortByField */])(data.masters.EvaluationScale,'score');data.supplierId=supplierId;dispatch(getDataTechnicalTeamSurveySuccess(data));dispatch(calculateTotal());}).catch(function(){dispatch(getFailedRequest());});};};var finishTechnicalTeamSurvey=function finishTechnicalTeamSurvey(){return function(dispatch,getState){var _getState$technicalTe=getState().technicalTeamSurvey.data,suppliers=_getState$technicalTe.suppliers,suppliersByCall=_getState$technicalTe.suppliersByCall;var idSuppliersByCall=[];var idSuppliers=[];var updatedErrors=suppliers.map(function(supplier){var updatedError=Object.assign({},supplier,{items:supplier.items.map(function(item){return Object.assign({},item,{error:supplier.visible&&supplier.required&&!item.value});})});if(supplier.visible&&!supplier.readOnly){if(supplier.items.filter(function(item){return item.value;}).length===supplier.items.length){idSuppliersByCall.push(suppliersByCall.find(function(element){return element.idSupplier===supplier.id;}).id);idSuppliers.push(supplier.id);}}return updatedError;});if(suppliers.filter(function(element){return element.required;}).length===idSuppliersByCall.length){Object(__WEBPACK_IMPORTED_MODULE_4__utils_action__[\"a\" /* requestApi */])(dispatch,getDataTechnicalTeamSurveyProgress,__WEBPACK_IMPORTED_MODULE_3__api_supplier__[\"e\" /* finishTechnicalTeamSurveyApi */],{idSuppliersByCall:idSuppliersByCall}).then(function(){dispatch(updateErrors(updatedErrors));dispatch(updateSuppliers(idSuppliers,idSuppliersByCall));}).catch(function(){dispatch(getFailedRequest());});}else{dispatch(updateErrors(updatedErrors));Object(__WEBPACK_IMPORTED_MODULE_5__Generic_action__[\"a\" /* default */])('Algunos proveedores no han sido calificados completamente','error');}};};\n\n/***/ }),\n\n/***/ 1254:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return saveTechnicalTeamAnswerApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return saveTechnicalTeamCommentApi; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__instance__ = __webpack_require__(82);\nvar saveTechnicalTeamAnswerApi=function saveTechnicalTeamAnswerApi(data){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].post('TechnicalTeamAnswer?action=save',data);};var saveTechnicalTeamCommentApi=function saveTechnicalTeamCommentApi(data){return __WEBPACK_IMPORTED_MODULE_0__instance__[\"a\" /* default */].post('TechnicalTeamComment?action=save',data);};\n\n/***/ }),\n\n/***/ 1395:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_redux__ = __webpack_require__(129);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_router_dom__ = __webpack_require__(101);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__state_TechnicalTeamSurvey_action__ = __webpack_require__(1253);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__formData__ = __webpack_require__(1396);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__shared_GenericForm__ = __webpack_require__(392);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__TechnicalTeamSurvey__ = __webpack_require__(1397);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__shared_H1__ = __webpack_require__(1212);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TechnicalTeamSurveyContainer=function(_Component){_inherits(TechnicalTeamSurveyContainer,_Component);function TechnicalTeamSurveyContainer(){var _ref;var _temp,_this,_ret;_classCallCheck(this,TechnicalTeamSurveyContainer);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=TechnicalTeamSurveyContainer.__proto__||Object.getPrototypeOf(TechnicalTeamSurveyContainer)).call.apply(_ref,[this].concat(args))),_this),_this.getDataSupplier=function(){var path=_this.props.location.pathname;var dataPath=path.split('/');if(dataPath.length>2){return dataPath[2];}return'';},_this.filterSupplier=function(value){var values={supplier:value};_this.props.filterTechnicalTeamSurvey(values);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(TechnicalTeamSurveyContainer,[{key:'componentDidMount',value:function componentDidMount(){var supplierId=this.getDataSupplier();this.props.getTechnicalTeamSurvey('',supplierId);if(supplierId!==''){this.filterSupplier(supplierId);}}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){if(nextProps.data.supplierId!==this.props.data.supplierId){this.filterSupplier(nextProps.data.supplierId);}}},{key:'render',value:function render(){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"u\" /* Spin */],{spinning:this.props.loading},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__shared_H1__[\"a\" /* default */],{text:'Calificaci\\xF3n comit\\xE9 t\\xE9cnico'}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__shared_GenericForm__[\"a\" /* default */],Object.assign({},this.props,{formData:__WEBPACK_IMPORTED_MODULE_5__formData__[\"a\" /* default */]})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__TechnicalTeamSurvey__[\"a\" /* default */],this.props));}}]);return TechnicalTeamSurveyContainer;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);var mapStateToProps=function mapStateToProps(state){return{data:state.technicalTeamSurvey.data,loading:state.technicalTeamSurvey.loading};};/* harmony default export */ __webpack_exports__[\"a\"] = (Object(__WEBPACK_IMPORTED_MODULE_3_react_router_dom__[\"e\" /* withRouter */])(Object(__WEBPACK_IMPORTED_MODULE_1_react_redux__[\"b\" /* connect */])(mapStateToProps,__WEBPACK_IMPORTED_MODULE_4__state_TechnicalTeamSurvey_action__)(TechnicalTeamSurveyContainer)));\n\n/***/ }),\n\n/***/ 1396:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar formData=function formData(_ref){var data=_ref.data,getTechnicalTeamSurvey=_ref.getTechnicalTeamSurvey,filterTechnicalTeamSurvey=_ref.filterTechnicalTeamSurvey,form=_ref.form;var years=data.years,suppliers=data.suppliers,masters=data.masters,supplierId=data.supplierId;var handleReset=function handleReset(){form.resetFields();getTechnicalTeamSurvey();};return[{key:1.1,value:[{span:8,type:'select',label:'Año',key:'year',value:years&&years.length>0?years[0]:'',options:years?years.map(function(item){return{id:item,name:item};}):[],handleChange:getTechnicalTeamSurvey,allowClear:false,valuesToClean:{supply:{value:''},category:{value:''},country:{value:''},supplier:{value:''}}},{span:8,type:'select',label:'Tipo de suministro',key:'supply',value:'',options:masters?masters.Supply:[],handleChange:function handleChange(value){var values=Object.assign({},form.getFieldsValue(),{supply:value});filterTechnicalTeamSurvey(values);}},{span:8,type:'select',label:'Categoría',key:'category',value:'',options:masters?masters.Category:[],handleChange:function handleChange(value){var values=Object.assign({},form.getFieldsValue(),{category:value});filterTechnicalTeamSurvey(values);}}]},{key:1.2,value:[{span:8,type:'select',label:'País',key:'country',value:'',options:masters?masters.Country:[],handleChange:function handleChange(value){var values=Object.assign({},form.getFieldsValue(),{country:value});filterTechnicalTeamSurvey(values);}},{span:8,type:'select',label:'Proveedor',key:'supplier',value:supplierId,options:suppliers?suppliers.map(function(item){item.name=item.businessName;return item;}):[],handleChange:function handleChange(value){var values=Object.assign({},form.getFieldsValue(),{supplier:value});filterTechnicalTeamSurvey(values);}},{span:8,type:'select',label:'Tamaño',key:'companySize',value:'',options:masters?masters.CompanySize:[],handleChange:function handleChange(value){var values=Object.assign({},form.getFieldsValue(),{companySize:value});filterTechnicalTeamSurvey(values);}}]},{key:1.4,justify:'center',value:[{span:2,type:'button',label:'Limpiar',key:'clear',buttonType:'primary',handleclick:handleReset}]}];};/* harmony default export */ __webpack_exports__[\"a\"] = (formData);\n\n/***/ }),\n\n/***/ 1397:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_style__ = __webpack_require__(400);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__shared_Confirm__ = __webpack_require__(210);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Column=__WEBPACK_IMPORTED_MODULE_1_antd__[\"w\" /* Table */].Column;var TabPane=__WEBPACK_IMPORTED_MODULE_1_antd__[\"x\" /* Tabs */].TabPane;var Option=__WEBPACK_IMPORTED_MODULE_1_antd__[\"t\" /* Select */].Option;var TextArea=__WEBPACK_IMPORTED_MODULE_1_antd__[\"i\" /* Input */].TextArea;var TechnicalTeamSurvey=function(_Component){_inherits(TechnicalTeamSurvey,_Component);function TechnicalTeamSurvey(){var _ref;var _temp,_this,_ret;_classCallCheck(this,TechnicalTeamSurvey);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=TechnicalTeamSurvey.__proto__||Object.getPrototypeOf(TechnicalTeamSurvey)).call.apply(_ref,[this].concat(args))),_this),_this.getHelp=function(title,isTab){return title?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"y\" /* Tooltip */],{placement:'topRight',title:title},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"h\" /* Icon */],{style:{marginLeft:5,marginRight:0,color:isTab?'#fff':'#37907c'},type:'question-circle'+(isTab?'-o':'')})):null;},_this.getServices=function(){var data=_this.props.data;var masters=data.masters;return masters.Service.map(function(service){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(TabPane,{tab:__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__utils_style__[\"a\" /* ContentStyle */],null,service.name,_this.getHelp(service.helpText,true)),key:service.id},_this.getSuppliers(service));});},_this.getSuppliers=function(service){var data=_this.props.data;var suppliers=data.suppliers;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"w\" /* Table */],{rowKey:function rowKey(record){return record.id;},dataSource:suppliers.filter(function(supplier){return supplier.visible;})},_this.getSupplierColumns(),_this.getItemsColumns(service));},_this.getSupplierColumns=function(){var data=_this.props.data;var suppliersByCall=data.suppliersByCall,masters=data.masters;var columns=[{title:'Estado',key:'surveyState',render:function render(text,record){var idState=suppliersByCall.find(function(supplierByCall){return supplierByCall.idSupplier===record.id;}).idState;return masters.State.find(function(state){return state.id===idState;}).name;}},{title:'Evaluado por',key:'negotiator',render:function render(text,record){return suppliersByCall.find(function(supplierByCall){return supplierByCall.idSupplier===record.id;}).whoEvaluateOfTechnicalTeam;}},{title:'Nombre del proveedor',key:'businessName'},{title:'Tipo de suministro',key:'idSupply',render:function render(text,record){return masters.Supply.find(function(supply){return supply.id===record.idSupply;}).name;}},{title:'Categoría',key:'idCategory',render:function render(text,record){var category=masters.Category.find(function(element){return element.id===record.idCategory;});return category?category.name:'';}},{title:'Tamaño de empresa',key:'idCompanySize',render:function render(text,record){var companySize=masters.CompanySize.find(function(element){return element.id===record.idCompanySize;});return companySize?companySize.name:'';}}];return columns.map(function(column){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Column,{title:column.title,key:column.key,dataIndex:column.key,render:column.render});});},_this.getItemsColumns=function(service){var data=_this.props.data;var masters=data.masters;return masters.Item.filter(function(item){return item.idService===service.id;}).map(function(item){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Column,{title:__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,item.name,_this.getHelp(item.helpText&&item.helpText.split('\\r\\n').map(function(element){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,''+element);}))),key:item.id,dataIndex:item.id,render:function render(text,record){switch(item.type){case'comment':return _this.getComment(service,record);case'subtotal':return _this.getSubTotal(item,record);case'total':return record.total?record.total.toFixed(2):null;default:return _this.getScore(item,record);}}});});},_this.getComment=function(service,record){var defaultValue=record.comments.find(function(element){return element.idService===service.id;}).value;return!record.readOnly?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(TextArea,{rows:4,defaultValue:defaultValue,onBlur:function onBlur(e){return _this.changeComment(record,service,e.target.value);}}):defaultValue;},_this.getSubTotal=function(item,record){var value=record.totals.find(function(element){return element.idService===item.idServiceForTotal;}).value;return value?value.toFixed(2):null;},_this.getScore=function(item,record){var data=_this.props.data;var masters=data.masters;var recordItem=record.items.find(function(element){return element.id===item.id;});var defaultValue=recordItem.defaultValue;return!record.readOnly?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"t\" /* Select */],{labelInValue:true,key:record.id,defaultValue:defaultValue,allowClear:false,style:{width:50},onChange:function onChange(value){_this.changeScore(record,item,value);}},masters.EvaluationScale.map(function(option){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Option,{key:option.id,value:option.id},option.name);})),recordItem.error?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__utils_style__[\"b\" /* ErrorStyle */],null,'Campo requerido'):null):defaultValue.name;},_this.changeComment=function(record,service,value){var _this$props=_this.props,data=_this$props.data,setComment=_this$props.setComment;var suppliersByCall=data.suppliersByCall,masters=data.masters;var idSupplier=record.id;var idService=service.id;var idSupplierByCall=suppliersByCall.find(function(element){return element.idSupplier===idSupplier;}).id;var comment=masters.TechnicalTeamComment.find(function(element){return element.idSupplierByCall===idSupplierByCall&&element.idService===idService;});if(!comment){comment={idSupplierByCall:idSupplierByCall,idService:idService};}comment.comment=value;setComment(idSupplier,value,comment);},_this.changeScore=function(record,item,value){var _this$props2=_this.props,data=_this$props2.data,setScore=_this$props2.setScore;var suppliersByCall=data.suppliersByCall,masters=data.masters;var idSupplier=record.id;var idItem=item.id;var idSupplierByCall=suppliersByCall.find(function(element){return element.idSupplier===idSupplier;}).id;var answer=masters.TechnicalTeamAnswer.find(function(element){return element.idSupplierByCall===idSupplierByCall&&element.idItem===idItem;});if(!answer){answer={idSupplierByCall:idSupplierByCall,idService:item.idService,idItem:idItem};}answer.idEvaluationScale=value.key;setScore(idSupplier,value,answer);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(TechnicalTeamSurvey,[{key:'render',value:function render(){var _props=this.props,data=_props.data,finishTechnicalTeamSurvey=_props.finishTechnicalTeamSurvey;var suppliers=data.suppliers,masters=data.masters;return suppliers?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,'Escala de evaluaci\\xF3n',this.getHelp(masters.EvaluationScale.map(function(element){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,element.name+': '+element.helpText);})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__utils_style__[\"c\" /* TabsStyle */],{animated:false,style:{marginTop:10}},this.getServices()),suppliers.filter(function(element){return element.visible&&element.required;}).length>0?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"s\" /* Row */],{type:'flex',justify:'center'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"e\" /* Col */],{span:2},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__shared_Confirm__[\"a\" /* default */],{title:'\\xBFConfirma que desea finalizar?',method:function method(){return finishTechnicalTeamSurvey();}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"b\" /* Button */],{type:'primary'},'Finalizar')))):null):null;}}]);return TechnicalTeamSurvey;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"a\"] = (TechnicalTeamSurvey);\n\n/***/ }),\n\n/***/ 438:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_TechnicalTeamSurvey_TechnicalTeamSurveyContainer__ = __webpack_require__(1395);\nfunction TechnicalTeamSurvey(){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1__components_TechnicalTeamSurvey_TechnicalTeamSurveyContainer__[\"a\" /* default */],null);}/* harmony default export */ __webpack_exports__[\"default\"] = (TechnicalTeamSurvey);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/4.70f05c44.chunk.js","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport FormattedMessage from './FormattedMessage';\r\n\r\nconst H1Style = styled.h1`\r\n  color: ${props => props.theme.color.primary};\r\n  margin-bottom: ${props => props.theme.spaces.main};\r\n`;\r\n\r\nfunction H1({ text, translate }) {\r\n  return (\r\n    <H1Style>\r\n      {\r\n        translate ?\r\n          <FormattedMessage id={text} />\r\n          :\r\n          text\r\n      }\r\n    </H1Style>\r\n  );\r\n}\r\nexport default H1;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/shared/H1.js","import {\r\n  GET_TECHNICAL_TEAM_SURVEY_PROGRESS,\r\n  GET_TECHNICAL_TEAM_SURVEY_SUCCESS,\r\n  FILTER_TECHNICAL_TEAM_SURVEY,\r\n  CALCULATE_TOTAL,\r\n  CHANGE_SCORE_TECHNICAL,\r\n  CHANGE_COMMENT_TECHNICAL,\r\n  UPDATE_ERRORS_TECHNICAL,\r\n  UPDATE_SUPPLIERS_TECHNICAL,\r\n  REQUEST_FAILED,\r\n} from './const';\r\n\r\nimport { getTechnicalTeamSurveyApi } from '../../api/call';\r\nimport { saveTechnicalTeamAnswerApi, saveTechnicalTeamCommentApi } from '../../api/technicalTeamAnswer';\r\nimport { finishTechnicalTeamSurveyApi } from '../../api/supplier';\r\nimport { requestApi, sortByField } from '../../utils/action';\r\nimport setMessage from '../Generic/action';\r\n\r\nconst getDataTechnicalTeamSurveyProgress = () => ({\r\n  type: GET_TECHNICAL_TEAM_SURVEY_PROGRESS,\r\n});\r\n\r\nconst getDataTechnicalTeamSurveySuccess = data => ({\r\n  type: GET_TECHNICAL_TEAM_SURVEY_SUCCESS,\r\n  data,\r\n});\r\n\r\nconst getFailedRequest = () => ({\r\n  type: REQUEST_FAILED,\r\n});\r\n\r\nconst filterTechnicalTeamSurvey = data => ({\r\n  type: FILTER_TECHNICAL_TEAM_SURVEY,\r\n  data,\r\n});\r\n\r\nconst calculateTotal = () => ({\r\n  type: CALCULATE_TOTAL,\r\n});\r\n\r\nconst changeScore = (idSupplier, id, answer, value) => ({\r\n  type: CHANGE_SCORE_TECHNICAL,\r\n  idSupplier,\r\n  answer,\r\n  value,\r\n  new: !id,\r\n});\r\n\r\nconst changeComment = (idSupplier, id, comment, value) => ({\r\n  type: CHANGE_COMMENT_TECHNICAL,\r\n  idSupplier,\r\n  comment,\r\n  value,\r\n  new: !id,\r\n});\r\n\r\nconst updateErrors = data => ({\r\n  type: UPDATE_ERRORS_TECHNICAL,\r\n  data,\r\n});\r\n\r\nconst updateSuppliers = (idSuppliers, idSuppliersByCall) => ({\r\n  type: UPDATE_SUPPLIERS_TECHNICAL,\r\n  idSuppliers,\r\n  idSuppliersByCall,\r\n});\r\n\r\nconst setScore = (idSupplier, value, answer) => (dispatch) => {\r\n  requestApi(dispatch, getDataTechnicalTeamSurveyProgress, saveTechnicalTeamAnswerApi, answer)\r\n    .then((response) => {\r\n      dispatch(changeScore(idSupplier, answer.id, response.data.data, value));\r\n      dispatch(calculateTotal());\r\n    }).catch(() => {\r\n      dispatch(changeScore(idSupplier, answer.id, answer, null));\r\n      dispatch(getFailedRequest());\r\n    });\r\n};\r\n\r\nconst setComment = (idSupplier, value, comment) => (dispatch, getState) => {\r\n  const storedValue = getState().technicalTeamSurvey.data.suppliers.find(\r\n    element => element.id === idSupplier).comments.find(\r\n    element => element.idService === comment.idService).value;\r\n  if (storedValue !== value) {\r\n    requestApi(dispatch, getDataTechnicalTeamSurveyProgress, saveTechnicalTeamCommentApi, comment)\r\n      .then((response) => {\r\n        dispatch(changeComment(idSupplier, comment.id, response.data.data, value));\r\n      }).catch(() => {\r\n        dispatch(changeComment(idSupplier, comment.id, comment, null));\r\n        dispatch(getFailedRequest());\r\n      });\r\n  }\r\n};\r\n\r\nconst getTechnicalTeamSurvey = (year = '', supplierId = '') => (dispatch) => {\r\n  requestApi(dispatch, getDataTechnicalTeamSurveyProgress, getTechnicalTeamSurveyApi, year)\r\n    .then((response) => {\r\n      const { data } = response.data;\r\n      data.suppliers = data.suppliers.map((supplier) => {\r\n        const supplierByCall = data.suppliersByCall.find(\r\n          element => element.idSupplier === supplier.id);\r\n\r\n        const idSupplierByCall = supplierByCall.id;\r\n        const idState = supplierByCall.idState;\r\n\r\n        const items = data.masters.Item.map((item) => {\r\n          const answer = data.masters.TechnicalTeamAnswer\r\n            .find(element =>\r\n              element.idItem === item.id && element.idSupplierByCall === idSupplierByCall);\r\n          const option = answer ?\r\n            data.masters.EvaluationScale\r\n              .find(element => element.id === answer.idEvaluationScale) : null;\r\n          return {\r\n            id: item.id,\r\n            idService: item.idService,\r\n            defaultValue: {\r\n              key: option ? option.id : null,\r\n              name: option ? option.name : null,\r\n            },\r\n            value: option ? option.score : null,\r\n            error: false,\r\n          };\r\n        });\r\n\r\n        const comments = [];\r\n        const totals = [];\r\n        data.masters.Service.forEach((service) => {\r\n          const comment = data.masters.TechnicalTeamComment.find(element =>\r\n            element.idSupplierByCall === idSupplierByCall && element.idService === service.id);\r\n          comments.push({\r\n            idService: service.id,\r\n            value: comment ? comment.comment : '',\r\n          });\r\n          totals.push({\r\n            idService: service.id,\r\n            value: null,\r\n          });\r\n        });\r\n\r\n        const state = data.masters.State.find(element => element.id === idState).shortName;\r\n        const readOnly =\r\n          (state !== 'NOT_STARTED_TECHNICAL_TEAM' && state !== 'TECHNICAL_TEAM') ||\r\n          (supplierByCall.whoEvaluateOfTechnicalTeam !== '' &&\r\n          supplierByCall.whoEvaluateOfTechnicalTeam !== data.masters.User[0].name);\r\n\r\n        const required = !readOnly &&\r\n          supplierByCall.whoEvaluateOfTechnicalTeam === data.masters.User[0].name;\r\n\r\n        supplier.visible = true;\r\n        supplier.readOnly = readOnly;\r\n        supplier.required = required;\r\n        supplier.items = items;\r\n        supplier.comments = comments;\r\n        supplier.totals = totals;\r\n        supplier.total = null;\r\n        return supplier;\r\n      });\r\n      data.masters.Service.push({\r\n        id: 'total',\r\n        name: 'Resumen total',\r\n      });\r\n      data.masters.Service.forEach((service, index) => {\r\n        if (service.id !== 'total') {\r\n          data.masters.Item = data.masters.Item.concat([\r\n            {\r\n              idService: service.id,\r\n              id: `comment${index.toString()}`,\r\n              type: 'comment',\r\n              name: 'Comentarios',\r\n            },\r\n            {\r\n              idService: service.id,\r\n              id: `subtotal${index.toString()}`,\r\n              idServiceForTotal: service.id,\r\n              type: 'subtotal',\r\n              name: 'Total',\r\n            },\r\n          ]);\r\n        }\r\n        data.masters.Item.push({\r\n          idService: 'total',\r\n          id: `total${index.toString()}`,\r\n          idServiceForTotal: service.id,\r\n          type: index < data.masters.Service.length - 1 ? 'subtotal' : 'total',\r\n          name: index < data.masters.Service.length - 1 ? service.name : 'Total general',\r\n        });\r\n      });\r\n      data.masters.EvaluationScale = sortByField(data.masters.EvaluationScale, 'score');\r\n      data.supplierId = supplierId;\r\n      dispatch(getDataTechnicalTeamSurveySuccess(data));\r\n      dispatch(calculateTotal());\r\n    }).catch(() => {\r\n      dispatch(getFailedRequest());\r\n    });\r\n};\r\n\r\nconst finishTechnicalTeamSurvey = () => (dispatch, getState) => {\r\n  const { suppliers, suppliersByCall } = getState().technicalTeamSurvey.data;\r\n  const idSuppliersByCall = [];\r\n  const idSuppliers = [];\r\n  const updatedErrors = suppliers.map((supplier) => {\r\n    const updatedError = {\r\n      ...supplier,\r\n      items: supplier.items.map(item => ({\r\n        ...item,\r\n        error: supplier.visible && supplier.required && !item.value,\r\n      })),\r\n    };\r\n    if (supplier.visible && !supplier.readOnly) {\r\n      if (supplier.items.filter(item => item.value).length === supplier.items.length) {\r\n        idSuppliersByCall.push(\r\n          suppliersByCall.find(element => element.idSupplier === supplier.id).id);\r\n        idSuppliers.push(supplier.id);\r\n      }\r\n    }\r\n    return updatedError;\r\n  });\r\n\r\n  if (suppliers.filter(element => element.required).length === idSuppliersByCall.length) {\r\n    requestApi(dispatch, getDataTechnicalTeamSurveyProgress, finishTechnicalTeamSurveyApi,\r\n      { idSuppliersByCall })\r\n      .then(() => {\r\n        dispatch(updateErrors(updatedErrors));\r\n        dispatch(updateSuppliers(idSuppliers, idSuppliersByCall));\r\n      }).catch(() => {\r\n        dispatch(getFailedRequest());\r\n      });\r\n  } else {\r\n    dispatch(updateErrors(updatedErrors));\r\n    setMessage('Algunos proveedores no han sido calificados completamente', 'error');\r\n  }\r\n};\r\n\r\nexport {\r\n  getTechnicalTeamSurvey,\r\n  getFailedRequest,\r\n  filterTechnicalTeamSurvey,\r\n  setScore,\r\n  setComment,\r\n  finishTechnicalTeamSurvey,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/state/TechnicalTeamSurvey/action.js","import intance from './instance';\r\n\r\nconst saveTechnicalTeamAnswerApi = data => intance.post('TechnicalTeamAnswer?action=save', data);\r\n\r\nconst saveTechnicalTeamCommentApi = data => intance.post('TechnicalTeamComment?action=save', data);\r\n\r\nexport {\r\n  saveTechnicalTeamAnswerApi,\r\n  saveTechnicalTeamCommentApi,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/technicalTeamAnswer.js","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Spin } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport * as actions from '../../state/TechnicalTeamSurvey/action';\r\nimport formData from './formData';\r\nimport GenericForm from '../shared/GenericForm';\r\nimport TechnicalTeamSurvey from './TechnicalTeamSurvey';\r\nimport H1 from '../shared/H1';\r\n\r\nclass TechnicalTeamSurveyContainer extends Component {\r\n  componentDidMount() {\r\n    const supplierId = this.getDataSupplier();\r\n    this.props.getTechnicalTeamSurvey('', supplierId);\r\n    if (supplierId !== '') {\r\n      this.filterSupplier(supplierId);\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.data.supplierId !== this.props.data.supplierId) {\r\n      this.filterSupplier(nextProps.data.supplierId);\r\n    }\r\n  }\r\n\r\n  getDataSupplier = () => {\r\n    const path = this.props.location.pathname;\r\n    const dataPath = path.split('/');\r\n    if (dataPath.length > 2) {\r\n      return dataPath[2];\r\n    }\r\n    return '';\r\n  }\r\n\r\n  filterSupplier = (value) => {\r\n    const values = { supplier: value };\r\n    this.props.filterTechnicalTeamSurvey(values);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Spin spinning={this.props.loading}>\r\n        <H1\r\n          text=\"Calificación comité técnico\"\r\n        />\r\n        <GenericForm\r\n          {...this.props}\r\n          formData={formData}\r\n        />\r\n        <TechnicalTeamSurvey\r\n          {...this.props}\r\n        />\r\n      </Spin>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  data: state.technicalTeamSurvey.data,\r\n  loading: state.technicalTeamSurvey.loading,\r\n});\r\n\r\nexport default withRouter(connect(\r\n  mapStateToProps,\r\n  actions,\r\n)(TechnicalTeamSurveyContainer));\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/TechnicalTeamSurvey/TechnicalTeamSurveyContainer.js","const formData = ({ data, getTechnicalTeamSurvey, filterTechnicalTeamSurvey, form }) => {\r\n  const {\r\n    years,\r\n    suppliers,\r\n    masters,\r\n    supplierId,\r\n  } = data;\r\n\r\n  const handleReset = () => {\r\n    form.resetFields();\r\n    getTechnicalTeamSurvey();\r\n  };\r\n\r\n  return [\r\n    {\r\n      key: 1.1,\r\n      value: [\r\n        {\r\n          span: 8,\r\n          type: 'select',\r\n          label: 'Año',\r\n          key: 'year',\r\n          value: years && years.length > 0 ? years[0] : '',\r\n          options: years ? years.map(item => ({ id: item, name: item })) : [],\r\n          handleChange: getTechnicalTeamSurvey,\r\n          allowClear: false,\r\n          valuesToClean: {\r\n            supply: { value: '' },\r\n            category: { value: '' },\r\n            country: { value: '' },\r\n            supplier: { value: '' },\r\n          },\r\n        },\r\n        {\r\n          span: 8,\r\n          type: 'select',\r\n          label: 'Tipo de suministro',\r\n          key: 'supply',\r\n          value: '',\r\n          options: masters ? masters.Supply : [],\r\n          handleChange: (value) => {\r\n            const values = { ...form.getFieldsValue(), supply: value };\r\n            filterTechnicalTeamSurvey(values);\r\n          },\r\n        },\r\n        {\r\n          span: 8,\r\n          type: 'select',\r\n          label: 'Categoría',\r\n          key: 'category',\r\n          value: '',\r\n          options: masters ? masters.Category : [],\r\n          handleChange: (value) => {\r\n            const values = { ...form.getFieldsValue(), category: value };\r\n            filterTechnicalTeamSurvey(values);\r\n          },\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      key: 1.2,\r\n      value: [\r\n        {\r\n          span: 8,\r\n          type: 'select',\r\n          label: 'País',\r\n          key: 'country',\r\n          value: '',\r\n          options: masters ? masters.Country : [],\r\n          handleChange: (value) => {\r\n            const values = { ...form.getFieldsValue(), country: value };\r\n            filterTechnicalTeamSurvey(values);\r\n          },\r\n        },\r\n        {\r\n          span: 8,\r\n          type: 'select',\r\n          label: 'Proveedor',\r\n          key: 'supplier',\r\n          value: supplierId,\r\n          options: suppliers ? suppliers.map((item) => {\r\n            item.name = item.businessName;\r\n            return item;\r\n          }) : [],\r\n          handleChange: (value) => {\r\n            const values = { ...form.getFieldsValue(), supplier: value };\r\n            filterTechnicalTeamSurvey(values);\r\n          },\r\n        },\r\n        {\r\n          span: 8,\r\n          type: 'select',\r\n          label: 'Tamaño',\r\n          key: 'companySize',\r\n          value: '',\r\n          options: masters ? masters.CompanySize : [],\r\n          handleChange: (value) => {\r\n            const values = { ...form.getFieldsValue(), companySize: value };\r\n            filterTechnicalTeamSurvey(values);\r\n          },\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      key: 1.4,\r\n      justify: 'center',\r\n      value: [\r\n        {\r\n          span: 2,\r\n          type: 'button',\r\n          label: 'Limpiar',\r\n          key: 'clear',\r\n          buttonType: 'primary',\r\n          handleclick: handleReset,\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n};\r\n\r\nexport default formData;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/TechnicalTeamSurvey/formData.js","import React, { Component } from 'react';\r\nimport { Table, Tabs, Tooltip,\r\n  Icon, Select, Input, Button,\r\n  Row, Col,\r\n} from 'antd';\r\nimport { ContentStyle, TabsStyle, ErrorStyle } from '../../utils/style';\r\nimport Confirm from '../shared/Confirm';\r\n\r\nconst { Column } = Table;\r\nconst { TabPane } = Tabs;\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nclass TechnicalTeamSurvey extends Component {\r\n  getHelp = (title, isTab) => (\r\n    title ? (\r\n      <Tooltip placement=\"topRight\" title={title}>\r\n        <Icon\r\n          style={{\r\n            marginLeft: 5,\r\n            marginRight: 0,\r\n            color: isTab ? '#fff' : '#37907c',\r\n          }}\r\n          type={`question-circle${isTab ? '-o' : ''}`}\r\n        />\r\n      </Tooltip>\r\n    ) : null\r\n  )\r\n\r\n  getServices = () => {\r\n    const { data } = this.props;\r\n    const { masters } = data;\r\n\r\n    return masters.Service.map(service => (\r\n      <TabPane\r\n        tab={\r\n          <ContentStyle>\r\n            {service.name}\r\n            {this.getHelp(service.helpText, true)}\r\n          </ContentStyle>\r\n        }\r\n        key={service.id}\r\n      >\r\n        {\r\n          this.getSuppliers(service)\r\n        }\r\n      </TabPane>\r\n    ));\r\n  }\r\n\r\n  getSuppliers = (service) => {\r\n    const { data } = this.props;\r\n    const { suppliers } = data;\r\n\r\n    return (\r\n      <Table\r\n        rowKey={record => record.id}\r\n        dataSource={suppliers.filter(supplier => supplier.visible)}\r\n      >\r\n        {\r\n          this.getSupplierColumns()\r\n        }\r\n        {\r\n          this.getItemsColumns(service)\r\n        }\r\n      </Table>\r\n    );\r\n  }\r\n\r\n  getSupplierColumns = () => {\r\n    const { data } = this.props;\r\n    const { suppliersByCall, masters } = data;\r\n\r\n    const columns = [{\r\n      title: 'Estado',\r\n      key: 'surveyState',\r\n      render(text, record) {\r\n        const idState = suppliersByCall\r\n          .find(supplierByCall => supplierByCall.idSupplier === record.id)\r\n          .idState;\r\n        return masters.State.find(state => state.id === idState).name;\r\n      },\r\n    }, {\r\n      title: 'Evaluado por',\r\n      key: 'negotiator',\r\n      render(text, record) {\r\n        return suppliersByCall\r\n          .find(supplierByCall => supplierByCall.idSupplier === record.id)\r\n          .whoEvaluateOfTechnicalTeam;\r\n      },\r\n    }, {\r\n      title: 'Nombre del proveedor',\r\n      key: 'businessName',\r\n    }, {\r\n      title: 'Tipo de suministro',\r\n      key: 'idSupply',\r\n      render(text, record) {\r\n        return masters.Supply.find(supply => supply.id === record.idSupply).name;\r\n      },\r\n    }, {\r\n      title: 'Categoría',\r\n      key: 'idCategory',\r\n      render(text, record) {\r\n        const category = masters.Category.find(element => element.id === record.idCategory);\r\n        return category ? category.name : '';\r\n      },\r\n    }, {\r\n      title: 'Tamaño de empresa',\r\n      key: 'idCompanySize',\r\n      render(text, record) {\r\n        const companySize = masters.CompanySize.find(\r\n          element => element.id === record.idCompanySize);\r\n        return companySize ? companySize.name : '';\r\n      },\r\n    }];\r\n\r\n    return columns.map(column => (\r\n      <Column\r\n        title={column.title}\r\n        key={column.key}\r\n        dataIndex={column.key}\r\n        render={column.render}\r\n      />\r\n    ));\r\n  }\r\n\r\n  getItemsColumns = (service) => {\r\n    const { data } = this.props;\r\n    const { masters } = data;\r\n\r\n    return (\r\n      masters.Item.filter(item => item.idService === service.id).map(item => (\r\n        <Column\r\n          title={\r\n            <div>\r\n              {item.name}\r\n              {this.getHelp(item.helpText &&\r\n                item.helpText.split('\\r\\n').map(element => (\r\n                  <div>{`${element}`}</div>\r\n                )),\r\n              )}\r\n            </div>\r\n          }\r\n          key={item.id}\r\n          dataIndex={item.id}\r\n          render={(text, record) => {\r\n            switch (item.type) {\r\n              case 'comment': return this.getComment(service, record);\r\n              case 'subtotal': return this.getSubTotal(item, record);\r\n              case 'total': return record.total ? record.total.toFixed(2) : null;\r\n              default: return this.getScore(item, record);\r\n            }\r\n          }}\r\n        />\r\n      ))\r\n    );\r\n  }\r\n\r\n  getComment = (service, record) => {\r\n    const defaultValue = record.comments.find(element => element.idService === service.id).value;\r\n    return !record.readOnly ? (\r\n      <TextArea\r\n        rows={4}\r\n        defaultValue={defaultValue}\r\n        onBlur={e => this.changeComment(record, service, e.target.value)}\r\n      />\r\n    ) : defaultValue;\r\n  }\r\n\r\n  getSubTotal = (item, record) => {\r\n    const value = record.totals\r\n      .find(element => element.idService === item.idServiceForTotal)\r\n      .value;\r\n    return value ? value.toFixed(2) : null;\r\n  }\r\n\r\n  getScore = (item, record) => {\r\n    const { data } = this.props;\r\n    const { masters } = data;\r\n\r\n    const recordItem = record.items.find(element => element.id === item.id);\r\n    const defaultValue = recordItem.defaultValue;\r\n    return !record.readOnly ? (\r\n      <div>\r\n        <Select\r\n          labelInValue\r\n          key={record.id}\r\n          defaultValue={defaultValue}\r\n          allowClear={false}\r\n          style={{ width: 50 }}\r\n          onChange={(value) => {\r\n            this.changeScore(record, item, value);\r\n          }}\r\n        >\r\n          {\r\n            masters.EvaluationScale.map(option => (\r\n              <Option key={option.id} value={option.id}>\r\n                {option.name}\r\n              </Option>\r\n            ))\r\n          }\r\n        </Select>\r\n        {\r\n          recordItem.error ? (\r\n            <ErrorStyle>Campo requerido</ErrorStyle>\r\n          ) : null\r\n        }\r\n      </div>\r\n    ) : defaultValue.name;\r\n  }\r\n\r\n  changeComment = (record, service, value) => {\r\n    const { data, setComment } = this.props;\r\n    const { suppliersByCall, masters } = data;\r\n\r\n    const idSupplier = record.id;\r\n    const idService = service.id;\r\n    const idSupplierByCall = suppliersByCall.find(element =>\r\n      element.idSupplier === idSupplier).id;\r\n    let comment = masters.TechnicalTeamComment.find(element =>\r\n      element.idSupplierByCall === idSupplierByCall && element.idService === idService);\r\n    if (!comment) {\r\n      comment = {\r\n        idSupplierByCall,\r\n        idService,\r\n      };\r\n    }\r\n    comment.comment = value;\r\n    setComment(idSupplier, value, comment);\r\n  }\r\n\r\n  changeScore = (record, item, value) => {\r\n    const { data, setScore } = this.props;\r\n    const { suppliersByCall, masters } = data;\r\n\r\n    const idSupplier = record.id;\r\n    const idItem = item.id;\r\n    const idSupplierByCall = suppliersByCall.find(element =>\r\n      element.idSupplier === idSupplier).id;\r\n    let answer = masters.TechnicalTeamAnswer.find(element =>\r\n      element.idSupplierByCall === idSupplierByCall && element.idItem === idItem);\r\n    if (!answer) {\r\n      answer = {\r\n        idSupplierByCall,\r\n        idService: item.idService,\r\n        idItem,\r\n      };\r\n    }\r\n    answer.idEvaluationScale = value.key;\r\n    setScore(idSupplier, value, answer);\r\n  }\r\n\r\n  render() {\r\n    const { data, finishTechnicalTeamSurvey } = this.props;\r\n    const { suppliers, masters } = data;\r\n\r\n    return suppliers ? (\r\n      <div>\r\n        Escala de evaluación\r\n        {\r\n          this.getHelp(\r\n            masters.EvaluationScale.map(element => (\r\n              <div>{`${element.name}: ${element.helpText}`}</div>\r\n            )),\r\n          )\r\n        }\r\n        <TabsStyle\r\n          animated={false}\r\n          style={{ marginTop: 10 }}\r\n        >\r\n          {\r\n            this.getServices()\r\n          }\r\n        </TabsStyle>\r\n        {\r\n          suppliers.filter(element => element.visible && element.required).length > 0 ? (\r\n            <Row type=\"flex\" justify=\"center\">\r\n              <Col span={2}>\r\n                <Confirm\r\n                  title=\"¿Confirma que desea finalizar?\"\r\n                  method={() => finishTechnicalTeamSurvey()}\r\n                >\r\n                  <Button\r\n                    type=\"primary\"\r\n                  >\r\n                    Finalizar\r\n                  </Button>\r\n                </Confirm>\r\n              </Col>\r\n            </Row>\r\n          ) : null\r\n        }\r\n      </div>\r\n    ) : null;\r\n  }\r\n}\r\n\r\nexport default TechnicalTeamSurvey;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/TechnicalTeamSurvey/TechnicalTeamSurvey.js","import React from 'react';\r\nimport TechnicalTeamSurveyContainer from '../components/TechnicalTeamSurvey/TechnicalTeamSurveyContainer';\r\n\r\nfunction TechnicalTeamSurvey() {\r\n  return (\r\n    <TechnicalTeamSurveyContainer />\r\n  );\r\n}\r\n\r\nexport default TechnicalTeamSurvey;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/TechnicalTeamSurvey.js"],"sourceRoot":""}