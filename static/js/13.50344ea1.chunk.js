webpackJsonp([13],{1191:function(e,t,n){"use strict";function r(){return c.a.createElement(o.a,u)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),c=n.n(a),o=n(1244),i=n(212),u={title:"Seleccionar proveedores que pasar\xe1n a evaluaci\xf3n por parte del comit\xe9 gerencial",approvalText:"Pasan a evaluaci\xf3n de comit\xe9 gerencial",rejectionText:"No pasan a evaluaci\xf3n de comit\xe9 gerencial",type:i.f};t.default=r},1212:function(e,t,n){"use strict";function r(e){var t=e.text,n=e.translate;return c.a.createElement(l,null,n?c.a.createElement(i.a,{id:t}):t)}var a=n(0),c=n.n(a),o=n(29),i=n(55),u=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  color: ",";\n  margin-bottom: ",";\n"],["\n  color: ",";\n  margin-bottom: ",";\n"]),l=o.c.h1(u,function(e){return e.theme.color.primary},function(e){return e.theme.spaces.main});t.a=r},1216:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=(n(82),n(209)),a=function(e){return r.a.get("xaServicios.xsp?Open&action=getMasterList&"+e.join("&"))}},1220:function(e,t,n){"use strict";function r(e){return u.a.get("xaServicios.xsp?Open&action=getAllCategory&idSupply="+e)}function a(e){return i.a.get("Category?action=getByIdSupply&idSupply="+e)}function c(e){return i.a.post("Category?action=save",e)}function o(e){var t=e.id;return i.a.get("Category?action=delete&id="+t)}n.d(t,"c",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return o});var i=n(82),u=n(209)},1223:function(e,t,n){"use strict";function r(){return o.a.get("Supply?action=getAll")}function a(e){return o.a.post("Supply?action=save",e)}function c(e){var t=e.id;return o.a.get("Supply?action=delete&id="+t)}n.d(t,"b",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return u});var o=n(82),i=n(209),u=function(){return i.a.get("xaServicios.xsp?Open&action=getAllSuppliesSpecial")}},1227:function(e,t,n){"use strict";function r(){return{type:m.e}}function a(e,t){return{type:m.f,data:e,masters:t}}function c(){return{type:m.g}}function o(e,t,n){return{type:e?m.i:m.a,data:t,remoteId:n}}function i(e){return{type:m.c,data:e}}function u(e){return{type:m.h,value:e}}function l(e){return{type:m.b,value:e}}function p(e){return{type:m.d,categories:e}}function s(){return function(e){Object(g.a)(e,r,b.a,["Supply","Category","Country","User","Rol"]).then(function(t){Object(g.a)(e,r,h.b).then(function(n){var r=n.data.data.map(function(e){return Object.assign({},e,{visible:!0})}),c=t.data.data;c.User=c.User.filter(function(e){return e.idRols.map(function(e){return c.Rol.find(function(t){return t.id===e}).shortName}).indexOf("TECHNICAL_TEAM")>=0}),e(a(r,c))}).catch(function(){e(c())})}).catch(function(){e(c())})}}function f(e,t,n){return function(a){a(Object(v.closeModal)()),Object(g.a)(a,r,h.c,e).then(function(r){var c=r.data.data;c.visible=!0,a(o(e.id,c,t)),n&&n()}).catch(function(){a(c())})}}function d(e){return function(t){t(Object(v.closeModal)()),Object(g.a)(t,r,h.a,e).then(function(){t(i(e))}).catch(function(){t(c())})}}function y(e){return function(t){Object(g.a)(t,r,y,e).then(function(){}).catch(function(){t(Object(v.closeModal)()),t(c())})}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"getTechnicalTeam",function(){return s}),n.d(t,"saveTechnicalTeam",function(){return f}),n.d(t,"deleteTechnicalTeam",function(){return d}),n.d(t,"searchTechnicalTeam",function(){return u}),n.d(t,"editTechnicalTeam",function(){return y}),n.d(t,"changeSearchTechnicalTeam",function(){return l}),n.d(t,"getCategoryBySupply",function(){return O});var m=n(396),h=n(1228),b=n(1216),v=n(393),g=n(208),S=n(1220);n.d(t,"openModal",function(){return v.openModal}),n.d(t,"closeModal",function(){return v.closeModal});var O=function(e){return function(t){t(Object(v.loadingModal)(!0)),Object(g.a)(t,r,S.b,e).then(function(e){var n=Object(g.c)(e.data.data,"name");t(Object(v.loadingModal)(!1)),t(p(n))}).catch(function(e){t(c(e))})}}},1228:function(e,t,n){"use strict";function r(){return o.a.get("TechnicalTeam?action=getAll")}function a(e){return o.a.post("TechnicalTeam?action=save",e)}function c(e){var t=e.id;return o.a.get("TechnicalTeam?action=delete&id="+t)}n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return c});var o=n(82)},1244:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),i=n.n(o),u=n(129),l=n(22),p=n(1245),s=n(1246),f=n(1212),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),d(t,[{key:"componentDidMount",value:function(){this.props.getSuppliesSpecials(),this.props.getSupplierSelection(this.props.type)}},{key:"componentWillUnmount",value:function(){this.props.resetData()}},{key:"render",value:function(){return i.a.createElement(l.u,{spinning:this.props.loading},i.a.createElement(f.a,{text:this.props.title}),i.a.createElement(s.a,this.props))}}]),t}(o.Component),m=function(e){return{data:e.supplierSelection.data,suppliesSpecialsdata:e.supplierSelection.suppliesSpecials,loading:e.supplierSelection.loading}};t.a=Object(u.b)(m,p)(y)},1245:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"getSupplierSelection",function(){return h}),n.d(t,"getFailedRequest",function(){return y}),n.d(t,"getSuppliesSpecials",function(){return b}),n.d(t,"checkSupplier",function(){return v}),n.d(t,"sendApprovals",function(){return g}),n.d(t,"sendRejections",function(){return S}),n.d(t,"resetData",function(){return m});var r=n(399),a=n(394),c=n(1223),o=n(395),i=n(208),u=n(212),l=n(393);n.d(t,"openModal",function(){return l.openModal}),n.d(t,"closeModal",function(){return l.closeModal});var p=function(){return{type:r.b}},s=function(e){return{type:r.c,data:e}},f=function(e){return{type:r.d,data:e}},d=function(e){return{type:r.g,data:e}},y=function(){return{type:r.e}},m=function(){return{type:r.f}},h=function(e){return function(t){Object(i.a)(t,p,a.j,e).then(function(n){var r=void 0;r=e===u.f?Object(i.c)(n.data.data,"totalScoreInService",!0):Object(i.c)(n.data.data,"totalScoreOfEvaluator",!0),t(s(r))}).catch(function(e){t(y(e))})}},b=function(){return function(e){Object(i.a)(e,p,c.c).then(function(t){var n=Object(i.c)(t.data.data,"name",!0);e(f(n))}).catch(function(t){e(y(t))})}},v=function(e,t){return{type:r.a,idSupplier:e,checked:t}},g=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return function(c){c(Object(l.closeModal)()),a.length>0?Object(i.a)(c,p,o.p,{idSuppliersByCall:e,stage:t,negociator:n}).then(function(){Object(i.a)(c,p,o.a,{suppliesSpecials:a,idSuppliersByCall:e}).then(function(){c(d(e)),r(e)}).catch(function(){c(y())})}).catch(function(e){c(y(e))}):Object(i.a)(c,p,o.p,{idSuppliersByCall:e,stage:t,negociator:n}).then(function(){c(d(e)),r(e)}).catch(function(e){c(y(e))})}},S=function(e,t,n){return function(r){Object(i.a)(r,p,o.q,{idSuppliersByCall:e,stage:t}).then(function(){r(d(e)),n(e)}).catch(function(e){r(y(e))})}}},1246:function(e,t,n){"use strict";function r(e){var t=e.data,n=e.suppliesSpecialsdata,r=e.checkSupplier,a=e.sendApprovals,d=e.sendRejections,y=e.openModal,m=e.type,h=function(e,t){r(t.idSupplier,e.target.checked)},b=function(e){var t=e.length>1?"s":"";o.A.success({message:"Operaci\xf3n exitosa",description:e.length+" documento"+t+" procesado"+t})},v=function(r){var a=t.filter(function(e){return e.checked}).map(function(e){return e.idSupplierByCall});a.length>0?p.l===m?y(c.a.createElement(s.a,Object.assign({sendMethod:r,openNotification:b,checked:a},e))):p.f===m?y(c.a.createElement(f.a,Object.assign({suppliesSpecialsdata:n,sendMethod:r,checked:a},e))):r(a,e.type,"",b):Object(u.a)({text:"Debe seleccionar al menos un proveedor",type:"info"})},g=[{title:"C\xf3digo SAP",dataIndex:"sapCode",key:"sapCode"},{title:"Nombre del proveedor",dataIndex:"name",key:"name"},{title:"NIT",dataIndex:"nit",key:"nit"},{title:"Tipo de suministro",dataIndex:"supply",key:"supply"},{title:"Categor\xeda",dataIndex:"category",key:"category"},{title:"Tama\xf1o de empresa",dataIndex:"companySize",key:"companySize"},{title:"Calificaci\xf3n proveedor",dataIndex:"totalScoreOfSupplier",key:"totalScoreOfSupplier",render:function(e){return e.toFixed(2)}},{title:"Ver encuesta",dataIndex:"link",key:"link",render:function(e,t){return c.a.createElement(i.b,{to:"/supplier/"+t.idSupplier+"/"+t.idSupplierByCall},"Ver")}},{title:"Seleccionar",dataIndex:"check",key:"check",render:function(e,t){return c.a.createElement(o.d,{checked:t.checked,onChange:function(e){return h(e,t)}})}}];return e.type!==p.l&&e.type!==p.f||g.splice(7,0,{title:"Calificaci\xf3n evaluador",dataIndex:"totalScoreOfEvaluator",key:"totalScoreOfEvaluator",render:function(e){return e.toFixed(2)}}),e.type===p.f&&g.splice(8,0,{title:"Calificaci\xf3n comit\xe9 t\xe9cnico",dataIndex:"totalScoreInService",key:"totalScoreInService",render:function(e){return e.toFixed(2)}}),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("strong",null,"Total resultados: "),t.length),c.a.createElement(o.w,{rowKey:function(e){return e.id},dataSource:t,columns:g}),t.length>0?c.a.createElement(o.s,{justify:"center",align:"middle",type:"flex",gutter:24},c.a.createElement(o.e,null,c.a.createElement(l.a,{method:function(){return v(a)}},c.a.createElement(o.b,{type:"primary"},e.approvalText))),c.a.createElement(o.e,null,c.a.createElement(l.a,{method:function(){return v(d)}},c.a.createElement(o.b,{type:"primary"},e.rejectionText)))):null)}var a=n(0),c=n.n(a),o=n(22),i=n(101),u=n(214),l=n(210),p=n(212),s=n(1247),f=n(1249);t.a=r},1247:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),i=n.n(o),u=n(129),l=n(1227),p=n(1248),s=n(392),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),f(t,[{key:"componentDidMount",value:function(){this.props.getTechnicalTeam()}},{key:"render",value:function(){var e=this;return i.a.createElement(s.a,Object.assign({},this.props,{formData:p.a,submitMethod:function(t){var n=t.idUser,r=e.props.masters.User.filter(function(e){return e.id===n});e.props.sendMethod(e.props.checked,e.props.type,r[0].name,e.props.openNotification)},validate:!0}))}}]),t}(o.Component),y=function(e){return{masters:e.technicalTeam.masters}};t.a=Object(u.b)(y,l)(d)},1248:function(e,t,n){"use strict";var r=function(e){var t=e.closeModal;return[{key:1,value:[{span:24,type:"title",value:"Seleccionar personas"}]},{key:1.2,value:[{span:24,type:"select",options:e.masters.User,label:"Seleccione los negociadores",key:"idUser",required:!0}]},{key:1.4,justify:"center",value:[{span:4,type:"button",label:"Cancelar",key:"cancel",buttonType:"primary",handleclick:t},{span:4,type:"button",label:"Asignar",key:"save",buttonType:"primary",htmlType:"submit"}]}]};t.a=r},1249:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(29),o=n(22),i=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  padding: 20px;\n  .ant-checkbox-group {\n    display: flex;\n    flex-direction: column;\n    .ant-checkbox-group-item {\n      margin-bottom: 15px;\n    }\n  }\n"],["\n  padding: 20px;\n  .ant-checkbox-group {\n    display: flex;\n    flex-direction: column;\n    .ant-checkbox-group-item {\n      margin-bottom: 15px;\n    }\n  }\n"]),u=c.c.div(i),l=function(e){var t=[],n=e.suppliesSpecialsdata,r=e.closeModal,c=e.checked,i=e.sendMethod,l=(n||[]).map(function(e){return{label:e.name,value:e.id}}),p=function(e){t=e},s=function(){i(c,e.type,"",e.openNotification,t)};return a.a.createElement("div",null,a.a.createElement(o.s,null,a.a.createElement(o.e,{span:24},a.a.createElement(u,null,a.a.createElement(o.d.Group,{options:l,onChange:p})))),a.a.createElement(o.s,{justify:"center",align:"middle",type:"flex",gutter:24},a.a.createElement(o.e,{span:4},a.a.createElement(o.b,{key:"save",type:"primary",onClick:s},"Aceptar")),a.a.createElement(o.e,{span:4},a.a.createElement(o.b,{key:"cancel",type:"primary",onClick:r},"Cancelar"))))};t.a=l}});
//# sourceMappingURL=13.50344ea1.chunk.js.map